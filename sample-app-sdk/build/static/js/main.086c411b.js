/*! For license information please see main.086c411b.js.LICENSE.txt */
!function(){var e={228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},646:function(e,t,n){var r=n(228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},926:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,c,"next",e)}function c(e){t(a,i,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},100:function(e,t,n){var r=n(489),i=n(67);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},842:function(e,t,n){var r=n(754),i=n(67),o=n(585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},525:function(e,t,n){var r=n(331);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=i=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(this,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},205:function(e,t,n){var r=n(489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},67:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},585:function(e,t,n){var r=n(8).default,i=n(506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},591:function(e,t,n){var r=n(8).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=d;var h={};function p(){}function g(){}function v(){}var m={};u(m,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(x([])));b&&b!==n&&o.call(b,s)&&(m=b);var S=v.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,a,s,c){var l=f(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function T(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return g.prototype=v,u(S,"constructor",v),u(v,"constructor",g),g.displayName=u(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new k(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(S),u(S,l,"Generator"),u(S,s,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},331:function(e,t,n){var r=n(754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(646),i=n(860),o=n(379),a=n(206);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},957:function(e,t,n){var r=n(754),i=n(489),o=n(430),a=n(100);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},532:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,c=60110,l=60112,u=60113,d=60120,f=60115,h=60116,p=60121,g=60122,v=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),c=b("react.context"),l=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),h=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),v=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case h:case f:case s:return e;default:return t}}case r:return t}}}},457:function(e,t,n){"use strict";n(532)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=c(t),g=c(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!s||!s[m])){var y=f(n,m);try{l(t,m,y)}catch(b){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var O,U=Object.assign;function $(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var j=!1;function L(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function q(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function F(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case E:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:F(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return F(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function oe(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Te=null,Ce=null;function Ee(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Re(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function xe(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var Pe=!1;function _e(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Te||null!==Ce)&&(Ae(),xe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ne=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Ne=!1}function He(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Oe=!1,Ue=null,$e=!1,je=null,Le={onError:function(e){Oe=!0,Ue=e}};function qe(e,t,n,r,i,o,a,s,c){Oe=!1,Ue=null,He.apply(Le,arguments)}function Fe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(Fe(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Fe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Be(i),e;if(a===r)return Be(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function St(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Tt,Ct,Et,Rt=!1,xt=[],It=null,At=null,Pt=null,_t=new Map,Dt=new Map,Nt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ht(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=yi(e.target);if(null!==t){var n=Fe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function jt(e,t,n){$t(e)&&n.delete(t)}function Lt(){Rt=!1,null!==It&&$t(It)&&(It=null),null!==At&&$t(At)&&(At=null),null!==Pt&&$t(Pt)&&(Pt=null),_t.forEach(jt),Dt.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Lt)))}function Ft(e){function t(t){return qt(t,e)}if(0<xt.length){qt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&qt(It,e),null!==At&&qt(At,e),null!==Pt&&qt(Pt,e),_t.forEach(t),Dt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Nt.shift()}var zt=S.ReactCurrentBatchConfig,Bt=!0;function Wt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Vt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Gt(e,t,n,r){if(Bt){var i=Yt(e,t,n,r);if(null===i)Br(e,t,r,Kt,n),Ht(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return At=Ot(At,e,t,n,r,i),!0;case"mouseover":return Pt=Ot(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _t.set(o,Ot(_t.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Ot(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ht(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Yt(e,t,n,r))&&Br(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=Fe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=U({},ln,{view:0,detail:0}),fn=on(dn),hn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),gn=on(U({},hn,{dataTransfer:0})),vn=on(U({},dn,{relatedTarget:0})),mn=on(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),Sn=on(U({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function En(){return Cn}var Rn=U({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Rn),In=on(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=on(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(_n),Nn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var On=u&&"TextEvent"in window&&!Hn,Un=u&&(!Mn||Hn&&8<Hn&&11>=Hn),$n=String.fromCharCode(32),jn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Re(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Gn=null;function Kn(e){$r(e,0)}function Yn(e){if(G(Si(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Zn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Gn=Vn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,we(e)),_e(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,br=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Vr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Tr={},Cr={};function Er(e){if(Tr[e])return Tr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Tr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Rr=Er("animationend"),xr=Er("animationiteration"),Ir=Er("animationstart"),Ar=Er("transitionend"),Pr=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Pr.set(e,t),c(t,[e])}for(var Nr=0;Nr<_r.length;Nr++){var Mr=_r[Nr];Dr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Dr(Rr,"onAnimationEnd"),Dr(xr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(qe.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var u=Ue;Oe=!1,Ue=null,$e||($e=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Ur(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Ur(i,s,l),o=c}}}if($e)throw e=je,$e=!1,je=null,e}function jr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[qr]){e[qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Lr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Vt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}_e((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":l="focus",c=vn;break;case"focusout":l="blur",c=vn;break;case"beforeblur":case"afterblur":c=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=An;break;case Rr:case xr:case Ir:c=mn;break;case Ar:c=Pn;break;case"scroll":c=fn;break;case"wheel":c=Dn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=De(p,f))&&u.push(Wr(p,g,h)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Se||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=Fe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:Si(c),h=null==l?s:Si(l),(s=new u(g,p+"leave",c,n,i)).target=d,s.relatedTarget=h,g=null,yi(i)===r&&((u=new u(f,p+"enter",l,n,i)).target=h,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(f=l,p=0,h=u=c;h;h=Gr(h))p++;for(h=0,g=f;g;g=Gr(g))h++;for(;0<p-h;)u=Gr(u),p--;for(;0<h-p;)f=Gr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gr(u),f=Gr(f)}u=null}else u=null;null!==c&&Kr(a,s,c,u,!1),null!==l&&null!==d&&Kr(a,d,l,u,!0)}if("select"===(c=(s=r?Si(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Jn;else if(Bn(s))if(Qn)v=ar;else{v=ir;var m=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?Si(r):window,e){case"focusin":(Bn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Sr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Ln(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(y=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Fn=!0)),0<(m=Vr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,$n);case"textInput":return(e=t.data)===$n&&jn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Mn&&Ln(e,t)?(e=en(),Xt=Zt=Qt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}$r(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=De(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=De(n,o))&&a.unshift(Wr(n,c,s)):i||null!=(c=De(n,o))&&a.push(Wr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ft(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ft(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,vi="__reactListeners$"+di,mi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[hi]||null}var ki=[],Ti=-1;function Ci(e){return{current:e}}function Ei(e){0>Ti||(e.current=ki[Ti],ki[Ti]=null,Ti--)}function Ri(e,t){Ti++,ki[Ti]=e.current,e.current=t}var xi={},Ii=Ci(xi),Ai=Ci(!1),Pi=xi;function _i(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Ei(Ai),Ei(Ii)}function Mi(e,t,n){if(Ii.current!==xi)throw Error(o(168));Ri(Ii,t),Ri(Ai,n)}function Hi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return U({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Pi=Ii.current,Ri(Ii,e),Ri(Ai,Ai.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Hi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ii),Ri(Ii,e)):Ei(Ai),Ri(Ai,n)}var $i=null,ji=!1,Li=!1;function qi(e){null===$i?$i=[e]:$i.push(e)}function Fi(){if(!Li&&null!==$i){Li=!0;var e=0,t=bt;try{var n=$i;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$i=null,ji=!1}catch(i){throw null!==$i&&($i=$i.slice(e+1)),Ge(Xe,Fi),i}finally{bt=t,Li=!1}}return null}var zi=[],Bi=0,Wi=null,Vi=0,Gi=[],Ki=0,Yi=null,Ji=1,Qi="";function Zi(e,t){zi[Bi++]=Vi,zi[Bi++]=Wi,Wi=e,Vi=t}function Xi(e,t,n){Gi[Ki++]=Ji,Gi[Ki++]=Qi,Gi[Ki++]=Yi,Yi=e;var r=Ji;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Ji=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function to(e){for(;e===Wi;)Wi=zi[--Bi],zi[Bi]=null,Vi=zi[--Bi],zi[Bi]=null;for(;e===Yi;)Yi=Gi[--Ki],Gi[Ki]=null,Qi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=_l(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_l(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=S.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ci(null),bo=null,So=null,wo=null;function ko(){wo=So=bo=null}function To(e){var t=yo.current;Ei(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,wo=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ss=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===bo)throw Error(o(308));So=e,bo.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var xo=null;function Io(e){null===xo?xo=[e]:xo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Io(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var _o=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function No(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ho(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ic)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Io(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Oo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $o(e,t,n,r){var i=e.updateQueue;_o=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(a=0,u=l=c=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:_o=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=h,c=d):u=u.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Oc|=a,e.lanes=a,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Lo=(new r.Component).refs;function qo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Fo={isMounted:function(e){return!!(e=e._reactInternals)&&Fe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ho(e,o,i))&&(nl(t,e,i,r),Oo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ho(e,o,i))&&(nl(t,e,i,r),Oo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ho(e,i,r))&&(nl(t,e,r,n),Oo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Bo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Di(t)?Pi:Ii.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Fo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function Vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Lo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Di(t)?Pi:Ii.current,i.context=_i(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(qo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Fo.enqueueReplaceState(i,i.state,null),$o(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Lo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===T?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case k:return(t=$l(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||H(t))return(t=Hl(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||H(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||H(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function g(i,o,s,c){for(var l=null,u=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(i,d,s[g],c);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,g),null===u?l=m:u.sibling=m,u=m,d=v}if(g===s.length)return n(i,d),io&&Zi(i,g),l;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],c))&&(o=a(d,o,g),null===u?l=d:u.sibling=d,u=d);return io&&Zi(i,g),l}for(d=r(i,d);g<s.length;g++)null!==(v=p(d,i,g,s[g],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=a(v,o,g),null===u?l=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}function v(i,s,c,l){var u=H(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,g=s,v=s=0,m=null,y=c.next();null!==g&&!y.done;v++,y=c.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,l);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b,g=m}if(y.done)return n(i,g),io&&Zi(i,v),u;if(null===g){for(;!y.done;v++,y=c.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return io&&Zi(i,v),u}for(g=r(i,g);!y.done;v++,y=c.next())null!==(y=p(g,i,v,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,v),u}return function e(r,o,a,c){if("object"===typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,u=o;null!==u;){if(u.key===l){if((l=a.type)===T){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===D&&Yo(l)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Go(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===T?((o=Hl(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Ml(a.type,a.key,a.props,null,r.mode,c)).ref=Go(r,o,a),c.return=r,r=c)}return s(r);case k:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=$l(a,r.mode,c)).return=r,r=o}return s(r);case D:return e(r,o,(u=a._init)(a._payload),c)}if(te(a))return g(r,o,a,c);if(H(a))return v(r,o,a,c);Ko(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Ul(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Qo=Jo(!0),Zo=Jo(!1),Xo={},ea=Ci(Xo),ta=Ci(Xo),na=Ci(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ri(na,t),Ri(ta,e),Ri(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),Ri(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(Ri(ta,e),Ri(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var ca=Ci(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var fa=S.ReactCurrentDispatcher,ha=S.ReactCurrentBatchConfig,pa=0,ga=null,va=null,ma=null,ya=!1,ba=!1,Sa=0,wa=0;function ka(){throw Error(o(321))}function Ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ca(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:cs,e=n(r,i),ba){a=0;do{if(ba=!1,Sa=0,25<=a)throw Error(o(301));a+=1,ma=va=null,t.updateQueue=null,fa.current=ls,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==va&&null!==va.next,pa=0,ma=va=ga=null,ya=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==Sa;return Sa=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?ga.memoizedState=ma=e:ma=ma.next=e,ma}function xa(){if(null===va){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?ga.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?ga.memoizedState=ma=e:ma=ma.next=e}return ma}function Ia(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=f,s=r):l=l.next=f,ga.lanes|=d,Oc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(Ss=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Oc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Ss=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Da(e,t){var n=ga,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ss=!0),r=r.queue,Ba(Ha.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,ja(9,Ma.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(o(349));0!==(30&pa)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Ua(e)}function Ha(e,t,n){return n((function(){Oa(t)&&Ua(e)}))}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ua(e){var t=Po(e,1);null!==t&&nl(t,e,1,-1)}function $a(e){var t=Ra();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function La(){return xa().memoizedState}function qa(e,t,n,r){var i=Ra();ga.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Fa(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Ta(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}ga.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function za(e,t){return qa(8390656,8,e,t)}function Ba(e,t){return Fa(2048,8,e,t)}function Wa(e,t){return Fa(4,2,e,t)}function Va(e,t){return Fa(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4,4,Ga.bind(null,t,e),n)}function Ya(){}function Ja(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ta(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Oc|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return xa().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ao(e,t,n,r))){nl(n,e,r,el()),os(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,Io(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ao(e,t,i,r))&&(nl(n,e,r,i=el()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Ro,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Ro,useCallback:function(e,t){return Ra().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return qa(4,2,e,t)},useMemo:function(e,t){var n=Ra();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ra();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ra().memoizedState=e},useState:$a,useDebugValue:Ya,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=$a(!1),t=e[0];return e=Xa.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Ra();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ac)throw Error(o(349));0!==(30&pa)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ha.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,Ma.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ra(),t=Ac.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=Sa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Ro,useCallback:Ja,useContext:Ro,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:Va,useMemo:Qa,useReducer:Aa,useRef:La,useState:function(){return Aa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){return Za(xa(),va.memoizedState,e)},useTransition:function(){return[Aa(Ia)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ro,useCallback:Ja,useContext:Ro,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:Va,useMemo:Qa,useReducer:Pa,useRef:La,useState:function(){return Pa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){var t=xa();return null===va?t.memoizedState=e:Za(t,va.memoizedState,e)},useTransition:function(){return[Pa(Ia)[0],xa().memoizedState]},useMutableSource:_a,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bc||(Bc=!0,Wc=r),fs(0,t)},n}function gs(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Vc?Vc=new Set([this]):Vc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Ho(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=S.ReactCurrentOwner,Ss=!1;function ws(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Qo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Ca(e,t,n,r,o,i),n=Ea(),null===e||Ss?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Ts(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Bs(e,t,i)}return t.flags|=1,(e=Nl(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Bs(e,t,i);0!==(131072&e.flags)&&(Ss=!0)}}return xs(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ri(Nc,Dc),Dc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ri(Nc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ri(Nc,Dc),Dc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ri(Nc,Dc),Dc|=r;return ws(e,t,i,n),t.child}function Rs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=Di(n)?Pi:Ii.current;return o=_i(t,o),Eo(t,i),n=Ca(e,t,n,r,o,i),r=Ea(),null===e||Ss?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bs(e,t,i))}function Is(e,t,n,r,i){if(Di(n)){var o=!0;Oi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)zs(e,t),Bo(t,n,r),Vo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ro(l):l=_i(t,l=Di(n)?Pi:Ii.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&Wo(t,a,r,l),_o=!1;var f=t.memoizedState;a.state=f,$o(t,r,a,i),c=t.memoizedState,s!==r||f!==c||Ai.current||_o?("function"===typeof u&&(qo(t,n,u,r),c=t.memoizedState),(s=_o||zo(t,n,s,r,f,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,No(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:mo(t.type,s),a.props=l,d=t.pendingProps,f=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ro(c):c=_i(t,c=Di(n)?Pi:Ii.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==c)&&Wo(t,a,r,c),_o=!1,f=t.memoizedState,a.state=f,$o(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Ai.current||_o?("function"===typeof h&&(qo(t,n,h,r),p=t.memoizedState),(l=_o||zo(t,n,l,r,f,p,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Rs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),Bs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),ia(e,t.containerInfo)}function _s(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Ns,Ms,Hs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,a=ca.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ri(ca,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ol(c,i,0,null),e=Hl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Hs,e):$s(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ol({mode:"visible",children:r.children},i,0,null),(a=Hl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Hs,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,js(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(c=0!==(s&e.childLanes),Ss||c){if(null!==(r=Ac)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),nl(r,e,i,-1))}return gl(),js(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Ki++]=Ji,Gi[Ki++]=Qi,Gi[Ki++]=Yi,Ji=e.id,Qi=e.overflow,Yi=t),(t=$s(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nl(r,s):(s=Hl(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?Os(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Hs,i}return e=(s=e.child).sibling,i=Nl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function $s(e,t){return(t=Ol({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&go(r),Qo(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ls(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ls(e,n,t);else if(19===e.tag)Ls(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ri(ca,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Oc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return Di(t.type)&&Ni(),Vs(t),null;case 3:return r=t.stateNode,oa(),Ei(Ai),Ei(Ii),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Vs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Vs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Hr.length;i++)jr(Hr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":J(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":V(r),X(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fi]=t,e[hi]=r,Ds(e,t),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hr.length;i++)jr(Hr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ve(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":V(e),X(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ms(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Vs(t),null;case 13:if(Ei(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ca.current)?0===Mc&&(Mc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return oa(),null===e&&Fr(t.stateNode.containerInfo),Vs(t),null;case 10:return To(t.type._context),Vs(t),null;case 19:if(Ei(ca),null===(a=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ws(a,!1);else{if(0!==Mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=la(e))){for(t.flags|=128,Ws(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ri(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Fc&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Vs(t),null}else 2*Qe()-a.renderingStartTime>Fc&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ca.current,Ri(ca,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Ai),Ei(Ii),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ca),null;case 4:return oa(),null;case 10:return To(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&jr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Js=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Cl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[gi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)hc(e,t,n),n=n.sibling}function hc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||Xs(n,t);case 6:var r=uc,i=dc;uc=null,fc(e,t,n),dc=i,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Ft(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=dc,uc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),uc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&ec(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Js&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cl(n,t,s)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fc(e,t,n),Js=r):fc(e,t,n);break;default:fc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));hc(a,s,i),uc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Cl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),mc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(v){Cl(e,e.return,v)}try{nc(5,e,e.return)}catch(v){Cl(e,e.return,v)}}break;case 1:gc(t,e),mc(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(gc(t,e),mc(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){Cl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&Q(i,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,u)}switch(c){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(v){Cl(e,e.return,v)}}break;case 6:if(gc(t,e),mc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Cl(e,e.return,v)}}break;case 3:if(gc(t,e),mc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ft(t.containerInfo)}catch(v){Cl(e,e.return,v)}break;case 4:default:gc(t,e),mc(e);break;case 13:gc(t,e),mc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(qc=Qe())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(u=Js)||d,gc(t,e),Js=u):gc(t,e),mc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(p=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:nc(4,h,h.return);break;case 1:Xs(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Cl(r,n,v)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){wc(f);continue}}null!==p?(p.return=h,Zs=p):wc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",s))}catch(v){Cl(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Cl(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gc(t,e),mc(e),4&r&&pc(e);case 21:}}function mc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lc(e,sc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(o(161))}}catch(s){Cl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Zs=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=a,(Js=c)&&!l)for(Zs=i;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?kc(i):null!==c?(c.return=a,Zs=c):kc(i);for(;null!==o;)Zs=o,bc(o,t,n),o=o.sibling;Zs=i,Ys=s,Js=l}Sc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):Sc(e)}}function Sc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ft(f)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ic(t)}catch(h){Cl(t,t.return,h)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function kc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Cl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Cl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Cl(t,o,c)}break;case 5:var a=t.return;try{ic(t)}catch(c){Cl(t,a,c)}}}catch(c){Cl(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Tc,Cc=Math.ceil,Ec=S.ReactCurrentDispatcher,Rc=S.ReactCurrentOwner,xc=S.ReactCurrentBatchConfig,Ic=0,Ac=null,Pc=null,_c=0,Dc=0,Nc=Ci(0),Mc=0,Hc=null,Oc=0,Uc=0,$c=0,jc=null,Lc=null,qc=0,Fc=1/0,zc=null,Bc=!1,Wc=null,Vc=null,Gc=!1,Kc=null,Yc=0,Jc=0,Qc=null,Zc=-1,Xc=0;function el(){return 0!==(6&Ic)?Qe():-1!==Zc?Zc:Zc=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ic)&&0!==_c?_c&-_c:null!==vo.transition?(0===Xc&&(Xc=gt()),Xc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nl(e,t,n,r){if(50<Jc)throw Jc=0,Qc=null,Error(o(185));mt(e,n,r),0!==(2&Ic)&&e===Ac||(e===Ac&&(0===(2&Ic)&&(Uc|=n),4===Mc&&sl(e,_c)),rl(e,r),1===n&&0===Ic&&0===(1&t.mode)&&(Fc=Qe()+500,ji&&Fi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ac?_c:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){ji=!0,qi(e)}(cl.bind(null,e)):qi(cl.bind(null,e)),ai((function(){0===(6&Ic)&&Fi()})),n=null;else{switch(St(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zc=-1,Xc=0,0!==(6&Ic))throw Error(o(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ft(e,e===Ac?_c:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Ic;Ic|=2;var a=pl();for(Ac===e&&_c===t||(zc=null,Fc=Qe()+500,fl(e,t));;)try{yl();break}catch(c){hl(e,c)}ko(),Ec.current=a,Ic=i,null!==Pc?t=0:(Ac=null,_c=0,t=Mc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Hc,fl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Hc,fl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wl(e,Lc,zc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=qc+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Lc,zc),t);break}wl(e,Lc,zc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cc(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Lc,zc),r);break}wl(e,Lc,zc);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Lc,Lc=n,null!==t&&al(t)),e}function al(e){null===Lc?Lc=e:Lc.push.apply(Lc,e)}function sl(e,t){for(t&=~$c,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ic))throw Error(o(327));kl();var t=ft(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Hc,fl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Lc,zc),rl(e,Qe()),null}function ll(e,t){var n=Ic;Ic|=1;try{return e(t)}finally{0===(Ic=n)&&(Fc=Qe()+500,ji&&Fi())}}function ul(e){null!==Kc&&0===Kc.tag&&0===(6&Ic)&&kl();var t=Ic;Ic|=1;var n=xc.transition,r=bt;try{if(xc.transition=null,bt=1,e)return e()}finally{bt=r,xc.transition=n,0===(6&(Ic=t))&&Fi()}}function dl(){Dc=Nc.current,Ei(Nc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:oa(),Ei(Ai),Ei(Ii),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ca);break;case 10:To(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Pc=e=Nl(e.current,null),_c=Dc=t,Mc=0,Hc=null,$c=Uc=Oc=0,Lc=jc=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function hl(e,t){for(;;){var n=Pc;try{if(ko(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ma=va=ga=null,ba=!1,Sa=0,Rc.current=null,null===n||null===n.return){Mc=1,Hc=t,Pc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=_c,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,c,0,t),1&p.mode&&vs(a,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}if(0===(1&t)){vs(a,u,t),gl();break e}l=Error(o(426))}else if(io&&1&c.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,c,0,t),go(us(l,c));break e}}a=l=us(l,c),4!==Mc&&(Mc=2),null===jc?jc=[a]:jc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,ps(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vc||!Vc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,gs(a,c,t));break e}}a=a.return}while(null!==a)}Sl(n)}catch(S){t=S,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function pl(){var e=Ec.current;return Ec.current=as,null===e?as:e}function gl(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===Ac||0===(268435455&Oc)&&0===(268435455&Uc)||sl(Ac,_c)}function vl(e,t){var n=Ic;Ic|=2;var r=pl();for(Ac===e&&_c===t||(zc=null,fl(e,t));;)try{ml();break}catch(i){hl(e,i)}if(ko(),Ic=n,Ec.current=r,null!==Pc)throw Error(o(261));return Ac=null,_c=0,Mc}function ml(){for(;null!==Pc;)bl(Pc)}function yl(){for(;null!==Pc&&!Ye();)bl(Pc)}function bl(e){var t=Tc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?Sl(e):Pc=t,Rc.current=null}function Sl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Dc)))return void(Pc=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Mc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Mc&&(Mc=5)}function wl(e,t,n){var r=bt,i=xc.transition;try{xc.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Kc);if(0!==(6&Ic))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ac&&(Pc=Ac=null,_c=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,Al(tt,(function(){return kl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=xc.transition,xc.transition=null;var s=bt;bt=1;var c=Ic;Ic|=4,Rc.current=null,function(e,t){if(ei=Bt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(c=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(c=s),h===a&&++d===r&&(l=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Bt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(o(163))}}catch(w){Cl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=tc,tc=!1}(e,n),vc(n,e),pr(ti),Bt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),Je(),Ic=c,bt=s,xc.transition=a}else e.current=n;if(Gc&&(Gc=!1,Kc=e,Yc=i),0===(a=e.pendingLanes)&&(Vc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Bc)throw Bc=!1,e=Wc,Wc=null,e;0!==(1&Yc)&&0!==e.tag&&kl(),0!==(1&(a=e.pendingLanes))?e===Qc?Jc++:(Jc=0,Qc=e):Jc=0,Fi()}(e,t,n,r)}finally{xc.transition=i,bt=r}return null}function kl(){if(null!==Kc){var e=St(Yc),t=xc.transition,n=bt;try{if(xc.transition=null,bt=16>e?16:e,null===Kc)var r=!1;else{if(e=Kc,Kc=null,Yc=0,0!==(6&Ic))throw Error(o(331));var i=Ic;for(Ic|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var h=(d=Zs).sibling,p=d.return;if(oc(d),d===u){Zs=null;break}if(null!==h){h.return=p,Zs=h;break}Zs=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var S=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==S)S.return=s,Zs=S;else e:for(s=b;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(k){Cl(c,c.return,k)}if(c===s){Zs=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,Zs=w;break e}Zs=c.return}}if(Ic=i,Fi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,xc.transition=t}}return!1}function Tl(e,t,n){e=Ho(e,t=ps(0,t=us(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function Cl(e,t,n){if(3===e.tag)Tl(e,e,n);else for(;null!==t;){if(3===t.tag){Tl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vc||!Vc.has(r))){t=Ho(t,e=gs(t,e=us(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(_c&n)===n&&(4===Mc||3===Mc&&(130023424&_c)===_c&&500>Qe()-qc?fl(e,0):$c|=n),rl(e,t)}function Rl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Po(e,t))&&(mt(e,t,n),rl(e,n))}function xl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rl(e,n)}function Il(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Rl(e,n)}function Al(e,t){return Ge(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _l(e,t,n,r){return new Pl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=_l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return Hl(n.children,i,a,t);case C:s=8,i|=8;break;case E:return(e=_l(12,n,t,2|i)).elementType=E,e.lanes=a,e;case A:return(e=_l(13,n,t,i)).elementType=A,e.lanes=a,e;case P:return(e=_l(19,n,t,i)).elementType=P,e.lanes=a,e;case N:return Ol(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case x:s=9;break e;case I:s=11;break e;case _:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=_l(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hl(e,t,n,r){return(e=_l(7,e,r,t)).lanes=n,e}function Ol(e,t,n,r){return(e=_l(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=_l(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=_l(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ll(e,t,n,r,i,o,a,s,c){return e=new jl(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=_l(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function ql(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Fl(e){if(!e)return xi;e:{if(Fe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Hi(e,n,t)}return t}function zl(e,t,n,r,i,o,a,s,c){return(e=Ll(n,r,!0,e,0,o,0,s,c)).context=Fl(null),n=e.current,(o=Mo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Ho(n,o,i),e.current.lanes=i,mt(e,i,r),rl(e,r),e}function Bl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=Fl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ho(i,t,a))&&(nl(e,i,a,o),Oo(e,i,a)),a}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Vl(e,t),(e=e.alternate)&&Vl(e,t)}Tc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Ss=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ss=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Di(t.type)&&Oi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ri(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ri(ca,1&ca.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ri(ca,1&ca.current),null!==(e=Bs(e,t,n))?e.sibling:null);Ri(ca,1&ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Bs(e,t,n)}(e,t,n);Ss=0!==(131072&e.flags)}else Ss=!1,io&&0!==(1048576&t.flags)&&Xi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=_i(t,Ii.current);Eo(t,n),i=Ca(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=Fo,t.stateNode=i,i._reactInternals=t,Vo(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===_)return 14}return 2}(r),e=mo(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ts(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,No(e,t),$o(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=_s(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=_s(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Bs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Rs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Us(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ri(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Bs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Mo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Co(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Co(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=Ro(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Ts(e,t,r,i=mo(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),zs(e,t),t.tag=1,Di(r)?(e=!0,Oi(t)):e=!1,Eo(t,n),Bo(t,r,i),Vo(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Fs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wl(a);s.call(e)}}Bl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wl(a);o.call(e)}}var a=zl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=a,e[pi]=a.current,Fr(8===e.nodeType?e.parentNode:e),ul(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(c);s.call(e)}}var c=Ll(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[pi]=c.current,Fr(8===e.nodeType?e.parentNode:e),ul((function(){Bl(t,c,n,r)})),c}(n,t,e,i,r);return Wl(a)}Jl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Bl(e,t,null,null)},Jl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Bl(null,e,null,null)})),t[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Qe()),0===(6&Ic)&&(Fc=Qe()+500,Fi()))}break;case 13:ul((function(){var t=Po(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},kt=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},Tt=function(e){if(13===e.tag){var t=tl(e),n=Po(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=ll,Ae=ul;var tu={usingClientEntryPoint:!1,Events:[bi,Si,wi,Re,xe,ll]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return ql(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ll(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Fr(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Fr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case v:case g:case c:return e;default:return t}}case i:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===S||e.$$typeof===m)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:s.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var S=b.prototype=new y;S.constructor=b,g(S,m.prototype),S.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,T={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:T.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+I(c,0):o,w(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(R(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",w(e))for(var l=0;l<e.length;l++){var u=o+I(s=e[l],l);c+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=A(s=s.value,t,i,u=o+I(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},N={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:N,ReactCurrentOwner:T};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function w(e){if(v=!1,S(e),!g)if(null!==r(l))g=!0,N(k);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function k(e,n){g=!1,v&&(v=!1,y(R),R=-1),p=!0;var o=h;try{for(S(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!A());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),S(n)}else i(l);f=r(l)}if(null!==f)var c=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),c=!1}return c}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,C=!1,E=null,R=-1,x=5,I=-1;function A(){return!(t.unstable_now()-I<x)}function P(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?T():(C=!1,E=null)}}else C=!1}if("function"===typeof b)T=function(){b(P)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,D=_.port2;_.port1.onmessage=P,T=function(){D.postMessage(null)}}else T=function(){m(P,0)};function N(e){E=e,C||(C=!0,T())}function M(e,n){R=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(v?(y(R),R=-1):v=!0,M(w,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,N(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},381:function(e,t,n){var r,i=n(319).default,o=n(591).default,a=n(926).default,s=n(269).default,c=n(525).default,l=n(754).default,u=n(506).default,d=n(957).default,f=n(913).default,h=n(575).default,p=n(205).default,g=n(842).default;r=function(){return function(){"use strict";var e=[,function(e,t,n){n.r(t),n.d(t,{LIBRARY_VERSION:function(){return r}});var r="0.20.0"},function(e,t,n){n.r(t),n.d(t,{ContentTypeUnsupportedError:function(){return r.ContentTypeUnsupportedError},RequestPendingError:function(){return r.RequestPendingError},SessionDescriptionHandlerError:function(){return r.SessionDescriptionHandlerError},SessionTerminatedError:function(){return r.SessionTerminatedError},StateTransitionError:function(){return r.StateTransitionError},Ack:function(){return i.Ack},Bye:function(){return o.Bye},EmitterImpl:function(){return a.EmitterImpl},Info:function(){return s.Info},Invitation:function(){return c.Invitation},Inviter:function(){return l.Inviter},Message:function(){return u.Message},Messager:function(){return d.Messager},Notification:function(){return f.Notification},PublisherState:function(){return h.PublisherState},Publisher:function(){return p.Publisher},Referral:function(){return g.Referral},RegistererState:function(){return v.RegistererState},Registerer:function(){return m.Registerer},SessionState:function(){return y.SessionState},Session:function(){return b.Session},Subscriber:function(){return S.Subscriber},SubscriptionState:function(){return w.SubscriptionState},Subscription:function(){return k.Subscription},TransportState:function(){return T.TransportState},SIPExtension:function(){return C.SIPExtension},UserAgentRegisteredOptionTags:function(){return C.UserAgentRegisteredOptionTags},UserAgentState:function(){return E.UserAgentState},UserAgent:function(){return R.UserAgent}});var r=n(3),i=n(10),o=n(11),a=n(12),s=n(13),c=n(14),l=n(37),u=n(31),d=n(38),f=n(32),h=n(39),p=n(40),g=n(33),v=n(41),m=n(42),y=n(16),b=n(15),S=n(43),w=n(45),k=n(44),T=n(47),C=n(34),E=n(48),R=n(49)},function(e,t,n){n.r(t),n.d(t,{ContentTypeUnsupportedError:function(){return r.ContentTypeUnsupportedError},RequestPendingError:function(){return i.RequestPendingError},SessionDescriptionHandlerError:function(){return o.SessionDescriptionHandlerError},SessionTerminatedError:function(){return a.SessionTerminatedError},StateTransitionError:function(){return s.StateTransitionError}});var r=n(4),i=n(6),o=n(7),a=n(8),s=n(9)},function(e,t,n){n.r(t),n.d(t,{ContentTypeUnsupportedError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){return h(this,n),t.call(this,e||"Unsupported content type.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{Exception:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){var r;return h(this,n),r=t.call(this,e),Object.setPrototypeOf(u(r),(this instanceof n?this.constructor:void 0).prototype),r}return f(n)}(d(Error))},function(e,t,n){n.r(t),n.d(t,{RequestPendingError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){return h(this,n),t.call(this,e||"Request pending.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{SessionDescriptionHandlerError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){return h(this,n),t.call(this,e||"Unspecified session description handler error.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{SessionTerminatedError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(){return h(this,n),t.call(this,"The session has terminated.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{StateTransitionError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){return h(this,n),t.call(this,e||"An error occurred during state transition.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{Ack:function(){return r}});var r=function(){function e(t){h(this,e),this.incomingAckRequest=t}return f(e,[{key:"request",get:function(){return this.incomingAckRequest.message}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Bye:function(){return r}});var r=function(){function e(t){h(this,e),this.incomingByeRequest=t}return f(e,[{key:"request",get:function(){return this.incomingByeRequest.message}},{key:"accept",value:function(e){return this.incomingByeRequest.accept(e),Promise.resolve()}},{key:"reject",value:function(e){return this.incomingByeRequest.reject(e),Promise.resolve()}}]),e}()},function(e,t,n){n.r(t),n.d(t,{EmitterImpl:function(){return r}});var r=function(){function e(){h(this,e),this.listeners=new Array}return f(e,[{key:"addListener",value:function(e,t){var n=this;!0===(null===t||void 0===t?void 0:t.once)?this.listeners.push((function t(r){n.removeListener(t),e(r)})):this.listeners.push(e)}},{key:"emit",value:function(e){this.listeners.slice().forEach((function(t){return t(e)}))}},{key:"removeAllListeners",value:function(){this.listeners=[]}},{key:"removeListener",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))}},{key:"on",value:function(e){return this.addListener(e)}},{key:"off",value:function(e){return this.removeListener(e)}},{key:"once",value:function(e){return this.addListener(e,{once:!0})}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Info:function(){return r}});var r=function(){function e(t){h(this,e),this.incomingInfoRequest=t}return f(e,[{key:"request",get:function(){return this.incomingInfoRequest.message}},{key:"accept",value:function(e){return this.incomingInfoRequest.accept(e),Promise.resolve()}},{key:"reject",value:function(e){return this.incomingInfoRequest.reject(e),Promise.resolve()}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Invitation:function(){return k}});var r=n(21),i=n(17),o=n(30),a=n(35),s=n(36),d=n(20),v=n(4),m=n(7),y=n(8),b=n(15),S=n(16),w=n(34),k=function(e){p(n,e);var t=g(n);function n(e,i){var o;h(this,n),(o=t.call(this,e)).incomingInviteRequest=i,o.disposed=!1,o.expiresTimer=void 0,o.isCanceled=!1,o.rel100="none",o.rseq=Math.floor(1e4*Math.random()),o.userNoAnswerTimer=void 0,o.waitingForPrack=!1,o.logger=e.getLogger("sip.Invitation");var a=o.incomingInviteRequest.message,s=a.getHeader("require");s&&s.toLowerCase().includes("100rel")&&(o.rel100="required");var c=a.getHeader("supported");if(c&&c.toLowerCase().includes("100rel")&&(o.rel100="supported"),a.toTag=i.toTag,"string"!==typeof a.toTag)throw new TypeError("toTag should have been a string.");if(o.userNoAnswerTimer=setTimeout((function(){i.reject({statusCode:480}),o.stateTransition(S.SessionState.Terminated)}),o.userAgent.configuration.noAnswerTimeout?1e3*o.userAgent.configuration.noAnswerTimeout:6e4),a.hasHeader("expires")){var l=1e3*Number(a.getHeader("expires")||0);o.expiresTimer=setTimeout((function(){o.state===S.SessionState.Initial&&(i.reject({statusCode:487}),o.stateTransition(S.SessionState.Terminated))}),l)}var d=o.request.getHeader("P-Asserted-Identity");d&&(o._assertedIdentity=r.Grammar.nameAddrHeaderParse(d)),o._contact=o.userAgent.contact.toString();var f=a.parseHeader("Content-Disposition");return f&&"render"===f.type&&(o._renderbody=a.body,o._rendertype=a.getHeader("Content-Type")),o._id=a.callId+a.fromTag,o.userAgent._sessions[o._id]=u(o),o}return f(n,[{key:"dispose",value:function(){var e=this;if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.expiresTimer&&(clearTimeout(this.expiresTimer),this.expiresTimer=void 0),this.userNoAnswerTimer&&(clearTimeout(this.userNoAnswerTimer),this.userNoAnswerTimer=void 0),this.prackNeverArrived(),this.state){case S.SessionState.Initial:case S.SessionState.Establishing:return this.reject().then((function(){return c(l(n.prototype),"dispose",e).call(e)}));case S.SessionState.Established:case S.SessionState.Terminating:case S.SessionState.Terminated:return c(l(n.prototype),"dispose",this).call(this);default:throw new Error("Unknown state.")}}},{key:"autoSendAnInitialProvisionalResponse",get:function(){return"required"!==this.rel100&&this.userAgent.configuration.sendInitialProvisionalResponse}},{key:"body",get:function(){return this.incomingInviteRequest.message.body}},{key:"localIdentity",get:function(){return this.request.to}},{key:"remoteIdentity",get:function(){return this.request.from}},{key:"request",get:function(){return this.incomingInviteRequest.message}},{key:"accept",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Invitation.accept"),this.state!==S.SessionState.Initial){var n=new Error("Invalid session state ".concat(this.state));return this.logger.error(n.message),Promise.reject(n)}return t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=t.sessionDescriptionHandlerOptions),this.stateTransition(S.SessionState.Establishing),this.sendAccept(t).then((function(t){t.message;var n=t.session;n.delegate={onAck:function(t){return e.onAckRequest(t)},onAckTimeout:function(){return e.onAckTimeout()},onBye:function(t){return e.onByeRequest(t)},onInfo:function(t){return e.onInfoRequest(t)},onInvite:function(t){return e.onInviteRequest(t)},onMessage:function(t){return e.onMessageRequest(t)},onNotify:function(t){return e.onNotifyRequest(t)},onPrack:function(t){return e.onPrackRequest(t)},onRefer:function(t){return e.onReferRequest(t)}},e._dialog=n,e.stateTransition(S.SessionState.Established),e._replacee&&e._replacee._bye()})).catch((function(t){return e.handleResponseError(t)}))}},{key:"progress",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Invitation.progress"),this.state!==S.SessionState.Initial){var n=new Error("Invalid session state ".concat(this.state));return this.logger.error(n.message),Promise.reject(n)}var r=t.statusCode||180;if(r<100||r>199)throw new TypeError("Invalid statusCode: "+r);return t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=t.sessionDescriptionHandlerOptions),this.waitingForPrack?(this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),Promise.resolve()):100===t.statusCode?this.sendProgressTrying().then((function(){})).catch((function(t){return e.handleResponseError(t)})):"required"===this.rel100||"supported"===this.rel100&&t.rel100||"supported"===this.rel100&&this.userAgent.configuration.sipExtension100rel===w.SIPExtension.Required?this.sendProgressReliableWaitForPrack(t).then((function(){})).catch((function(t){return e.handleResponseError(t)})):this.sendProgress(t).then((function(){})).catch((function(t){return e.handleResponseError(t)}))}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Invitation.reject"),this.state!==S.SessionState.Initial&&this.state!==S.SessionState.Establishing){var t=new Error("Invalid session state ".concat(this.state));return this.logger.error(t.message),Promise.reject(t)}var n=e.statusCode||480,r=e.reasonPhrase?e.reasonPhrase:(0,d.getReasonPhrase)(n),o=e.extraHeaders||[];if(n<300||n>699)throw new TypeError("Invalid statusCode: "+n);var a=e.body?(0,i.fromBodyLegacy)(e.body):void 0;return n<400?this.incomingInviteRequest.redirect([],{statusCode:n,reasonPhrase:r,extraHeaders:o,body:a}):this.incomingInviteRequest.reject({statusCode:n,reasonPhrase:r,extraHeaders:o,body:a}),this.stateTransition(S.SessionState.Terminated),Promise.resolve()}},{key:"_onCancel",value:function(e){this.logger.log("Invitation._onCancel"),this.state===S.SessionState.Initial||this.state===S.SessionState.Establishing?(this.isCanceled=!0,this.incomingInviteRequest.reject({statusCode:487}),this.stateTransition(S.SessionState.Terminated)):this.logger.error("CANCEL received while in state ".concat(this.state,", dropping request"))}},{key:"handlePrackOfferAnswer",value:function(e){if(!this.dialog)throw new Error("Dialog undefined.");var t=(0,i.getBody)(e.message);if(!t||"session"!==t.contentDisposition)return Promise.resolve(void 0);var n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers};switch(this.dialog.signalingState){case o.SignalingState.Initial:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."));case o.SignalingState.Stable:return this.setAnswer(t,n).then((function(){}));case o.SignalingState.HaveLocalOffer:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."));case o.SignalingState.HaveRemoteOffer:return this.setOfferAndGetAnswer(t,n);case o.SignalingState.Closed:default:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."))}}},{key:"handleResponseError",value:function(e){var t=480;if(e instanceof Error?this.logger.error(e.message):this.logger.error(e),e instanceof v.ContentTypeUnsupportedError?(this.logger.error("A session description handler occurred while sending response (content type unsupported"),t=415):e instanceof m.SessionDescriptionHandlerError?this.logger.error("A session description handler occurred while sending response"):e instanceof y.SessionTerminatedError?this.logger.error("Session ended before response could be formulated and sent (while waiting for PRACK)"):e instanceof a.TransactionStateError&&this.logger.error("Session changed state before response could be formulated and sent"),this.state===S.SessionState.Initial||this.state===S.SessionState.Establishing)try{this.incomingInviteRequest.reject({statusCode:t}),this.stateTransition(S.SessionState.Terminated)}catch(n){throw this.logger.error("An error occurred attempting to reject the request while handling another error"),n}if(!this.isCanceled)throw e;this.logger.warn("An error occurred while attempting to formulate and send a response to an incoming INVITE. However a CANCEL was received and processed while doing so which can (and often does) result in errors occurring as the session terminates in the meantime. Said error is being ignored.")}},{key:"onAckTimeout",value:function(){if(this.logger.log("Invitation.onAckTimeout"),!this.dialog)throw new Error("Dialog undefined.");this.logger.log("No ACK received for an extended period of time, terminating session"),this.dialog.bye(),this.stateTransition(S.SessionState.Terminated)}},{key:"sendAccept",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},r=t.extraHeaders||[];return this.waitingForPrack?this.waitForArrivalOfPrack().then((function(){return clearTimeout(e.userNoAnswerTimer)})).then((function(){return e.generateResponseOfferAnswer(e.incomingInviteRequest,n)})).then((function(t){return e.incomingInviteRequest.accept({statusCode:200,body:t,extraHeaders:r})})):(clearTimeout(this.userNoAnswerTimer),this.generateResponseOfferAnswer(this.incomingInviteRequest,n).then((function(t){return e.incomingInviteRequest.accept({statusCode:200,body:t,extraHeaders:r})})))}},{key:"sendProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.statusCode||180,n=e.reasonPhrase,r=(e.extraHeaders||[]).slice(),o=e.body?(0,i.fromBodyLegacy)(e.body):void 0;if(183===t&&!o)return this.sendProgressWithSDP(e);try{var a=this.incomingInviteRequest.progress({statusCode:t,reasonPhrase:n,extraHeaders:r,body:o});return this._dialog=a.session,Promise.resolve(a)}catch(s){return Promise.reject(s)}}},{key:"sendProgressWithSDP",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},r=t.statusCode||183,i=t.reasonPhrase,o=(t.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(this.incomingInviteRequest,n).then((function(t){return e.incomingInviteRequest.progress({statusCode:r,reasonPhrase:i,extraHeaders:o,body:t})})).then((function(t){return e._dialog=t.session,t}))}},{key:"sendProgressReliable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.extraHeaders=(e.extraHeaders||[]).slice(),e.extraHeaders.push("Require: 100rel"),e.extraHeaders.push("RSeq: "+Math.floor(1e4*Math.random())),this.sendProgressWithSDP(e)}},{key:"sendProgressReliableWaitForPrack",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers},i=n.statusCode||183,o=n.reasonPhrase,a=(n.extraHeaders||[]).slice();return a.push("Require: 100rel"),a.push("RSeq: "+this.rseq++),new Promise((function(n,c){t.waitingForPrack=!0,t.generateResponseOfferAnswer(t.incomingInviteRequest,r).then((function(n){return e=n,t.incomingInviteRequest.progress({statusCode:i,reasonPhrase:o,extraHeaders:a,body:e})})).then((function(r){var l,u;t._dialog=r.session,r.session.delegate={onPrack:function(e){l=e,clearTimeout(d),clearTimeout(h),t.waitingForPrack&&(t.waitingForPrack=!1,t.handlePrackOfferAnswer(l).then((function(e){try{u=l.accept({statusCode:200,body:e}),t.prackArrived(),n({prackRequest:l,prackResponse:u,progressResponse:r})}catch(i){c(i)}})).catch((function(e){return c(e)})))}};var d=setTimeout((function(){t.waitingForPrack&&(t.waitingForPrack=!1,t.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(h),t.reject({statusCode:504}).then((function(){return c(new y.SessionTerminatedError)})).catch((function(e){return c(e)})))}),64*s.Timers.T1),f=s.Timers.T1,h=setTimeout((function n(){try{t.incomingInviteRequest.progress({statusCode:i,reasonPhrase:o,extraHeaders:a,body:e})}catch(r){return t.waitingForPrack=!1,void c(r)}h=setTimeout(n,f*=2)}),f)})).catch((function(e){t.waitingForPrack=!1,c(e)}))}))}},{key:"sendProgressTrying",value:function(){try{var e=this.incomingInviteRequest.trying();return Promise.resolve(e)}catch(t){return Promise.reject(t)}}},{key:"waitForArrivalOfPrack",value:function(){var e=this;if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise((function(t,n){e.waitingForPrackResolve=t,e.waitingForPrackReject=n})),this.waitingForPrackPromise}},{key:"prackArrived",value:function(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}},{key:"prackNeverArrived",value:function(){this.waitingForPrackReject&&this.waitingForPrackReject(new y.SessionTerminatedError),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0}}]),n}(b.Session)},function(e,t,n){n.r(t),n.d(t,{Session:function(){return w}});var r=n(17),i=n(30),o=n(21),a=n(23),s=n(20),c=n(28),l=n(10),u=n(11),d=n(12),p=n(6),g=n(4),v=n(13),m=n(31),y=n(32),b=n(33),S=n(16),w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.pendingReinvite=!1,this.pendingReinviteAck=!1,this._state=S.SessionState.Initial,this.delegate=n.delegate,this._stateEventEmitter=new d.EmitterImpl,this._userAgent=t}return f(e,[{key:"dispose",value:function(){var e=this;switch(this.logger.log("Session ".concat(this.id," in state ").concat(this._state," is being disposed")),delete this.userAgent._sessions[this.id],this._sessionDescriptionHandler&&this._sessionDescriptionHandler.close(),this.state){case S.SessionState.Initial:case S.SessionState.Establishing:break;case S.SessionState.Established:return new Promise((function(t){e._bye({onAccept:function(){return t()},onRedirect:function(){return t()},onReject:function(){return t()}})}));case S.SessionState.Terminating:case S.SessionState.Terminated:break;default:throw new Error("Unknown state.")}return Promise.resolve()}},{key:"assertedIdentity",get:function(){return this._assertedIdentity}},{key:"dialog",get:function(){return this._dialog}},{key:"id",get:function(){return this._id}},{key:"replacee",get:function(){return this._replacee}},{key:"sessionDescriptionHandler",get:function(){return this._sessionDescriptionHandler}},{key:"sessionDescriptionHandlerFactory",get:function(){return this.userAgent.configuration.sessionDescriptionHandlerFactory}},{key:"sessionDescriptionHandlerModifiers",get:function(){return this._sessionDescriptionHandlerModifiers||[]},set:function(e){this._sessionDescriptionHandlerModifiers=e.slice()}},{key:"sessionDescriptionHandlerOptions",get:function(){return this._sessionDescriptionHandlerOptions||{}},set:function(e){this._sessionDescriptionHandlerOptions=Object.assign({},e)}},{key:"sessionDescriptionHandlerModifiersReInvite",get:function(){return this._sessionDescriptionHandlerModifiersReInvite||[]},set:function(e){this._sessionDescriptionHandlerModifiersReInvite=e.slice()}},{key:"sessionDescriptionHandlerOptionsReInvite",get:function(){return this._sessionDescriptionHandlerOptionsReInvite||{}},set:function(e){this._sessionDescriptionHandlerOptionsReInvite=Object.assign({},e)}},{key:"state",get:function(){return this._state}},{key:"stateChange",get:function(){return this._stateEventEmitter}},{key:"userAgent",get:function(){return this._userAgent}},{key:"bye",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="Session.bye() may only be called if established session.";switch(this.state){case S.SessionState.Initial:"function"===typeof this.cancel?(t+=" However Inviter.invite() has not yet been called.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"===typeof this.reject&&(t+=" However Invitation.accept() has not yet been called.",t+=" Perhaps you should have called Invitation.reject()?");break;case S.SessionState.Establishing:"function"===typeof this.cancel?(t+=" However a dialog does not yet exist.",t+=" Perhaps you should have called Inviter.cancel()?"):"function"===typeof this.reject&&(t+=" However Invitation.accept() has not yet been called (or not yet resolved).",t+=" Perhaps you should have called Invitation.reject()?");break;case S.SessionState.Established:var n=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._bye(n,r);case S.SessionState.Terminating:t+=" However this session is already terminating.","function"===typeof this.cancel?t+=" Perhaps you have already called Inviter.cancel()?":"function"===typeof this.reject&&(t+=" Perhaps you have already called Session.bye()?");break;case S.SessionState.Terminated:t+=" However this session is already terminated.";break;default:throw new Error("Unknown state")}return this.logger.error(t),Promise.reject(new Error("Invalid session state ".concat(this.state)))}},{key:"info",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state!==S.SessionState.Established){var t="Session.info() may only be called if established session.";return this.logger.error(t),Promise.reject(new Error("Invalid session state ".concat(this.state)))}var n=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._info(n,r)}},{key:"invite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Session.invite"),this.state!==S.SessionState.Established)return Promise.reject(new Error("Invalid session state ".concat(this.state)));if(this.pendingReinvite)return Promise.reject(new p.RequestPendingError("Reinvite in progress. Please wait until complete, then try again."));this.pendingReinvite=!0,t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiersReInvite=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptionsReInvite=t.sessionDescriptionHandlerOptions);var n={onAccept:function(n){var i=(0,r.getBody)(n.message);if(!i)return e.logger.error("Received 2xx response to re-INVITE without a session description"),e.ackAndBye(n,400,"Missing session description"),e.stateTransition(S.SessionState.Terminated),void(e.pendingReinvite=!1);if(t.withoutSdp){var o={sessionDescriptionHandlerOptions:e.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:e.sessionDescriptionHandlerModifiersReInvite};e.setOfferAndGetAnswer(i,o).then((function(e){n.ack({body:e})})).catch((function(t){e.logger.error("Failed to handle offer in 2xx response to re-INVITE"),e.logger.error(t.message),e.state===S.SessionState.Terminated?n.ack():(e.ackAndBye(n,488,"Bad Media Description"),e.stateTransition(S.SessionState.Terminated))})).then((function(){e.pendingReinvite=!1,t.requestDelegate&&t.requestDelegate.onAccept&&t.requestDelegate.onAccept(n)}))}else{var a={sessionDescriptionHandlerOptions:e.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:e.sessionDescriptionHandlerModifiersReInvite};e.setAnswer(i,a).then((function(){n.ack()})).catch((function(t){e.logger.error("Failed to handle answer in 2xx response to re-INVITE"),e.logger.error(t.message),e.state!==S.SessionState.Terminated?(e.ackAndBye(n,488,"Bad Media Description"),e.stateTransition(S.SessionState.Terminated)):n.ack()})).then((function(){e.pendingReinvite=!1,t.requestDelegate&&t.requestDelegate.onAccept&&t.requestDelegate.onAccept(n)}))}},onProgress:function(e){},onRedirect:function(e){},onReject:function(n){e.logger.warn("Received a non-2xx response to re-INVITE"),e.pendingReinvite=!1,t.withoutSdp?t.requestDelegate&&t.requestDelegate.onReject&&t.requestDelegate.onReject(n):e.rollbackOffer().catch((function(t){if(e.logger.error("Failed to rollback offer on non-2xx response to re-INVITE"),e.logger.error(t.message),e.state!==S.SessionState.Terminated){if(!e.dialog)throw new Error("Dialog undefined.");var n=[];n.push("Reason: "+e.getReasonHeaderValue(500,"Internal Server Error")),e.dialog.bye(void 0,{extraHeaders:n}),e.stateTransition(S.SessionState.Terminated)}})).then((function(){t.requestDelegate&&t.requestDelegate.onReject&&t.requestDelegate.onReject(n)}))},onTrying:function(e){}},i=t.requestOptions||{};if(i.extraHeaders=(i.extraHeaders||[]).slice(),i.extraHeaders.push("Allow: "+c.AllowedMethods.toString()),i.extraHeaders.push("Contact: "+this._contact),t.withoutSdp){if(!this.dialog)throw this.pendingReinvite=!1,new Error("Dialog undefined.");return Promise.resolve(this.dialog.invite(n,i))}var o={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};return this.getOffer(o).then((function(t){if(!e.dialog)throw e.pendingReinvite=!1,new Error("Dialog undefined.");return i.body=t,e.dialog.invite(n,i)})).catch((function(t){throw e.logger.error(t.message),e.logger.error("Failed to send re-INVITE"),e.pendingReinvite=!1,t}))}},{key:"message",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state!==S.SessionState.Established){var t="Session.message() may only be called if established session.";return this.logger.error(t),Promise.reject(new Error("Invalid session state ".concat(this.state)))}var n=e.requestDelegate,r=this.copyRequestOptions(e.requestOptions);return this._message(n,r)}},{key:"refer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.state!==S.SessionState.Established){var n="Session.refer() may only be called if established session.";return this.logger.error(n),Promise.reject(new Error("Invalid session state ".concat(this.state)))}var r=t.requestDelegate,i=this.copyRequestOptions(t.requestOptions);return i.extraHeaders=i.extraHeaders?i.extraHeaders.concat(this.referExtraHeaders(this.referToString(e))):this.referExtraHeaders(this.referToString(e)),this._refer(t.onNotify,r,i)}},{key:"_bye",value:function(e,t){var n=this;if(!this.dialog)return Promise.reject(new Error("Session dialog undefined."));var r=this.dialog;switch(r.sessionState){case i.SessionState.Initial:case i.SessionState.Early:throw new Error("Invalid dialog state ".concat(r.sessionState));case i.SessionState.AckWait:return this.stateTransition(S.SessionState.Terminating),new Promise((function(i){r.delegate={onAck:function(){var o=r.bye(e,t);return n.stateTransition(S.SessionState.Terminated),i(o),Promise.resolve()},onAckTimeout:function(){var o=r.bye(e,t);n.stateTransition(S.SessionState.Terminated),i(o)}}}));case i.SessionState.Confirmed:var o=r.bye(e,t);return this.stateTransition(S.SessionState.Terminated),Promise.resolve(o);case i.SessionState.Terminated:throw new Error("Invalid dialog state ".concat(r.sessionState));default:throw new Error("Unrecognized state.")}}},{key:"_info",value:function(e,t){return this.dialog?Promise.resolve(this.dialog.info(e,t)):Promise.reject(new Error("Session dialog undefined."))}},{key:"_message",value:function(e,t){return this.dialog?Promise.resolve(this.dialog.message(e,t)):Promise.reject(new Error("Session dialog undefined."))}},{key:"_refer",value:function(e,t,n){return this.dialog?(this.onNotify=e,Promise.resolve(this.dialog.refer(t,n))):Promise.reject(new Error("Session dialog undefined."))}},{key:"ackAndBye",value:function(e,t,n){e.ack();var r=[];t&&r.push("Reason: "+this.getReasonHeaderValue(t,n)),e.session.bye(void 0,{extraHeaders:r})}},{key:"onAckRequest",value:function(e){var t=this;if(this.logger.log("Session.onAckRequest"),this.state!==S.SessionState.Established&&this.state!==S.SessionState.Terminating)return this.logger.error("ACK received while in state ".concat(this.state,", dropping request")),Promise.resolve();var n=this.dialog;if(!n)throw new Error("Dialog undefined.");var o={sessionDescriptionHandlerOptions:this.pendingReinviteAck?this.sessionDescriptionHandlerOptionsReInvite:this.sessionDescriptionHandlerOptions,sessionDescriptionHandlerModifiers:this.pendingReinviteAck?this._sessionDescriptionHandlerModifiersReInvite:this._sessionDescriptionHandlerModifiers};if(this.delegate&&this.delegate.onAck){var a=new l.Ack(e);this.delegate.onAck(a)}switch(this.pendingReinviteAck=!1,n.signalingState){case i.SignalingState.Initial:this.logger.error("Invalid signaling state ".concat(n.signalingState,"."));var s=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return n.bye(void 0,{extraHeaders:s}),this.stateTransition(S.SessionState.Terminated),Promise.resolve();case i.SignalingState.Stable:var c=(0,r.getBody)(e.message);return c?"render"===c.contentDisposition?(this._renderbody=c.content,this._rendertype=c.contentType,Promise.resolve()):"session"!==c.contentDisposition?Promise.resolve():this.setAnswer(c,o).catch((function(e){t.logger.error(e.message);var r=["Reason: "+t.getReasonHeaderValue(488,"Bad Media Description")];n.bye(void 0,{extraHeaders:r}),t.stateTransition(S.SessionState.Terminated)})):Promise.resolve();case i.SignalingState.HaveLocalOffer:this.logger.error("Invalid signaling state ".concat(n.signalingState,"."));var u=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return n.bye(void 0,{extraHeaders:u}),this.stateTransition(S.SessionState.Terminated),Promise.resolve();case i.SignalingState.HaveRemoteOffer:this.logger.error("Invalid signaling state ".concat(n.signalingState,"."));var d=["Reason: "+this.getReasonHeaderValue(488,"Bad Media Description")];return n.bye(void 0,{extraHeaders:d}),this.stateTransition(S.SessionState.Terminated),Promise.resolve();case i.SignalingState.Closed:default:throw new Error("Invalid signaling state ".concat(n.signalingState,"."))}}},{key:"onByeRequest",value:function(e){if(this.logger.log("Session.onByeRequest"),this.state===S.SessionState.Established){if(this.delegate&&this.delegate.onBye){var t=new u.Bye(e);this.delegate.onBye(t)}else e.accept();this.stateTransition(S.SessionState.Terminated)}else this.logger.error("BYE received while in state ".concat(this.state,", dropping request"))}},{key:"onInfoRequest",value:function(e){if(this.logger.log("Session.onInfoRequest"),this.state===S.SessionState.Established)if(this.delegate&&this.delegate.onInfo){var t=new v.Info(e);this.delegate.onInfo(t)}else e.accept();else this.logger.error("INFO received while in state ".concat(this.state,", dropping request"))}},{key:"onInviteRequest",value:function(e){var t=this;if(this.logger.log("Session.onInviteRequest"),this.state===S.SessionState.Established){this.pendingReinviteAck=!0;var n=["Contact: "+this._contact];if(e.message.hasHeader("P-Asserted-Identity")){var r=e.message.getHeader("P-Asserted-Identity");if(!r)throw new Error("Header undefined.");this._assertedIdentity=o.Grammar.nameAddrHeaderParse(r)}var a={sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptionsReInvite,sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiersReInvite};this.generateResponseOfferAnswerInDialog(a).then((function(r){var i=e.accept({statusCode:200,extraHeaders:n,body:r});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,i.message,200)})).catch((function(r){if(t.logger.error(r.message),t.logger.error("Failed to handle to re-INVITE request"),!t.dialog)throw new Error("Dialog undefined.");if(t.logger.error(t.dialog.signalingState),t.dialog.signalingState!==i.SignalingState.Stable)t.rollbackOffer().then((function(){var n=e.reject({statusCode:488});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,n.message,488)})).catch((function(r){t.logger.error(r.message),t.logger.error("Failed to rollback offer on re-INVITE request");var i=e.reject({statusCode:488});if(t.state!==S.SessionState.Terminated){if(!t.dialog)throw new Error("Dialog undefined.");[].push("Reason: "+t.getReasonHeaderValue(500,"Internal Server Error")),t.dialog.bye(void 0,{extraHeaders:n}),t.stateTransition(S.SessionState.Terminated)}t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,i.message,488)}));else{var o=e.reject({statusCode:488});t.delegate&&t.delegate.onInvite&&t.delegate.onInvite(e.message,o.message,488)}}))}else this.logger.error("INVITE received while in state ".concat(this.state,", dropping request"))}},{key:"onMessageRequest",value:function(e){if(this.logger.log("Session.onMessageRequest"),this.state===S.SessionState.Established)if(this.delegate&&this.delegate.onMessage){var t=new m.Message(e);this.delegate.onMessage(t)}else e.accept();else this.logger.error("MESSAGE received while in state ".concat(this.state,", dropping request"))}},{key:"onNotifyRequest",value:function(e){if(this.logger.log("Session.onNotifyRequest"),this.state===S.SessionState.Established)if(this.onNotify){var t=new y.Notification(e);this.onNotify(t)}else if(this.delegate&&this.delegate.onNotify){var n=new y.Notification(e);this.delegate.onNotify(n)}else e.accept();else this.logger.error("NOTIFY received while in state ".concat(this.state,", dropping request"))}},{key:"onPrackRequest",value:function(e){if(this.logger.log("Session.onPrackRequest"),this.state===S.SessionState.Established)throw new Error("Unimplemented.");this.logger.error("PRACK received while in state ".concat(this.state,", dropping request"))}},{key:"onReferRequest",value:function(e){var t=this;if(this.logger.log("Session.onReferRequest"),this.state===S.SessionState.Established){if(!e.message.hasHeader("refer-to"))return this.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting."),void e.reject();var n=new b.Referral(e,this);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(n):(this.logger.log("No delegate available to handle REFER, automatically accepting and following."),n.accept().then((function(){return n.makeInviter(t._referralInviterOptions).invite()})).catch((function(e){t.logger.error(e.message)})))}else this.logger.error("REFER received while in state ".concat(this.state,", dropping request"))}},{key:"generateResponseOfferAnswer",value:function(e,t){if(this.dialog)return this.generateResponseOfferAnswerInDialog(t);var n=(0,r.getBody)(e.message);return n&&"session"===n.contentDisposition?this.setOfferAndGetAnswer(n,t):this.getOffer(t)}},{key:"generateResponseOfferAnswerInDialog",value:function(e){if(!this.dialog)throw new Error("Dialog undefined.");switch(this.dialog.signalingState){case i.SignalingState.Initial:return this.getOffer(e);case i.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case i.SignalingState.HaveRemoteOffer:if(!this.dialog.offer)throw new Error("Session offer undefined in signaling state ".concat(this.dialog.signalingState,"."));return this.setOfferAndGetAnswer(this.dialog.offer,e);case i.SignalingState.Stable:return this.state!==S.SessionState.Established?Promise.resolve(void 0):this.getOffer(e);case i.SignalingState.Closed:default:throw new Error("Invalid signaling state ".concat(this.dialog.signalingState,"."))}}},{key:"getOffer",value:function(e){var t=this,n=this.setupSessionDescriptionHandler(),i=e.sessionDescriptionHandlerOptions,o=e.sessionDescriptionHandlerModifiers;try{return n.getDescription(i,o).then((function(e){return(0,r.fromBodyLegacy)(e)})).catch((function(e){t.logger.error("Session.getOffer: SDH getDescription rejected...");var n=e instanceof Error?e:new Error("Session.getOffer unknown error.");throw t.logger.error(n.message),n}))}catch(s){this.logger.error("Session.getOffer: SDH getDescription threw...");var a=s instanceof Error?s:new Error(s);return this.logger.error(a.message),Promise.reject(a)}}},{key:"rollbackOffer",value:function(){var e=this,t=this.setupSessionDescriptionHandler();if(void 0===t.rollbackDescription)return Promise.resolve();try{return t.rollbackDescription().catch((function(t){e.logger.error("Session.rollbackOffer: SDH rollbackDescription rejected...");var n=t instanceof Error?t:new Error("Session.rollbackOffer unknown error.");throw e.logger.error(n.message),n}))}catch(r){this.logger.error("Session.rollbackOffer: SDH rollbackDescription threw...");var n=r instanceof Error?r:new Error(r);return this.logger.error(n.message),Promise.reject(n)}}},{key:"setAnswer",value:function(e,t){var n=this,r=this.setupSessionDescriptionHandler(),i=t.sessionDescriptionHandlerOptions,o=t.sessionDescriptionHandlerModifiers;try{if(!r.hasDescription(e.contentType))return Promise.reject(new g.ContentTypeUnsupportedError)}catch(c){this.logger.error("Session.setAnswer: SDH hasDescription threw...");var a=c instanceof Error?c:new Error(c);return this.logger.error(a.message),Promise.reject(a)}try{return r.setDescription(e.content,i,o).catch((function(e){n.logger.error("Session.setAnswer: SDH setDescription rejected...");var t=e instanceof Error?e:new Error("Session.setAnswer unknown error.");throw n.logger.error(t.message),t}))}catch(c){this.logger.error("Session.setAnswer: SDH setDescription threw...");var s=c instanceof Error?c:new Error(c);return this.logger.error(s.message),Promise.reject(s)}}},{key:"setOfferAndGetAnswer",value:function(e,t){var n=this,i=this.setupSessionDescriptionHandler(),o=t.sessionDescriptionHandlerOptions,a=t.sessionDescriptionHandlerModifiers;try{if(!i.hasDescription(e.contentType))return Promise.reject(new g.ContentTypeUnsupportedError)}catch(l){this.logger.error("Session.setOfferAndGetAnswer: SDH hasDescription threw...");var s=l instanceof Error?l:new Error(l);return this.logger.error(s.message),Promise.reject(s)}try{return i.setDescription(e.content,o,a).then((function(){return i.getDescription(o,a)})).then((function(e){return(0,r.fromBodyLegacy)(e)})).catch((function(e){n.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription rejected...");var t=e instanceof Error?e:new Error("Session.setOfferAndGetAnswer unknown error.");throw n.logger.error(t.message),t}))}catch(l){this.logger.error("Session.setOfferAndGetAnswer: SDH setDescription or getDescription threw...");var c=l instanceof Error?l:new Error(l);return this.logger.error(c.message),Promise.reject(c)}}},{key:"setSessionDescriptionHandler",value:function(e){if(this._sessionDescriptionHandler)throw new Error("Session description handler defined.");this._sessionDescriptionHandler=e}},{key:"setupSessionDescriptionHandler",value:function(){var e;return this._sessionDescriptionHandler||(this._sessionDescriptionHandler=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions),(null===(e=this.delegate)||void 0===e?void 0:e.onSessionDescriptionHandler)&&this.delegate.onSessionDescriptionHandler(this._sessionDescriptionHandler,!1)),this._sessionDescriptionHandler}},{key:"stateTransition",value:function(e){var t=this,n=function(){throw new Error("Invalid state transition from ".concat(t._state," to ").concat(e))};switch(this._state){case S.SessionState.Initial:e!==S.SessionState.Establishing&&e!==S.SessionState.Established&&e!==S.SessionState.Terminating&&e!==S.SessionState.Terminated&&n();break;case S.SessionState.Establishing:e!==S.SessionState.Established&&e!==S.SessionState.Terminating&&e!==S.SessionState.Terminated&&n();break;case S.SessionState.Established:e!==S.SessionState.Terminating&&e!==S.SessionState.Terminated&&n();break;case S.SessionState.Terminating:e!==S.SessionState.Terminated&&n();break;case S.SessionState.Terminated:n();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Session ".concat(this.id," transitioned to state ").concat(this._state)),this._stateEventEmitter.emit(this._state),e===S.SessionState.Terminated&&this.dispose()}},{key:"copyRequestOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraHeaders?e.extraHeaders.slice():void 0,n=e.body?{contentDisposition:e.body.contentDisposition||"render",contentType:e.body.contentType||"text/plain",content:e.body.content||""}:void 0;return{extraHeaders:t,body:n}}},{key:"getReasonHeaderValue",value:function(e,t){var n=e,r=(0,s.getReasonPhrase)(e);return!r&&t&&(r=t),"SIP;cause="+n+';text="'+r+'"'}},{key:"referExtraHeaders",value:function(e){var t=[];return t.push("Referred-By: <"+this.userAgent.configuration.uri+">"),t.push("Contact: "+this._contact),t.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.push("Refer-To: "+e),t}},{key:"referToString",value:function(e){var t;if(e instanceof a.URI)t=e.toString();else{if(!e.dialog)throw new Error("Dialog undefined.");var n=e.remoteIdentity.friendlyName,r=e.dialog.remoteTarget.toString(),i=e.dialog.callId,o=e.dialog.remoteTag,s=e.dialog.localTag,c=encodeURIComponent("".concat(i,";to-tag=").concat(o,";from-tag=").concat(s));t='"'.concat(n,'" <').concat(r,"?Replaces=").concat(c,">")}return t}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{SessionState:function(){return r}}),(i=r||(r={})).Initial="Initial",i.Establishing="Establishing",i.Established="Established",i.Terminating="Terminating",i.Terminated="Terminated"},function(e,t,n){n.r(t),n.d(t,{fromBodyLegacy:function(){return s},isBody:function(){return c},getBody:function(){return l}});var r=n(18),i=n(26),o=n(27);function a(e){return"application/sdp"===e?"session":"render"}function s(e){var t="string"===typeof e?e:e.body,n="string"===typeof e?"application/sdp":e.contentType;return{contentDisposition:a(n),contentType:n,content:t}}function c(e){return!(!e||"string"!==typeof e.content||"string"!==typeof e.contentType||void 0!==e.contentDisposition)||"string"===typeof e.contentDisposition}function l(e){var t,n,s;if(e instanceof r.IncomingRequestMessage&&e.body){var l=e.parseHeader("Content-Disposition");t=l?l.type:void 0,n=e.parseHeader("Content-Type"),s=e.body}if(e instanceof i.IncomingResponseMessage&&e.body){var u=e.parseHeader("Content-Disposition");t=u?u.type:void 0,n=e.parseHeader("Content-Type"),s=e.body}if(e instanceof o.OutgoingRequestMessage&&e.body)if(t=e.getHeader("Content-Disposition"),n=e.getHeader("Content-Type"),"string"===typeof e.body){if(!n)throw new Error("Header content type header does not equal body content type.");s=e.body}else{if(n&&n!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");n=e.body.contentType,s=e.body.body}if(c(e)&&(t=e.contentDisposition,n=e.contentType,s=e.content),s){if(n&&!t&&(t=a(n)),!t)throw new Error("Content disposition undefined.");if(!n)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:n,content:s}}}},function(e,t,n){n.r(t),n.d(t,{IncomingRequestMessage:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(){return h(this,n),t.call(this)}return f(n)}(n(19).IncomingMessage)},function(e,t,n){n.r(t),n.d(t,{IncomingMessage:function(){return o}});var r=n(21),i=n(20),o=function(){function e(){h(this,e),this.headers={}}return f(e,[{key:"addHeader",value:function(e,t){var n={raw:t};e=(0,i.headerize)(e),this.headers[e]?this.headers[e].push(n):this.headers[e]=[n]}},{key:"getHeader",value:function(e){var t=this.headers[(0,i.headerize)(e)];if(t)return t[0]?t[0].raw:void 0}},{key:"getHeaders",value:function(e){var t=this.headers[(0,i.headerize)(e)],n=[];if(!t)return[];var r,o=s(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.push(a.raw)}}catch(c){o.e(c)}finally{o.f()}return n}},{key:"hasHeader",value:function(e){return!!this.headers[(0,i.headerize)(e)]}},{key:"parseHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e=(0,i.headerize)(e),this.headers[e]&&!(t>=this.headers[e].length)){var n=this.headers[e][t],o=n.raw;if(n.parsed)return n.parsed;var a=r.Grammar.parse(o,e.replace(/-/g,"_"));return-1===a?void this.headers[e].splice(t,1):(n.parsed=a,a)}}},{key:"s",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.parseHeader(e,t)}},{key:"setHeader",value:function(e,t){this.headers[(0,i.headerize)(e)]=[{raw:t}]}},{key:"toString",value:function(){return this.data}}]),e}()},function(e,t,n){n.r(t),n.d(t,{createRandomToken:function(){return i},getReasonPhrase:function(){return o},newTag:function(){return a},headerize:function(){return s},utf8Length:function(){return c}});var r={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"};function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n="",r=0;r<e;r++){var i=Math.floor(Math.random()*t);n+=i.toString(t)}return n}function o(e){return r[e]||""}function a(){return i(10)}function s(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length,i="",o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i}function c(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length}},function(e,t,n){n.r(t),n.d(t,{Grammar:function(){return r}});var r,i,o=n(22);(i=r||(r={})).parse=function(e,t){var n={startRule:t};try{o.parse(e,n)}catch(r){n.data=-1}return n.data},i.nameAddrHeaderParse=function(e){var t=i.parse(e,"Name_Addr_Header");return-1!==t?t:void 0},i.URIParse=function(e){var t=i.parse(e,"SIP_URI");return-1!==t?t:void 0}},function(e,t,n){n.r(t),n.d(t,{SyntaxError:function(){return o},parse:function(){return a}});var r=n(25),i=n(23),o=function(e){p(n,e);var t=g(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this)).message=e,a.expected=r,a.found=i,a.location=o,a.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(u(a),n),a}return f(n,null,[{key:"buildMessage",value:function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+((a=t)?'"'+r(a)+'"':"end of input")+" found.";var a}}]),n}(d(Error)),a=function(e,t){t=void 0!==t?t:{};var n,a={},s={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231},c=119,l=["\r\n",b("\r\n",!1),/^[0-9]/,S([["0","9"]],!1,!1),/^[a-zA-Z]/,S([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,S([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,S([["\0","\xff"]],!1,!1),/^["]/,S(['"'],!1,!1)," ",b(" ",!1),"\t",b("\t",!1),/^[a-zA-Z0-9]/,S([["a","z"],["A","Z"],["0","9"]],!1,!1),";",b(";",!1),"/",b("/",!1),"?",b("?",!1),":",b(":",!1),"@",b("@",!1),"&",b("&",!1),"=",b("=",!1),"+",b("+",!1),"$",b("$",!1),",",b(",",!1),"-",b("-",!1),"_",b("_",!1),".",b(".",!1),"!",b("!",!1),"~",b("~",!1),"*",b("*",!1),"'",b("'",!1),"(",b("(",!1),")",b(")",!1),"%",b("%",!1),function(){return" "},function(){return":"},/^[!-~]/,S([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,S([["\x80","\uffff"]],!1,!1),/^[\x80-\xBF]/,S([["\x80","\xbf"]],!1,!1),/^[a-f]/,S([["a","f"]],!1,!1),"`",b("`",!1),"<",b("<",!1),">",b(">",!1),"\\",b("\\",!1),"[",b("[",!1),"]",b("]",!1),"{",b("{",!1),"}",b("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,S([["!","'"]],!1,!1),/^[*-[]/,S([["*","["]],!1,!1),/^[\]-~]/,S([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,S([["#","["]],!1,!1),/^[\0-\t]/,S([["\0","\t"]],!1,!1),/^[\x0B-\f]/,S([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,S([["\x0e","\x7f"]],!1,!1),function(){(t=t||{data:{}}).data.uri=new i.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new i.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",b("sips",!0),"sip",b("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(m().slice(0,-1))},function(){(t=t||{data:{}}).data.password=m()},function(){return(t=t||{data:{}}).data.host=m(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",m()},/^[a-zA-Z0-9_\-]/,S([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,S([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},"::",b("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},function(){return(t=t||{data:{}}).data.host_type="IPv4",m()},"25",b("25",!1),/^[0-5]/,S([["0","5"]],!1,!1),"2",b("2",!1),/^[0-4]/,S([["0","4"]],!1,!1),"1",b("1",!1),/^[1-9]/,S([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",b("transport=",!0),"udp",b("udp",!0),"tcp",b("tcp",!0),"sctp",b("sctp",!0),"tls",b("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",b("user=",!0),"phone",b("phone",!0),"ip",b("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",b("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",b("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",b("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",b("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,n){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),n=null===n?void 0:n[1],t.data.uri_params[e.toLowerCase()]=n},function(e,n){e=e.join("").toLowerCase(),n=n.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(n):t.data.uri_headers[e]=[n]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new i.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",b("//",!1),function(){(t=t||{data:{}}).data.scheme=m()},b("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=m()},"INVITE",b("INVITE",!1),"ACK",b("ACK",!1),"VXACH",b("VXACH",!1),"OPTIONS",b("OPTIONS",!1),"BYE",b("BYE",!1),"CANCEL",b("CANCEL",!1),"REGISTER",b("REGISTER",!1),"SUBSCRIBE",b("SUBSCRIBE",!1),"NOTIFY",b("NOTIFY",!1),"REFER",b("REFER",!1),"PUBLISH",b("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=m(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=m()},function(){(t=t||{data:{}}).data=m()},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(n){e=null}t.data.multi_header.push({position:d,offset:y().start.offset,parsed:e})},function(e){'"'===(e=m().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",b("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",b("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",b("0",!1),function(){return parseFloat(m())},function(e,n){(t=t||{data:{}}).data.params||(t.data.params={}),n=null===n?void 0:n[1],t.data.params[e.toLowerCase()]=n},"render",b("render",!0),"session",b("session",!0),"icon",b("icon",!0),"alert",b("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=m().toLowerCase())},"handling",b("handling",!0),"optional",b("optional",!0),"required",b("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=m()},"text",b("text",!0),"image",b("image",!0),"audio",b("audio",!0),"video",b("video",!0),"application",b("application",!0),"message",b("message",!0),"multipart",b("multipart",!0),"x-",b("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",b("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",b("Digest",!0),"realm",b("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",b("domain",!0),"nonce",b("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",b("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",b("stale",!0),"true",b("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",b("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",b("algorithm",!0),"md5",b("MD5",!0),"md5-sess",b("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",b("qop",!0),"auth-int",b("auth-int",!0),"auth",b("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(n){e=null}t.data.multi_header.push({position:d,offset:y().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",b("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",b("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",b("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",b("active",!0),"pending",b("pending",!0),"terminated",b("terminated",!0),function(){(t=t||{data:{}}).data.state=m()},"reason",b("reason",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.reason=e)},function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.expires=e)},"retry_after",b("retry_after",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.retry_after=e)},"deactivated",b("deactivated",!0),"probation",b("probation",!0),"rejected",b("rejected",!0),"timeout",b("timeout",!0),"giveup",b("giveup",!0),"noresource",b("noresource",!0),"invariant",b("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new r.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",b("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",b("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",b("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",b("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",b("rport",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},b("UDP",!0),b("TCP",!0),b("TLS",!0),b("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=m()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",b("refresher",!1),"uas",b("uas",!1),"uac",b("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",b("stuns",!0),"stun",b("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",b("?transport=",!1),"turns",b("turns",!0),"turn",b("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=m()},"Referred-By",b("Referred-By",!1),"b",b("b",!1),"cid",b("cid",!1)],u=[E('2 ""6 7!'),E('4"""5!7#'),E('4$""5!7%'),E('4&""5!7\''),E(";'.# &;("),E('4(""5!7)'),E('4*""5!7+'),E('2,""6,7-'),E('2.""6.7/'),E('40""5!71'),E('22""6273.\x89 &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),E(";).# &;,"),E('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),E('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),E('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),E(';.." &"'),E("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),E('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),E('4\\""5!7].# &;3'),E('4^""5!7_'),E('4`""5!7a'),E(';!.) &4b""5!7c'),E('%$;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x9e#0\x9b*;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),E('%$;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x92#0\x8f*;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),E('2T""6T7U.\xe3 &2V""6V7W.\xd7 &2f""6f7g.\xcb &2h""6h7i.\xbf &2:""6:7;.\xb3 &2D""6D7E.\xa7 &22""6273.\x9b &28""6879.\x8f &2j""6j7k.\x83 &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),E('%$;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/\u0134#0\u0131*;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),E("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),E("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),E("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),E("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),E("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),E('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),E('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),E("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),E("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),E("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),E("%;//0#;&/'$8\":~\" )(\"'#&'#"),E("%;&/0#;//'$8\":~\" )(\"'#&'#"),E("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),E('4\x7f""5!7\x80.A &4\x81""5!7\x82.5 &4\x83""5!7\x84.) &;3.# &;.'),E("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),E("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:\x85$!!)($'#(#'#(\"'#&'#"),E(';..G &2L""6L7M.; &4\x86""5!7\x87./ &4\x83""5!7\x84.# &;3'),E('%2j""6j7k/J#4\x88""5!7\x89.5 &4\x8a""5!7\x8b.) &4\x8c""5!7\x8d/#$+")("\'#&\'#'),E("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:\x8e$ )($'#(#'#(\"'#&'#"),E("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:\x8f& )(&'#(%'#($'#(#'#(\"'#&'#"),E('%3\x90""5$7\x91.) &3\x92""5#7\x93/\' 8!:\x94!! )'),E('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:\x95# )(#\'#("\'#&\'#'),E("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),E('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),E('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:\x96! )'),E('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E("%;U.) &;\\.# &;X/& 8!:\x97! )"),E('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:\x98# )(#\'#("\'#&\'#'),E('$4\x99""5!7\x9a/,#0)*4\x99""5!7\x9a&&&#'),E('%4$""5!7%/?#$4\x9b""5!7\x9c0)*4\x9b""5!7\x9c&/#$+")("\'#&\'#'),E('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:\x9d# )(#\'#("\'#&\'#'),E('%%;Z/\xb3#28""6879/\xa4$;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0790 &%2\x9e""6\x9e7\x9f/\xa4#;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06f9 &%2\x9e""6\x9e7\x9f/\x8c#;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u067a &%2\x9e""6\x9e7\x9f/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0613 &%2\x9e""6\x9e7\x9f/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05c4 &%2\x9e""6\x9e7\x9f/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#.\u058d &%2\x9e""6\x9e7\x9f/,#;[/#$+")("\'#&\'#.\u056e &%2\x9e""6\x9e7\x9f/,#;Z/#$+")("\'#&\'#.\u054f &%;Z/\x9b#2\x9e""6\x9e7\x9f/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u04c7 &%;Z/\xaa#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x83$2\x9e""6\x9e7\x9f/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0430 &%;Z/\xb9#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x92$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2\x9e""6\x9e7\x9f/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u038a &%;Z/\xc8#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa1$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2\x9e""6\x9e7\x9f/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u02d5 &%;Z/\xd7#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0211 &%;Z/\xfe#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xd7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0126 &%;Z/\u011c#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xf5$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xce$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x80$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2\x9e""6\x9e7\x9f/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:\xa0! )'),E('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),E("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),E("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':\xa1' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),E('%2\xa2""6\xa27\xa3/2#4\xa4""5!7\xa5/#$+")("\'#&\'#.\x98 &%2\xa6""6\xa67\xa7/;#4\xa8""5!7\xa9/,$;!/#$+#)(#\'#("\'#&\'#.j &%2\xaa""6\xaa7\xab/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4\xac""5!7\xad/,#;!/#$+")("\'#&\'#.# &;!'),E('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\xae!! )'),E('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),E(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),E('%3\xaf""5*7\xb0/a#3\xb1""5#7\xb2.G &3\xb3""5#7\xb4.; &3\xb5""5$7\xb6./ &3\xb7""5#7\xb8.# &;6/($8":\xb9"! )("\'#&\'#'),E('%3\xba""5%7\xbb/I#3\xbc""5%7\xbd./ &3\xbe""5"7\xbf.# &;6/($8":\xc0"! )("\'#&\'#'),E('%3\xc1""5\'7\xc2/1#;\x90/($8":\xc3"! )("\'#&\'#'),E('%3\xc4""5$7\xc5/1#;\xf0/($8":\xc6"! )("\'#&\'#'),E('%3\xc7""5&7\xc8/1#;T/($8":\xc9"! )("\'#&\'#'),E('%3\xca""5"7\xcb/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":\xcc" )("\'#&\'#'),E('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":\xcd""! )("\'#&\'#'),E('%$;j/&#0#*;j&&&#/"!&,)'),E('%$;j/&#0#*;j&&&#/"!&,)'),E(";k.) &;+.# &;-"),E('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),E('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),E('%;n/A#2>""6>7?/2$;o/)$8#:\xce#"" )(#\'#("\'#&\'#'),E("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),E("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),E('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),E(";\x91.# &;r"),E("%;\x90/G#;'/>$;s/5$;'/,$;\x84/#$+%)(%'#($'#(#'#(\"'#&'#"),E(";M.# &;t"),E("%;\x7f/E#28\"\"6879/6$;u.# &;x/'$8#:\xcf# )(#'#(\"'#&'#"),E('%;v.# &;w/J#%26""6677/,#;\x83/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E('%2\xd0""6\xd07\xd1/:#;\x80/1$;w." &"/#$+#)(#\'#("\'#&\'#'),E('%24""6475/,#;{/#$+")("\'#&\'#'),E("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),E(";*.) &;+.# &;-"),E(';+.\x8f &;-.\x89 &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),E('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),E('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),E("$;~0#*;~&"),E(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),E('%%;"/\x87#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:\xd2! )'),E(";\x81.# &;\x82"),E('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),E('$;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/\x8c#0\x89*;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),E("$;y0#*;y&"),E('%3\x92""5#7\xd3/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:\xd4% )(%\'#($\'#(#\'#("\'#&\'#'),E('2\xd5""6\xd57\xd6'),E('2\xd7""6\xd77\xd8'),E('2\xd9""6\xd97\xda'),E('2\xdb""6\xdb7\xdc'),E('2\xdd""6\xdd7\xde'),E('2\xdf""6\xdf7\xe0'),E('2\xe1""6\xe17\xe2'),E('2\xe3""6\xe37\xe4'),E('2\xe5""6\xe57\xe6'),E('2\xe7""6\xe77\xe8'),E('2\xe9""6\xe97\xea'),E("%;\x85.Y &;\x86.S &;\x88.M &;\x89.G &;\x8a.A &;\x8b.; &;\x8c.5 &;\x8f./ &;\x8d.) &;\x8e.# &;6/& 8!:\xeb! )"),E("%;\x84/G#;'/>$;\x92/5$;'/,$;\x94/#$+%)(%'#($'#(#'#(\"'#&'#"),E("%;\x93/' 8!:\xec!! )"),E("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),E("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:\xed! )"),E("%;\xb6/Y#$%;A/,#;\xb6/#$+\")(\"'#&'#06*%;A/,#;\xb6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":\xee" )("\'#&\'#'),E("%;:.c &%;\x98/Y#$%;A/,#;\x98/#$+\")(\"'#&'#06*%;A/,#;\x98/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:\xef! )"),E("%;L.# &;\x99/]#$%;B/,#;\x9b/#$+\")(\"'#&'#06*%;B/,#;\x9b/#$+\")(\"'#&'#&/'$8\":\xf0\" )(\"'#&'#"),E("%;\x9a.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),E("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:\xf1!! )"),E(";\x9c.) &;\x9d.# &;\xa0"),E("%3\xf2\"\"5!7\xf3/:#;</1$;\x9f/($8#:\xf4#! )(#'#(\"'#&'#"),E("%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\xf7#! )(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\xf8!! )"),E('%2\xf9""6\xf97\xfa/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":\xfb" )("\'#&\'#'),E('%;6/J#%;</,#;\xa1/#$+")("\'#&\'#." &"/)$8":\xfc""! )("\'#&\'#'),E(";6.) &;T.# &;H"),E("%;\xa3/Y#$%;B/,#;\xa4/#$+\")(\"'#&'#06*%;B/,#;\xa4/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E('%3\xfd""5&7\xfe.G &3\xff""5\'7\u0100.; &3\u0101""5$7\u0102./ &3\u0103""5%7\u0104.# &;6/& 8!:\u0105! )'),E(";\xa5.# &;\xa0"),E('%3\u0106""5(7\u0107/M#;</D$3\u0108""5(7\u0109./ &3\u010a""5(7\u010b.# &;6/#$+#)(#\'#("\'#&\'#'),E("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u010c!! )"),E("%;\xa9/& 8!:\u010d! )"),E("%;\xaa/k#;;/b$;\xaf/Y$$%;B/,#;\xb0/#$+\")(\"'#&'#06*%;B/,#;\xb0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),E(";\xab.# &;\xac"),E('3\u010e""5$7\u010f.S &3\u0110""5%7\u0111.G &3\u0112""5%7\u0113.; &3\u0114""5%7\u0115./ &3\u0116""5+7\u0117.# &;\xad'),E('3\u0118""5\'7\u0119./ &3\u011a""5)7\u011b.# &;\xad'),E(";6.# &;\xae"),E('%3\u011c""5"7\u011d/,#;6/#$+")("\'#&\'#'),E(";\xad.# &;6"),E("%;6/5#;</,$;\xb1/#$+#)(#'#(\"'#&'#"),E(";6.# &;H"),E("%;\xb3/5#;./,$;\x90/#$+#)(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u011e!! )"),E("%;\x9e/' 8!:\u011f!! )"),E('%;\xb6/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u0120"!!)("\'#&\'#'),E('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),E("%;L.# &;\x99/]#$%;B/,#;\xb8/#$+\")(\"'#&'#06*%;B/,#;\xb8/#$+\")(\"'#&'#&/'$8\":\u0121\" )(\"'#&'#"),E(";\xb9.# &;\xa0"),E("%3\u0122\"\"5#7\u0123/:#;</1$;6/($8#:\u0124#! )(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u0125!! )"),E("%;\x9e/' 8!:\u0126!! )"),E("%$;\x9a0#*;\x9a&/x#;@/o$;M/f$;?/]$$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8%:\u0127% )(%'#($'#(#'#(\"'#&'#"),E(";\xbe"),E("%3\u0128\"\"5&7\u0129/k#;./b$;\xc1/Y$$%;A/,#;\xc1/#$+\")(\"'#&'#06*%;A/,#;\xc1/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;\xbf"),E("%;6/k#;./b$;\xc0/Y$$%;A/,#;\xc0/#$+\")(\"'#&'#06*%;A/,#;\xc0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),E("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),E(";\xc2.G &;\xc4.A &;\xc6.; &;\xc8.5 &;\xc9./ &;\xca.) &;\xcb.# &;\xc0"),E("%3\u012a\"\"5%7\u012b/5#;</,$;\xc3/#$+#)(#'#(\"'#&'#"),E("%;I/' 8!:\u012c!! )"),E("%3\u012d\"\"5&7\u012e/\x97#;</\x8e$;D/\x85$;\xc5/|$$%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),E(";t.# &;w"),E("%3\u012f\"\"5%7\u0130/5#;</,$;\xc7/#$+#)(#'#(\"'#&'#"),E("%;I/' 8!:\u0131!! )"),E("%3\u0132\"\"5&7\u0133/:#;</1$;I/($8#:\u0134#! )(#'#(\"'#&'#"),E('%3\u0135""5%7\u0136/]#;</T$%3\u0137""5$7\u0138/& 8!:\u0139! ).4 &%3\u013a""5%7\u013b/& 8!:\u013c! )/#$+#)(#\'#("\'#&\'#'),E('%3\u013d""5)7\u013e/R#;</I$3\u013f""5#7\u0140./ &3\u0141""5(7\u0142.# &;6/($8#:\u0143#! )(#\'#("\'#&\'#'),E('%3\u0144""5#7\u0145/\x93#;</\x8a$;D/\x81$%;\xcc/e#$%2D""6D7E/,#;\xcc/#$+")("\'#&\'#0<*%2D""6D7E/,#;\xcc/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),E('%3\u0146""5(7\u0147./ &3\u0148""5$7\u0149.# &;6/\' 8!:\u014a!! )'),E("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%;\xcf/G#;./>$;\xcf/5$;./,$;\x90/#$+%)(%'#($'#(#'#(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u014b!! )"),E("%;\xd1/]#$%;A/,#;\xd1/#$+\")(\"'#&'#06*%;A/,#;\xd1/#$+\")(\"'#&'#&/'$8\":\u014c\" )(\"'#&'#"),E("%;\x99/]#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8\":\u014d\" )(\"'#&'#"),E('%;L.O &;\x99.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/\'$8":\u014e" )("\'#&\'#'),E("%;\xd4/]#$%;B/,#;\xd5/#$+\")(\"'#&'#06*%;B/,#;\xd5/#$+\")(\"'#&'#&/'$8\":\u014f\" )(\"'#&'#"),E("%;\x96/& 8!:\u0150! )"),E('%3\u0151""5(7\u0152/:#;</1$;6/($8#:\u0153#! )(#\'#("\'#&\'#.g &%3\u0154""5&7\u0155/:#;</1$;6/($8#:\u0156#! )(#\'#("\'#&\'#.: &%3\u0157""5*7\u0158/& 8!:\u0159! ).# &;\xa0'),E('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u015c!! )'),E("%;\xd8/Y#$%;A/,#;\xd8/#$+\")(\"'#&'#06*%;A/,#;\xd8/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%;\x99/Y#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%$;!/&#0#*;!&&&#/' 8!:\u015d!! )"),E("%;\xdb/Y#$%;B/,#;\xdc/#$+\")(\"'#&'#06*%;B/,#;\xdc/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E('%3\u015e""5&7\u015f.; &3\u0160""5\'7\u0161./ &3\u0162""5*7\u0163.# &;6/& 8!:\u0164! )'),E("%3\u0165\"\"5&7\u0166/:#;</1$;\xdd/($8#:\u0167#! )(#'#(\"'#&'#.} &%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\u0168#! )(#'#(\"'#&'#.P &%3\u0169\"\"5+7\u016a/:#;</1$;\x9e/($8#:\u016b#! )(#'#(\"'#&'#.# &;\xa0"),E('3\u016c""5+7\u016d.k &3\u016e""5)7\u016f._ &3\u0170""5(7\u0171.S &3\u0172""5\'7\u0173.G &3\u0174""5&7\u0175.; &3\u0176""5*7\u0177./ &3\u0178""5)7\u0179.# &;6'),E(';1." &"'),E('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u017a!! )'),E("%;L.# &;\x99/]#$%;B/,#;\xe1/#$+\")(\"'#&'#06*%;B/,#;\xe1/#$+\")(\"'#&'#&/'$8\":\u017b\" )(\"'#&'#"),E(";\xb9.# &;\xa0"),E("%;\xe3/Y#$%;A/,#;\xe3/#$+\")(\"'#&'#06*%;A/,#;\xe3/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),E("%;\xea/k#;./b$;\xed/Y$$%;B/,#;\xe4/#$+\")(\"'#&'#06*%;B/,#;\xe4/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),E(";\xe5.; &;\xe6.5 &;\xe7./ &;\xe8.) &;\xe9.# &;\xa0"),E("%3\u017c\"\"5#7\u017d/:#;</1$;\xf0/($8#:\u017e#! )(#'#(\"'#&'#"),E("%3\u017f\"\"5%7\u0180/:#;</1$;T/($8#:\u0181#! )(#'#(\"'#&'#"),E("%3\u0182\"\"5(7\u0183/F#;</=$;\\.) &;Y.# &;X/($8#:\u0184#! )(#'#(\"'#&'#"),E("%3\u0185\"\"5&7\u0186/:#;</1$;6/($8#:\u0187#! )(#'#(\"'#&'#"),E("%3\u0188\"\"5%7\u0189/A#;</8$$;!0#*;!&/($8#:\u018a#! )(#'#(\"'#&'#"),E("%;\xeb/G#;;/>$;6/5$;;/,$;\xec/#$+%)(%'#($'#(#'#(\"'#&'#"),E('%3\x92""5#7\xd3.# &;6/\' 8!:\u018b!! )'),E('%3\xb1""5#7\u018c.G &3\xb3""5#7\u018d.; &3\xb7""5#7\u018e./ &3\xb5""5$7\u018f.# &;6/\' 8!:\u0190!! )'),E('%;\xee/D#%;C/,#;\xef/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E("%;U.) &;\\.# &;X/& 8!:\u0191! )"),E('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\u0192!! )'),E('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:\u0193!! )'),E(";\xbe"),E('%;\x9e/^#$%;B/,#;\xf3/#$+")("\'#&\'#06*%;B/,#;\xf3/#$+")("\'#&\'#&/($8":\u0194"!!)("\'#&\'#'),E(";\xf4.# &;\xa0"),E('%2\u0195""6\u01957\u0196/L#;</C$2\u0197""6\u01977\u0198.) &2\u0199""6\u01997\u019a/($8#:\u019b#! )(#\'#("\'#&\'#'),E('%;\x9e/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u019c"!!)("\'#&\'#'),E("%;6/5#;0/,$;\xf7/#$+#)(#'#(\"'#&'#"),E("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),E("$;%0#*;%&"),E("%;\xfa/;#28\"\"6879/,$;\xfb/#$+#)(#'#(\"'#&'#"),E('%3\u019d""5%7\u019e.) &3\u019f""5$7\u01a0/\' 8!:\u01a1!! )'),E('%;\xfc/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),E("%;\\.) &;X.# &;\x82/' 8!:\u01a2!! )"),E(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),E('2L""6L7M.\x95 &2B""6B7C.\x89 &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),E('%;\u0100/b#28""6879/S$;\xfb/J$%2\u01a3""6\u01a37\u01a4/,#;\xec/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),E('%3\u01a5""5%7\u01a6.) &3\u01a7""5$7\u01a8/\' 8!:\u01a1!! )'),E('%3\xb1""5#7\xb2.6 &3\xb3""5#7\xb4.* &$;+0#*;+&/\' 8!:\u01a9!! )'),E("%;\u0104/\x87#2F\"\"6F7G/x$;\u0103/o$2F\"\"6F7G/`$;\u0103/W$2F\"\"6F7G/H$;\u0103/?$2F\"\"6F7G/0$;\u0105/'$8):\u01aa) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),E("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),E("%;\u0103/,#;\u0103/#$+\")(\"'#&'#"),E("%;\u0103/5#;\u0103/,$;\u0103/#$+#)(#'#(\"'#&'#"),E("%;q/T#$;m0#*;m&/D$%; /,#;\xf8/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),E('%2\u01ab""6\u01ab7\u01ac.) &2\u01ad""6\u01ad7\u01ae/w#;0/n$;\u0108/e$$%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#0<*%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),E(";\x99.# &;L"),E("%2\u01af\"\"6\u01af7\u01b0/5#;</,$;\u010a/#$+#)(#'#(\"'#&'#"),E("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")],d=0,f=0,h=[{line:1,column:1}],p=0,g=[],v=0;if(void 0!==t.startRule){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=s[t.startRule]}function m(){return e.substring(f,d)}function y(){return k(f,d)}function b(e,t){return{type:"literal",text:e,ignoreCase:t}}function S(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function w(t){var n,r=h[t];if(r)return r;for(n=t-1;!h[n];)n--;for(r={line:(r=h[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return h[t]=r,r}function k(e,t){var n=w(e),r=w(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function T(e){d<p||(d>p&&(p=d,g=[]),g.push(e))}function C(e,t,n){return new o(o.buildMessage(e,t),e,t,n)}function E(e){return e.split("").map((function(e){return e.charCodeAt(0)-32}))}if(t.data={},n=function t(n){for(var r,i=u[n],o=0,s=[],c=i.length,h=[],p=[];;){for(;o<c;)switch(i[o]){case 0:p.push(l[i[o+1]]),o+=2;break;case 1:p.push(void 0),o++;break;case 2:p.push(null),o++;break;case 3:p.push(a),o++;break;case 4:p.push([]),o++;break;case 5:p.push(d),o++;break;case 6:p.pop(),o++;break;case 7:d=p.pop(),o++;break;case 8:p.length-=i[o+1],o+=2;break;case 9:p.splice(-2,1),o++;break;case 10:p[p.length-2].push(p.pop()),o++;break;case 11:p.push(p.splice(p.length-i[o+1],i[o+1])),o+=2;break;case 12:p.push(e.substring(p.pop(),d)),o++;break;case 13:h.push(c),s.push(o+3+i[o+1]+i[o+2]),p[p.length-1]?(c=o+3+i[o+1],o+=3):(c=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 14:h.push(c),s.push(o+3+i[o+1]+i[o+2]),p[p.length-1]===a?(c=o+3+i[o+1],o+=3):(c=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 15:h.push(c),s.push(o+3+i[o+1]+i[o+2]),p[p.length-1]!==a?(c=o+3+i[o+1],o+=3):(c=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 16:p[p.length-1]!==a?(h.push(c),s.push(o),c=o+2+i[o+1],o+=2):o+=2+i[o+1];break;case 17:h.push(c),s.push(o+3+i[o+1]+i[o+2]),e.length>d?(c=o+3+i[o+1],o+=3):(c=o+3+i[o+1]+i[o+2],o+=3+i[o+1]);break;case 18:h.push(c),s.push(o+4+i[o+2]+i[o+3]),e.substr(d,l[i[o+1]].length)===l[i[o+1]]?(c=o+4+i[o+2],o+=4):(c=o+4+i[o+2]+i[o+3],o+=4+i[o+2]);break;case 19:h.push(c),s.push(o+4+i[o+2]+i[o+3]),e.substr(d,l[i[o+1]].length).toLowerCase()===l[i[o+1]]?(c=o+4+i[o+2],o+=4):(c=o+4+i[o+2]+i[o+3],o+=4+i[o+2]);break;case 20:h.push(c),s.push(o+4+i[o+2]+i[o+3]),l[i[o+1]].test(e.charAt(d))?(c=o+4+i[o+2],o+=4):(c=o+4+i[o+2]+i[o+3],o+=4+i[o+2]);break;case 21:p.push(e.substr(d,i[o+1])),d+=i[o+1],o+=2;break;case 22:p.push(l[i[o+1]]),d+=l[i[o+1]].length,o+=2;break;case 23:p.push(a),0===v&&T(l[i[o+1]]),o+=2;break;case 24:f=p[p.length-1-i[o+1]],o+=2;break;case 25:f=d,o++;break;case 26:r=i.slice(o+4,o+4+i[o+3]).map((function(e){return p[p.length-1-e]})),p.splice(p.length-i[o+2],i[o+2],l[i[o+1]].apply(null,r)),o+=4+i[o+3];break;case 27:p.push(t(i[o+1])),o+=2;break;case 28:v++,o++;break;case 29:v--,o++;break;default:throw new Error("Invalid opcode: "+i[o]+".")}if(!(h.length>0))break;c=h.pop(),o=s.pop()}return p[0]}(c),n!==a&&d===e.length)return n;throw n!==a&&d<e.length&&T({type:"end"}),C(g,p<e.length?e.charAt(p):null,p<e.length?k(p,p+1):k(p,p))}},function(e,t,n){n.r(t),n.d(t,{URI:function(){return r},equivalentURI:function(){return i}});var r=function(e){p(n,e);var t=g(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sip",i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;if(h(this,n),(e=t.call(this,s||{})).headers={},!o)throw new TypeError('missing or invalid "host" parameter');for(var l in c)c.hasOwnProperty(l)&&e.setHeader(l,c[l]);return e.raw={scheme:r,user:i,host:o,port:a},e.normal={scheme:r.toLowerCase(),user:i,host:o.toLowerCase(),port:a},e}return f(n,[{key:"scheme",get:function(){return this.normal.scheme},set:function(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()}},{key:"user",get:function(){return this.normal.user},set:function(e){this.normal.user=this.raw.user=e}},{key:"host",get:function(){return this.normal.host},set:function(e){this.raw.host=e,this.normal.host=e.toLowerCase()}},{key:"aor",get:function(){return this.normal.user+"@"+this.normal.host}},{key:"port",get:function(){return this.normal.port},set:function(e){this.normal.port=this.raw.port=e}},{key:"setHeader",value:function(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]}},{key:"getHeader",value:function(e){if(e)return this.headers[this.headerize(e)]}},{key:"hasHeader",value:function(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))}},{key:"deleteHeader",value:function(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){var t=this.headers[e];return delete this.headers[e],t}}},{key:"clearHeaders",value:function(){this.headers={}}},{key:"clone",value:function(){return new n(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))}},{key:"toRaw",value:function(){return this._toString(this._raw)}},{key:"toString",value:function(){return this._toString(this._normal)}},{key:"_normal",get:function(){return this.normal}},{key:"_raw",get:function(){return this.raw}},{key:"_toString",value:function(e){var t=e.scheme+":";for(var n in e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port),this.parameters)this.parameters.hasOwnProperty(n)&&(t+=";"+n,null!==this.parameters[n]&&(t+="="+this.parameters[n]));var r=[];for(var i in this.headers)if(this.headers.hasOwnProperty(i))for(var o in this.headers[i])this.headers[i].hasOwnProperty(o)&&r.push(i+"="+this.headers[i][o]);return r.length>0&&(t+="?"+r.join("&")),t}},{key:"escapeUser",value:function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw n}return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}},{key:"headerize",value:function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length,i="",o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i}}]),n}(n(24).Parameters);function i(e,t){if(e.scheme!==t.scheme)return!1;if(e.user!==t.user||e.host!==t.host||e.port!==t.port)return!1;if(!function(e,t){var n=Object.keys(e.parameters),r=Object.keys(t.parameters);return!!n.filter((function(e){return r.includes(e)})).every((function(n){return e.parameters[n]===t.parameters[n]}))&&!!["user","ttl","method","transport"].every((function(n){return e.hasParam(n)&&t.hasParam(n)||!e.hasParam(n)&&!t.hasParam(n)}))&&!!["maddr"].every((function(n){return e.hasParam(n)&&t.hasParam(n)||!e.hasParam(n)&&!t.hasParam(n)}))}(e,t))return!1;var n=Object.keys(e.headers),r=Object.keys(t.headers);if(0!==n.length||0!==r.length){if(n.length!==r.length)return!1;var i=n.filter((function(e){return r.includes(e)}));if(i.length!==r.length)return!1;if(!i.every((function(n){return e.headers[n].length&&t.headers[n].length&&e.headers[n][0]===t.headers[n][0]})))return!1}return!0}},function(e,t,n){n.r(t),n.d(t,{Parameters:function(){return r}});var r=function(){function e(t){for(var n in h(this,e),this.parameters={},t)t.hasOwnProperty(n)&&this.setParam(n,t[n])}return f(e,[{key:"setParam",value:function(e,t){e&&(this.parameters[e.toLowerCase()]="undefined"===typeof t||null===t?null:t.toString())}},{key:"getParam",value:function(e){if(e)return this.parameters[e.toLowerCase()]}},{key:"hasParam",value:function(e){return!(!e||void 0===this.parameters[e.toLowerCase()])}},{key:"deleteParam",value:function(e){if(e=e.toLowerCase(),this.hasParam(e)){var t=this.parameters[e];return delete this.parameters[e],t}}},{key:"clearParams",value:function(){this.parameters={}}}]),e}()},function(e,t,n){n.r(t),n.d(t,{NameAddrHeader:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,i)).uri=e,o._displayName=r,o}return f(n,[{key:"friendlyName",get:function(){return this.displayName||this.uri.aor}},{key:"displayName",get:function(){return this._displayName},set:function(e){this._displayName=e}},{key:"clone",value:function(){return new n(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))}},{key:"toString",value:function(){var e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";for(var t in e+="<"+this.uri.toString()+">",this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e}}]),n}(n(24).Parameters)},function(e,t,n){n.r(t),n.d(t,{IncomingResponseMessage:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(){return h(this,n),t.call(this)}return f(n)}(n(19).IncomingMessage)},function(e,t,n){n.r(t),n.d(t,{OutgoingRequestMessage:function(){return o}});var r=n(25),i=n(20),o=function(){function e(t,n,r,o,a,s,c){h(this,e),this.headers={},this.extraHeaders=[],this.options=e.getDefaultOptions(),a&&(this.options=Object.assign(Object.assign({},this.options),a),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),s&&s.length&&(this.extraHeaders=s.slice()),c&&(this.body={body:c.content,contentType:c.contentType}),this.method=t,this.ruri=n.clone(),this.fromURI=r.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:(0,i.newTag)(),this.from=e.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=o.clone(),this.toTag=this.options.toTag,this.to=e.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+(0,i.createRandomToken)(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}return f(e,[{key:"getHeader",value:function(e){var t=this.headers[(0,i.headerize)(e)];if(t){if(t[0])return t[0]}else{var n,r=new RegExp("^\\s*"+e+"\\s*:","i"),o=s(this.extraHeaders);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r.test(a))return a.substring(a.indexOf(":")+1).trim()}}catch(c){o.e(c)}finally{o.f()}}}},{key:"getHeaders",value:function(e){var t=[],n=this.headers[(0,i.headerize)(e)];if(n){var r,o=s(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.push(a)}}catch(f){o.e(f)}finally{o.f()}}else{var c,l=new RegExp("^\\s*"+e+"\\s*:","i"),u=s(this.extraHeaders);try{for(u.s();!(c=u.n()).done;){var d=c.value;l.test(d)&&t.push(d.substring(d.indexOf(":")+1).trim())}}catch(f){u.e(f)}finally{u.f()}}return t}},{key:"hasHeader",value:function(e){if(this.headers[(0,i.headerize)(e)])return!0;var t,n=new RegExp("^\\s*"+e+"\\s*:","i"),r=s(this.extraHeaders);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n.test(o))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}},{key:"setHeader",value:function(e,t){this.headers[(0,i.headerize)(e)]=t instanceof Array?t:[t]}},{key:"setViaHeader",value:function(e,t){this.options.hackViaTcp&&(t="TCP");var n="SIP/2.0/"+t;n+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(n+=";rport"),this.setHeader("via",n),this.branch=e}},{key:"toString",value:function(){var e="";for(var t in e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n",this.headers)if(this.headers[t]){var n,r=s(this.headers[t]);try{for(r.s();!(n=r.n()).done;)e+=t+": "+n.value+"\r\n"}catch(c){r.e(c)}finally{r.f()}}var o,a=s(this.extraHeaders);try{for(a.s();!(o=a.n()).done;)e+=o.value.trim()+"\r\n"}catch(c){a.e(c)}finally{a.f()}return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"===typeof this.body?(e+="Content-Length: "+(0,i.utf8Length)(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+(0,i.utf8Length)(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e}}],[{key:"getDefaultOptions",value:function(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}}},{key:"makeNameAddrHeader",value:function(e,t,n){var i={};return n&&(i.tag=n),new r.NameAddrHeader(e,t,i)}}]),e}()},function(e,t,n){n.r(t),n.d(t,{AllowedMethods:function(){return i}});var r=n(29),i=[r.C.ACK,r.C.BYE,r.C.CANCEL,r.C.INFO,r.C.INVITE,r.C.MESSAGE,r.C.NOTIFY,r.C.OPTIONS,r.C.PRACK,r.C.REFER,r.C.REGISTER,r.C.SUBSCRIBE]},function(e,t,n){var r,i;n.r(t),n.d(t,{C:function(){return r}}),(i=r||(r={})).ACK="ACK",i.BYE="BYE",i.CANCEL="CANCEL",i.INFO="INFO",i.INVITE="INVITE",i.MESSAGE="MESSAGE",i.NOTIFY="NOTIFY",i.OPTIONS="OPTIONS",i.REGISTER="REGISTER",i.UPDATE="UPDATE",i.SUBSCRIBE="SUBSCRIBE",i.PUBLISH="PUBLISH",i.REFER="REFER",i.PRACK="PRACK"},function(e,t,n){var r,i,o,a;n.r(t),n.d(t,{SessionState:function(){return r},SignalingState:function(){return o}}),(i=r||(r={})).Initial="Initial",i.Early="Early",i.AckWait="AckWait",i.Confirmed="Confirmed",i.Terminated="Terminated",(a=o||(o={})).Initial="Initial",a.HaveLocalOffer="HaveLocalOffer",a.HaveRemoteOffer="HaveRemoteOffer",a.Stable="Stable",a.Closed="Closed"},function(e,t,n){n.r(t),n.d(t,{Message:function(){return r}});var r=function(){function e(t){h(this,e),this.incomingMessageRequest=t}return f(e,[{key:"request",get:function(){return this.incomingMessageRequest.message}},{key:"accept",value:function(e){return this.incomingMessageRequest.accept(e),Promise.resolve()}},{key:"reject",value:function(e){return this.incomingMessageRequest.reject(e),Promise.resolve()}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Notification:function(){return r}});var r=function(){function e(t){h(this,e),this.incomingNotifyRequest=t}return f(e,[{key:"request",get:function(){return this.incomingNotifyRequest.message}},{key:"accept",value:function(e){return this.incomingNotifyRequest.accept(e),Promise.resolve()}},{key:"reject",value:function(e){return this.incomingNotifyRequest.reject(e),Promise.resolve()}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Referral:function(){return i}});var r=n(25),i=function(){function e(t,n){h(this,e),this.incomingReferRequest=t,this.session=n}return f(e,[{key:"referTo",get:function(){var e=this.incomingReferRequest.message.parseHeader("refer-to");if(!(e instanceof r.NameAddrHeader))throw new Error("Failed to parse Refer-To header.");return e}},{key:"referredBy",get:function(){return this.incomingReferRequest.message.getHeader("referred-by")}},{key:"replaces",get:function(){var e=this.referTo.uri.getHeader("replaces");return e instanceof Array?e[0]:e}},{key:"request",get:function(){return this.incomingReferRequest.message}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:202};return this.incomingReferRequest.accept(e),Promise.resolve()}},{key:"reject",value:function(e){return this.incomingReferRequest.reject(e),Promise.resolve()}},{key:"makeInviter",value:function(e){if(this.inviter)return this.inviter;var t=this.referTo.uri.clone();t.clearHeaders();var n=((e=e||{}).extraHeaders||[]).slice(),r=this.replaces;r&&n.push("Replaces: "+decodeURIComponent(r));var i=this.referredBy;return i&&n.push("Referred-By: "+i),e.extraHeaders=n,this.inviter=this.session.userAgent._makeInviter(t,e),this.inviter._referred=this.session,this.session._referral=this.inviter,this.inviter}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{SIPExtension:function(){return r},UserAgentRegisteredOptionTags:function(){return o}}),(i=r||(r={})).Required="Required",i.Supported="Supported",i.Unsupported="Unsupported";var o={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0}},function(e,t,n){n.r(t),n.d(t,{TransactionStateError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){return h(this,n),t.call(this,e||"Transaction state error.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{Timers:function(){return o}});var r=500,i=5e3,o={T1:r,T2:4e3,T4:i,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},function(e,t,n){n.r(t),n.d(t,{Inviter:function(){return m}});var r=n(21),i=n(29),o=n(30),a=n(20),s=n(15),d=n(16),v=n(34),m=function(e){p(n,e);var t=g(n);function n(e,o){var s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,n),(s=t.call(this,e,c)).disposed=!1,s.earlyMedia=!1,s.earlyMediaSessionDescriptionHandlers=new Map,s.isCanceled=!1,s.inviteWithoutSdp=!1,s.logger=e.getLogger("sip.Inviter"),s.earlyMedia=void 0!==c.earlyMedia?c.earlyMedia:s.earlyMedia,s.fromTag=(0,a.newTag)(),s.inviteWithoutSdp=void 0!==c.inviteWithoutSdp?c.inviteWithoutSdp:s.inviteWithoutSdp;var l=Object.assign({},c);l.params=Object.assign({},c.params);var d=c.anonymous||!1,f=e.contact.toString({anonymous:d,outbound:d?!e.contact.tempGruu:!e.contact.pubGruu});d&&e.configuration.uri&&(l.params.fromDisplayName="Anonymous",l.params.fromUri="sip:anonymous@anonymous.invalid");var p=e.userAgentCore.configuration.aor;if(l.params.fromUri&&(p="string"===typeof l.params.fromUri?r.Grammar.URIParse(l.params.fromUri):l.params.fromUri),!p)throw new TypeError("Invalid from URI: "+l.params.fromUri);var g=o;if(l.params.toUri&&(g="string"===typeof l.params.toUri?r.Grammar.URIParse(l.params.toUri):l.params.toUri),!g)throw new TypeError("Invalid to URI: "+l.params.toUri);var m=Object.assign({},l.params);m.fromTag=s.fromTag;var y=(l.extraHeaders||[]).slice();d&&e.configuration.uri&&(y.push("P-Preferred-Identity: "+e.configuration.uri.toString()),y.push("Privacy: id")),y.push("Contact: "+f),y.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),e.configuration.sipExtension100rel===v.SIPExtension.Required&&y.push("Require: 100rel"),e.configuration.sipExtensionReplaces===v.SIPExtension.Required&&y.push("Require: replaces"),l.extraHeaders=y;var b=void 0;return s.outgoingRequestMessage=e.userAgentCore.makeOutgoingRequestMessage(i.C.INVITE,o,p,g,m,y,b),s._contact=f,s._referralInviterOptions=l,s._renderbody=c.renderbody,s._rendertype=c.rendertype,c.sessionDescriptionHandlerModifiers&&(s.sessionDescriptionHandlerModifiers=c.sessionDescriptionHandlerModifiers),c.sessionDescriptionHandlerOptions&&(s.sessionDescriptionHandlerOptions=c.sessionDescriptionHandlerOptions),c.sessionDescriptionHandlerModifiersReInvite&&(s.sessionDescriptionHandlerModifiersReInvite=c.sessionDescriptionHandlerModifiersReInvite),c.sessionDescriptionHandlerOptionsReInvite&&(s.sessionDescriptionHandlerOptionsReInvite=c.sessionDescriptionHandlerOptionsReInvite),s._id=s.outgoingRequestMessage.callId+s.fromTag,s.userAgent._sessions[s._id]=u(s),s}return f(n,[{key:"dispose",value:function(){var e=this;if(this.disposed)return Promise.resolve();switch(this.disposed=!0,this.disposeEarlyMedia(),this.state){case d.SessionState.Initial:case d.SessionState.Establishing:return this.cancel().then((function(){return c(l(n.prototype),"dispose",e).call(e)}));case d.SessionState.Established:case d.SessionState.Terminating:case d.SessionState.Terminated:return c(l(n.prototype),"dispose",this).call(this);default:throw new Error("Unknown state.")}}},{key:"body",get:function(){return this.outgoingRequestMessage.body}},{key:"localIdentity",get:function(){return this.outgoingRequestMessage.from}},{key:"remoteIdentity",get:function(){return this.outgoingRequestMessage.to}},{key:"request",get:function(){return this.outgoingRequestMessage}},{key:"cancel",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Inviter.cancel"),this.state!==d.SessionState.Initial&&this.state!==d.SessionState.Establishing){var n=new Error("Invalid session state ".concat(this.state));return this.logger.error(n.message),Promise.reject(n)}function r(e,t){if(e&&e<200||e>699)throw new TypeError("Invalid statusCode: "+e);if(e)return"SIP;cause="+e+';text="'+((0,a.getReasonPhrase)(e)||t)+'"'}return this.isCanceled=!0,this.stateTransition(d.SessionState.Terminating),this.outgoingInviteRequest?(t.statusCode&&t.reasonPhrase&&(e=r(t.statusCode,t.reasonPhrase)),this.outgoingInviteRequest.cancel(e,t)):(this.logger.warn("Canceled session before INVITE was sent"),this.stateTransition(d.SessionState.Terminated)),Promise.resolve()}},{key:"invite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("Inviter.invite"),this.state!==d.SessionState.Initial)return c(l(n.prototype),"invite",this).call(this,t);if(t.sessionDescriptionHandlerModifiers&&(this.sessionDescriptionHandlerModifiers=t.sessionDescriptionHandlerModifiers),t.sessionDescriptionHandlerOptions&&(this.sessionDescriptionHandlerOptions=t.sessionDescriptionHandlerOptions),t.withoutSdp||this.inviteWithoutSdp)return this._renderbody&&this._rendertype&&(this.outgoingRequestMessage.body={contentType:this._rendertype,body:this._renderbody}),this.stateTransition(d.SessionState.Establishing),Promise.resolve(this.sendInvite(t));var r={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.getOffer(r).then((function(n){return e.outgoingRequestMessage.body={body:n.content,contentType:n.contentType},e.stateTransition(d.SessionState.Establishing),e.sendInvite(t)})).catch((function(t){throw e.logger.log(t.message),e.stateTransition(d.SessionState.Terminated),t}))}},{key:"sendInvite",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.outgoingInviteRequest=this.userAgent.userAgentCore.invite(this.outgoingRequestMessage,{onAccept:function(n){return e.dialog?(e.logger.log("Additional confirmed dialog, sending ACK and BYE"),void e.ackAndBye(n)):e.isCanceled?(e.logger.log("Canceled session accepted, sending ACK and BYE"),e.ackAndBye(n),void e.stateTransition(d.SessionState.Terminated)):(e.notifyReferer(n),void e.onAccept(n).then((function(){e.disposeEarlyMedia()})).catch((function(){e.disposeEarlyMedia()})).then((function(){t.requestDelegate&&t.requestDelegate.onAccept&&t.requestDelegate.onAccept(n)})))},onProgress:function(n){e.isCanceled||(e.notifyReferer(n),e.onProgress(n).catch((function(){e.disposeEarlyMedia()})).then((function(){t.requestDelegate&&t.requestDelegate.onProgress&&t.requestDelegate.onProgress(n)})))},onRedirect:function(n){e.notifyReferer(n),e.onRedirect(n),t.requestDelegate&&t.requestDelegate.onRedirect&&t.requestDelegate.onRedirect(n)},onReject:function(n){e.notifyReferer(n),e.onReject(n),t.requestDelegate&&t.requestDelegate.onReject&&t.requestDelegate.onReject(n)},onTrying:function(n){e.notifyReferer(n),e.onTrying(n),t.requestDelegate&&t.requestDelegate.onTrying&&t.requestDelegate.onTrying(n)}}),this.outgoingInviteRequest}},{key:"disposeEarlyMedia",value:function(){this.earlyMediaSessionDescriptionHandlers.forEach((function(e){e.close()})),this.earlyMediaSessionDescriptionHandlers.clear()}},{key:"notifyReferer",value:function(e){var t=this;if(this._referred){if(!(this._referred instanceof s.Session))throw new Error("Referred session not instance of session");if(this._referred.dialog){if(!e.message.statusCode)throw new Error("Status code undefined.");if(!e.message.reasonPhrase)throw new Error("Reason phrase undefined.");var n=e.message.statusCode,r=e.message.reasonPhrase,i="SIP/2.0 ".concat(n," ").concat(r).trim();this._referred.dialog.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:{contentDisposition:"render",contentType:"message/sipfrag",content:i}}).delegate={onReject:function(){t._referred=void 0}}}}}},{key:"onAccept",value:function(e){var t=this;if(this.logger.log("Inviter.onAccept"),this.state!==d.SessionState.Establishing)return this.logger.error("Accept received while in state ".concat(this.state,", dropping response")),Promise.reject(new Error("Invalid session state ".concat(this.state)));var n=e.message,i=e.session;switch(n.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=r.Grammar.nameAddrHeaderParse(n.getHeader("P-Asserted-Identity"))),i.delegate={onAck:function(e){return t.onAckRequest(e)},onBye:function(e){return t.onByeRequest(e)},onInfo:function(e){return t.onInfoRequest(e)},onInvite:function(e){return t.onInviteRequest(e)},onMessage:function(e){return t.onMessageRequest(e)},onNotify:function(e){return t.onNotifyRequest(e)},onPrack:function(e){return t.onPrackRequest(e)},onRefer:function(e){return t.onReferRequest(e)}},this._dialog=i,i.signalingState){case o.SignalingState.Initial:case o.SignalingState.HaveLocalOffer:return this.logger.error("Received 2xx response to INVITE without a session description"),this.ackAndBye(e,400,"Missing session description"),this.stateTransition(d.SessionState.Terminated),Promise.reject(new Error("Bad Media Description"));case o.SignalingState.HaveRemoteOffer:if(!this._dialog.offer)throw new Error("Session offer undefined in signaling state ".concat(this._dialog.signalingState,"."));var a={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setOfferAndGetAnswer(this._dialog.offer,a).then((function(n){e.ack({body:n}),t.stateTransition(d.SessionState.Established)})).catch((function(n){throw t.ackAndBye(e,488,"Invalid session description"),t.stateTransition(d.SessionState.Terminated),n}));case o.SignalingState.Stable:if(this.earlyMediaSessionDescriptionHandlers.size>0){var s=this.earlyMediaSessionDescriptionHandlers.get(i.id);if(!s)throw new Error("Session description handler undefined.");return this.setSessionDescriptionHandler(s),this.earlyMediaSessionDescriptionHandlers.delete(i.id),e.ack(),this.stateTransition(d.SessionState.Established),Promise.resolve()}if(this.earlyMediaDialog){if(this.earlyMediaDialog!==i){this.earlyMedia&&this.logger.error("You have set the 'earlyMedia' option to 'true' which requires that your INVITE requests do not fork and yet this INVITE request did in fact fork. Consequentially and not surprisingly the end point which accepted the INVITE (confirmed dialog) does not match the end point with which early media has been setup (early dialog) and thus this session is unable to proceed. In accordance with the SIP specifications, the SIP servers your end point is connected to determine if an INVITE forks and the forking behavior of those servers cannot be controlled by this library. If you wish to use early media with this library you must configure those servers accordingly. Alternatively you may set the 'earlyMedia' to 'false' which will allow this library to function with any INVITE requests which do fork.");var c=new Error("Early media dialog does not equal confirmed dialog, terminating session");return this.logger.error(c.message),this.ackAndBye(e,488,"Not Acceptable Here"),this.stateTransition(d.SessionState.Terminated),Promise.reject(c)}return e.ack(),this.stateTransition(d.SessionState.Established),Promise.resolve()}var l=i.answer;if(!l)throw new Error("Answer is undefined.");var u={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(l,u).then((function(){var n;t._renderbody&&t._rendertype&&(n={body:{contentDisposition:"render",contentType:t._rendertype,content:t._renderbody}}),e.ack(n),t.stateTransition(d.SessionState.Established)})).catch((function(n){throw t.logger.error(n.message),t.ackAndBye(e,488,"Not Acceptable Here"),t.stateTransition(d.SessionState.Terminated),n}));case o.SignalingState.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}},{key:"onProgress",value:function(e){var t,n=this;if(this.logger.log("Inviter.onProgress"),this.state!==d.SessionState.Establishing)return this.logger.error("Progress received while in state ".concat(this.state,", dropping response")),Promise.reject(new Error("Invalid session state ".concat(this.state)));if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");var i=e.message,a=e.session;i.hasHeader("P-Asserted-Identity")&&(this._assertedIdentity=r.Grammar.nameAddrHeaderParse(i.getHeader("P-Asserted-Identity")));var s=i.getHeader("require"),c=i.getHeader("rseq"),l=!!(s&&s.includes("100rel")&&c?Number(c):void 0),u=[];switch(l&&u.push("RAck: "+i.getHeader("rseq")+" "+i.getHeader("cseq")),a.signalingState){case o.SignalingState.Initial:return l&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:u})),Promise.resolve();case o.SignalingState.HaveLocalOffer:return l&&e.prack({extraHeaders:u}),Promise.resolve();case o.SignalingState.HaveRemoteOffer:if(!l)return this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response."),Promise.resolve();var f=this.sessionDescriptionHandlerFactory(this,this.userAgent.configuration.sessionDescriptionHandlerFactoryOptions||{});return(null===(t=this.delegate)||void 0===t?void 0:t.onSessionDescriptionHandler)&&this.delegate.onSessionDescriptionHandler(f,!0),this.earlyMediaSessionDescriptionHandlers.set(a.id,f),f.setDescription(i.body,this.sessionDescriptionHandlerOptions,this.sessionDescriptionHandlerModifiers).then((function(){return f.getDescription(n.sessionDescriptionHandlerOptions,n.sessionDescriptionHandlerModifiers)})).then((function(t){var n={contentDisposition:"session",contentType:t.contentType,content:t.body};e.prack({extraHeaders:u,body:n})})).catch((function(e){throw n.stateTransition(d.SessionState.Terminated),e}));case o.SignalingState.Stable:if(l&&e.prack({extraHeaders:u}),this.earlyMedia&&!this.earlyMediaDialog){this.earlyMediaDialog=a;var h=a.answer;if(!h)throw new Error("Answer is undefined.");var p={sessionDescriptionHandlerModifiers:this.sessionDescriptionHandlerModifiers,sessionDescriptionHandlerOptions:this.sessionDescriptionHandlerOptions};return this.setAnswer(h,p).catch((function(e){throw n.stateTransition(d.SessionState.Terminated),e}))}return Promise.resolve();case o.SignalingState.Closed:return Promise.reject(new Error("Terminated."));default:throw new Error("Unknown session signaling state.")}}},{key:"onRedirect",value:function(e){this.logger.log("Inviter.onRedirect"),this.state===d.SessionState.Establishing||this.state===d.SessionState.Terminating?this.stateTransition(d.SessionState.Terminated):this.logger.error("Redirect received while in state ".concat(this.state,", dropping response"))}},{key:"onReject",value:function(e){this.logger.log("Inviter.onReject"),this.state===d.SessionState.Establishing||this.state===d.SessionState.Terminating?this.stateTransition(d.SessionState.Terminated):this.logger.error("Reject received while in state ".concat(this.state,", dropping response"))}},{key:"onTrying",value:function(e){this.logger.log("Inviter.onTrying"),this.state===d.SessionState.Establishing||this.logger.error("Trying received while in state ".concat(this.state,", dropping response"))}}]),n}(s.Session)},function(e,t,n){n.r(t),n.d(t,{Messager:function(){return o}});var r=n(21),i=n(29),o=function(){function e(t,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/plain",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};h(this,e),this.logger=t.getLogger("sip.Messager"),s.params=s.params||{};var c=t.userAgentCore.configuration.aor;if(s.params.fromUri&&(c="string"===typeof s.params.fromUri?r.Grammar.URIParse(s.params.fromUri):s.params.fromUri),!c)throw new TypeError("Invalid from URI: "+s.params.fromUri);var l=n;if(s.params.toUri&&(l="string"===typeof s.params.toUri?r.Grammar.URIParse(s.params.toUri):s.params.toUri),!l)throw new TypeError("Invalid to URI: "+s.params.toUri);var u=s.params?Object.assign({},s.params):{},d=(s.extraHeaders||[]).slice(),f="render",p={contentDisposition:f,contentType:a,content:o};this.request=t.userAgentCore.makeOutgoingRequestMessage(i.C.MESSAGE,n,c,l,u,d,p),this.userAgent=t}return f(e,[{key:"message",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.userAgent.userAgentCore.request(this.request,e.requestDelegate),Promise.resolve()}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{PublisherState:function(){return r}}),(i=r||(r={})).Initial="Initial",i.Published="Published",i.Unpublished="Unpublished",i.Terminated="Terminated"},function(e,t,n){n.r(t),n.d(t,{Publisher:function(){return s}});var r=n(29),i=n(17),o=n(12),a=n(39),s=function(){function e(t,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};h(this,e),this.disposed=!1,this._state=a.PublisherState.Initial,this._stateEventEmitter=new o.EmitterImpl,this.userAgent=t,s.extraHeaders=(s.extraHeaders||[]).slice(),s.contentType=s.contentType||"text/plain","number"!==typeof s.expires||s.expires%1!==0?s.expires=3600:s.expires=Number(s.expires),"boolean"!==typeof s.unpublishOnClose&&(s.unpublishOnClose=!0),this.target=n,this.event=i,this.options=s,this.pubRequestExpires=s.expires,this.logger=t.getLogger("sip.Publisher");var c,l=s.params||{},u=l.fromUri?l.fromUri:t.userAgentCore.configuration.aor,d=l.toUri?l.toUri:n;if(s.body&&s.contentType){var f="render",p=s.contentType,g=s.body;c={contentDisposition:f,contentType:p,content:g}}var v=(s.extraHeaders||[]).slice();this.request=t.userAgentCore.makeOutgoingRequestMessage(r.C.PUBLISH,n,u,d,l,v,c),this.id=this.target.toString()+":"+this.event,this.userAgent._publishers[this.id]=this}return f(e,[{key:"dispose",value:function(){return this.disposed?Promise.resolve():(this.disposed=!0,this.logger.log("Publisher ".concat(this.id," in state ").concat(this.state," is being disposed")),delete this.userAgent._publishers[this.id],this.options.unpublishOnClose&&this.state===a.PublisherState.Published?this.unpublish():(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,this.pubRequestEtag=void 0,Promise.resolve()))}},{key:"state",get:function(){return this._state}},{key:"stateChange",get:function(){return this._stateEventEmitter}},{key:"publish",value:function(e){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.options.body=e,this.pubRequestBody=this.options.body,0===this.pubRequestExpires){if(void 0===this.options.expires)throw new Error("Expires undefined.");this.pubRequestExpires=this.options.expires,this.pubRequestEtag=void 0}return this.sendPublishRequest(),Promise.resolve()}},{key:"unpublish",value:function(){return this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,void 0!==this.pubRequestEtag&&this.sendPublishRequest(),Promise.resolve()}},{key:"receiveResponse",value:function(e){var t=this,n=e.statusCode||0;switch(!0){case/^1[0-9]{2}$/.test(n.toString()):break;case/^2[0-9]{2}$/.test(n.toString()):if(e.hasHeader("SIP-ETag")?this.pubRequestEtag=e.getHeader("SIP-ETag"):this.logger.warn("SIP-ETag header missing in a 200-class response to PUBLISH"),e.hasHeader("Expires")){var r=Number(e.getHeader("Expires"));"number"===typeof r&&r>=0&&r<=this.pubRequestExpires?this.pubRequestExpires=r:this.logger.warn("Bad Expires header in a 200-class response to PUBLISH")}else this.logger.warn("Expires header missing in a 200-class response to PUBLISH");0!==this.pubRequestExpires?(this.publishRefreshTimer=setTimeout((function(){return t.refreshRequest()}),900*this.pubRequestExpires),this._state!==a.PublisherState.Published&&this.stateTransition(a.PublisherState.Published)):this.stateTransition(a.PublisherState.Unpublished);break;case/^412$/.test(n.toString()):if(void 0!==this.pubRequestEtag&&0!==this.pubRequestExpires){if(this.logger.warn("412 response to PUBLISH, recovering"),this.pubRequestEtag=void 0,void 0===this.options.body)throw new Error("Body undefined.");this.publish(this.options.body)}else this.logger.warn("412 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.stateTransition(a.PublisherState.Unpublished),this.stateTransition(a.PublisherState.Terminated);break;case/^423$/.test(n.toString()):if(0!==this.pubRequestExpires&&e.hasHeader("Min-Expires")){var i=Number(e.getHeader("Min-Expires"));if("number"===typeof i||i>this.pubRequestExpires){if(this.logger.warn("423 code in response to PUBLISH, adjusting the Expires value and trying to recover"),this.pubRequestExpires=i,void 0===this.options.body)throw new Error("Body undefined.");this.publish(this.options.body)}else this.logger.warn("Bad 423 response Min-Expires header received for PUBLISH"),this.pubRequestExpires=0,this.stateTransition(a.PublisherState.Unpublished),this.stateTransition(a.PublisherState.Terminated)}else this.logger.warn("423 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.stateTransition(a.PublisherState.Unpublished),this.stateTransition(a.PublisherState.Terminated);break;default:this.pubRequestExpires=0,this.stateTransition(a.PublisherState.Unpublished),this.stateTransition(a.PublisherState.Terminated)}0===this.pubRequestExpires&&(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestEtag=void 0)}},{key:"send",value:function(){var e=this;return this.userAgent.userAgentCore.publish(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}})}},{key:"refreshRequest",value:function(){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,void 0===this.pubRequestEtag)throw new Error("Etag undefined");if(0===this.pubRequestExpires)throw new Error("Expires zero");this.sendPublishRequest()}},{key:"sendPublishRequest",value:function(){var e=Object.assign({},this.options);e.extraHeaders=(this.options.extraHeaders||[]).slice(),e.extraHeaders.push("Event: "+this.event),e.extraHeaders.push("Expires: "+this.pubRequestExpires),void 0!==this.pubRequestEtag&&e.extraHeaders.push("SIP-If-Match: "+this.pubRequestEtag);var t,n,o=this.target,a=this.options.params||{};if(void 0!==this.pubRequestBody){if(void 0===this.options.contentType)throw new Error("Content type undefined.");t={body:this.pubRequestBody,contentType:this.options.contentType}}return t&&(n=(0,i.fromBodyLegacy)(t)),this.request=this.userAgent.userAgentCore.makeOutgoingRequestMessage(r.C.PUBLISH,o,a.fromUri?a.fromUri:this.userAgent.userAgentCore.configuration.aor,a.toUri?a.toUri:this.target,a,e.extraHeaders,n),this.send()}},{key:"stateTransition",value:function(e){var t=this,n=function(){throw new Error("Invalid state transition from ".concat(t._state," to ").concat(e))};switch(this._state){case a.PublisherState.Initial:e!==a.PublisherState.Published&&e!==a.PublisherState.Unpublished&&e!==a.PublisherState.Terminated&&n();break;case a.PublisherState.Published:e!==a.PublisherState.Unpublished&&e!==a.PublisherState.Terminated&&n();break;case a.PublisherState.Unpublished:e!==a.PublisherState.Published&&e!==a.PublisherState.Terminated&&n();break;case a.PublisherState.Terminated:n();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Publication transitioned to state ".concat(this._state)),this._stateEventEmitter.emit(this._state),e===a.PublisherState.Terminated&&this.dispose()}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{RegistererState:function(){return r}}),(i=r||(r={})).Initial="Initial",i.Registered="Registered",i.Unregistered="Unregistered",i.Terminated="Terminated"},function(e,t,n){n.r(t),n.d(t,{Registerer:function(){return l}});var r=n(21),i=n(29),o=n(23),a=n(12),s=n(6),c=n(41),l=function(){function e(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.disposed=!1,this._contacts=[],this._retryAfter=void 0,this._state=c.RegistererState.Initial,this._waiting=!1,this._stateEventEmitter=new a.EmitterImpl,this._waitingEventEmitter=new a.EmitterImpl,this.userAgent=t;var s=t.configuration.uri.clone();if(s.user=void 0,this.options=Object.assign(Object.assign(Object.assign({},e.defaultOptions()),{registrar:s}),e.stripUndefinedProperties(o)),this.options.extraContactHeaderParams=(this.options.extraContactHeaderParams||[]).slice(),this.options.extraHeaders=(this.options.extraHeaders||[]).slice(),!this.options.registrar)throw new Error("Registrar undefined.");if(this.options.registrar=this.options.registrar.clone(),this.options.regId&&!this.options.instanceId?this.options.instanceId=e.newUUID():!this.options.regId&&this.options.instanceId&&(this.options.regId=1),this.options.instanceId&&-1===r.Grammar.parse(this.options.instanceId,"uuid"))throw new Error("Invalid instanceId.");if(this.options.regId&&this.options.regId<0)throw new Error("Invalid regId.");var l=this.options.registrar,u=this.options.params&&this.options.params.fromUri||t.userAgentCore.configuration.aor,d=this.options.params&&this.options.params.toUri||t.configuration.uri,f=this.options.params||{},p=(o.extraHeaders||[]).slice();if(this.request=t.userAgentCore.makeOutgoingRequestMessage(i.C.REGISTER,l,u,d,f,p,void 0),this.expires=this.options.expires||e.defaultExpires,this.expires<0)throw new Error("Invalid expires.");if(this.refreshFrequency=this.options.refreshFrequency||e.defaultRefreshFrequency,this.refreshFrequency<50||this.refreshFrequency>99)throw new Error("Invalid refresh frequency. The value represents a percentage of the expiration time and should be between 50 and 99.");this.logger=t.getLogger("sip.Registerer"),this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach((function(e){var t=n.options[e];"registrar"===e?n.logger.log("\xb7 "+e+": "+t):n.logger.log("\xb7 "+e+": "+JSON.stringify(t))}))),this.id=this.request.callId+this.request.from.parameters.tag,this.userAgent._registerers[this.id]=this}return f(e,[{key:"contacts",get:function(){return this._contacts.slice()}},{key:"retryAfter",get:function(){return this._retryAfter}},{key:"state",get:function(){return this._state}},{key:"stateChange",get:function(){return this._stateEventEmitter}},{key:"dispose",value:function(){var e=this;return this.disposed?Promise.resolve():(this.disposed=!0,this.logger.log("Registerer ".concat(this.id," in state ").concat(this.state," is being disposed")),delete this.userAgent._registerers[this.id],new Promise((function(t){var n=function(){if(!e.waiting&&e._state===c.RegistererState.Registered)return e.stateChange.addListener((function(){e.terminated(),t()}),{once:!0}),void e.unregister();e.terminated(),t()};e.waiting?e.waitingChange.addListener((function(){n()}),{once:!0}):n()})))}},{key:"register",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state===c.RegistererState.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();var n=new s.RequestPendingError("REGISTER request already in progress, waiting for final response");return Promise.reject(n)}t.requestOptions&&(this.options=Object.assign(Object.assign({},this.options),t.requestOptions));var i=(this.options.extraHeaders||[]).slice();i.push("Contact: "+this.generateContactHeader(this.expires)),i.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=i,this.waitingToggle(!0);var a=this.userAgent.userAgentCore.register(this.request,{onAccept:function(n){var i;n.message.hasHeader("expires")&&(i=Number(n.message.getHeader("expires"))),e._contacts=n.message.getHeaders("contact");var a,s=e._contacts.length;if(!s)return e.logger.error("No Contact header in response to REGISTER, dropping response."),void e.unregistered();for(;s--;){if(!(a=n.message.parseHeader("contact",s)))throw new Error("Contact undefined");if(e.userAgent.contact.pubGruu&&(0,o.equivalentURI)(a.uri,e.userAgent.contact.pubGruu)){i=Number(a.getParam("expires"));break}if(""===e.userAgent.configuration.contactName){if(a.uri.user===e.userAgent.contact.uri.user){i=Number(a.getParam("expires"));break}}else if((0,o.equivalentURI)(a.uri,e.userAgent.contact.uri)){i=Number(a.getParam("expires"));break}a=void 0}if(void 0===a)return e.logger.error("No Contact header pointing to us, dropping response"),e.unregistered(),void e.waitingToggle(!1);if(void 0===i)return e.logger.error("Contact pointing to us is missing expires parameter, dropping response"),e.unregistered(),void e.waitingToggle(!1);if(a.hasParam("temp-gruu")){var c=a.getParam("temp-gruu");c&&(e.userAgent.contact.tempGruu=r.Grammar.URIParse(c.replace(/"/g,"")))}if(a.hasParam("pub-gruu")){var l=a.getParam("pub-gruu");l&&(e.userAgent.contact.pubGruu=r.Grammar.URIParse(l.replace(/"/g,"")))}e.registered(i),t.requestDelegate&&t.requestDelegate.onAccept&&t.requestDelegate.onAccept(n),e.waitingToggle(!1)},onProgress:function(e){t.requestDelegate&&t.requestDelegate.onProgress&&t.requestDelegate.onProgress(e)},onRedirect:function(n){e.logger.error("Redirect received. Not supported."),e.unregistered(),t.requestDelegate&&t.requestDelegate.onRedirect&&t.requestDelegate.onRedirect(n),e.waitingToggle(!1)},onReject:function(n){if(423===n.message.statusCode)return n.message.hasHeader("min-expires")?(e.expires=Number(n.message.getHeader("min-expires")),e.waitingToggle(!1),void e.register()):(e.logger.error("423 response received for REGISTER without Min-Expires, dropping response"),e.unregistered(),void e.waitingToggle(!1));e.logger.warn("Failed to register, status code ".concat(n.message.statusCode));var r=NaN;if(500===n.message.statusCode||503===n.message.statusCode){var i=n.message.getHeader("retry-after");i&&(r=Number.parseInt(i,void 0))}e._retryAfter=isNaN(r)?void 0:r,e.unregistered(),t.requestDelegate&&t.requestDelegate.onReject&&t.requestDelegate.onReject(n),e._retryAfter=void 0,e.waitingToggle(!1)},onTrying:function(e){t.requestDelegate&&t.requestDelegate.onTrying&&t.requestDelegate.onTrying(e)}});return Promise.resolve(a)}},{key:"unregister",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.state===c.RegistererState.Terminated)throw this.stateError(),new Error("Registerer terminated. Unable to register.");if(this.disposed&&this.state!==c.RegistererState.Registered)throw this.stateError(),new Error("Registerer disposed. Unable to register.");if(this.waiting){this.waitingWarning();var n=new s.RequestPendingError("REGISTER request already in progress, waiting for final response");return Promise.reject(n)}this._state===c.RegistererState.Registered||t.all||this.logger.warn("Not currently registered, but sending an unregister anyway.");var r=(t.requestOptions&&t.requestOptions.extraHeaders||[]).slice();this.request.extraHeaders=r,t.all?(r.push("Contact: *"),r.push("Expires: 0")):r.push("Contact: "+this.generateContactHeader(0)),this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),this.waitingToggle(!0);var i=this.userAgent.userAgentCore.register(this.request,{onAccept:function(n){e._contacts=n.message.getHeaders("contact"),e.unregistered(),t.requestDelegate&&t.requestDelegate.onAccept&&t.requestDelegate.onAccept(n),e.waitingToggle(!1)},onProgress:function(e){t.requestDelegate&&t.requestDelegate.onProgress&&t.requestDelegate.onProgress(e)},onRedirect:function(n){e.logger.error("Unregister redirected. Not currently supported."),e.unregistered(),t.requestDelegate&&t.requestDelegate.onRedirect&&t.requestDelegate.onRedirect(n),e.waitingToggle(!1)},onReject:function(n){e.logger.error("Unregister rejected with status code ".concat(n.message.statusCode)),e.unregistered(),t.requestDelegate&&t.requestDelegate.onReject&&t.requestDelegate.onReject(n),e.waitingToggle(!1)},onTrying:function(e){t.requestDelegate&&t.requestDelegate.onTrying&&t.requestDelegate.onTrying(e)}});return Promise.resolve(i)}},{key:"clearTimers",value:function(){void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0)}},{key:"generateContactHeader",value:function(e){var t=this.userAgent.contact.toString();return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach((function(e){t+=";"+e})),t+=";expires="+e}},{key:"registered",value:function(e){var t=this;this.clearTimers(),this.registrationTimer=setTimeout((function(){t.registrationTimer=void 0,t.register()}),this.refreshFrequency/100*e*1e3),this.registrationExpiredTimer=setTimeout((function(){t.logger.warn("Registration expired"),t.unregistered()}),1e3*e),this._state!==c.RegistererState.Registered&&this.stateTransition(c.RegistererState.Registered)}},{key:"unregistered",value:function(){this.clearTimers(),this._state!==c.RegistererState.Unregistered&&this.stateTransition(c.RegistererState.Unregistered)}},{key:"terminated",value:function(){this.clearTimers(),this._state!==c.RegistererState.Terminated&&this.stateTransition(c.RegistererState.Terminated)}},{key:"stateTransition",value:function(e){var t=this,n=function(){throw new Error("Invalid state transition from ".concat(t._state," to ").concat(e))};switch(this._state){case c.RegistererState.Initial:e!==c.RegistererState.Registered&&e!==c.RegistererState.Unregistered&&e!==c.RegistererState.Terminated&&n();break;case c.RegistererState.Registered:e!==c.RegistererState.Unregistered&&e!==c.RegistererState.Terminated&&n();break;case c.RegistererState.Unregistered:e!==c.RegistererState.Registered&&e!==c.RegistererState.Terminated&&n();break;case c.RegistererState.Terminated:n();break;default:throw new Error("Unrecognized state.")}this._state=e,this.logger.log("Registration transitioned to state ".concat(this._state)),this._stateEventEmitter.emit(this._state),e===c.RegistererState.Terminated&&this.dispose()}},{key:"waiting",get:function(){return this._waiting}},{key:"waitingChange",get:function(){return this._waitingEventEmitter}},{key:"waitingToggle",value:function(e){if(this._waiting===e)throw new Error("Invalid waiting transition from ".concat(this._waiting," to ").concat(e));this._waiting=e,this.logger.log("Waiting toggled to ".concat(this._waiting)),this._waitingEventEmitter.emit(this._waiting)}},{key:"waitingWarning",value:function(){this.logger.warn("An attempt was made to send a REGISTER request while a prior one was still in progress. RFC 3261 requires UAs MUST NOT send a new registration until they have received a final response from the registrar for the previous one or the previous REGISTER request has timed out. Note that if the transport disconnects, you still must wait for the prior request to time out before sending a new REGISTER request or alternatively dispose of the current Registerer and create a new Registerer.")}},{key:"stateError",value:function(){var e=this.state===c.RegistererState.Terminated?"is in 'Terminated' state":"has been disposed",t="An attempt was made to send a REGISTER request when the Registerer ".concat(e,".");t+=" The Registerer transitions to 'Terminated' when Registerer.dispose() is called.",t+=" Perhaps you called UserAgent.stop() which dipsoses of all Registerers?",this.logger.error(t)}}],[{key:"defaultOptions",value:function(){return{expires:e.defaultExpires,extraContactHeaderParams:[],extraHeaders:[],logConfiguration:!0,instanceId:"",params:{},regId:0,registrar:new o.URI("sip","anonymous","anonymous.invalid"),refreshFrequency:e.defaultRefreshFrequency}}},{key:"newUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)}))}},{key:"stripUndefinedProperties",value:function(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}}]),e}();l.defaultExpires=600,l.defaultRefreshFrequency=99},function(e,t,n){n.r(t),n.d(t,{Subscriber:function(){return m}});var r=n(46),i=n(17),o=n(29),a=n(28),s=n(32),d=n(44),v=n(45),m=function(e){p(n,e);var t=g(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return h(this,n),(o=t.call(this,e,a)).body=void 0,o.logger=e.getLogger("sip.Subscriber"),a.body&&(o.body={body:a.body,contentType:a.contentType?a.contentType:"application/sdp"}),o.targetURI=r,o.event=i,void 0===a.expires?o.expires=3600:"number"!==typeof a.expires?(o.logger.warn('Option "expires" must be a number. Using default of 3600.'),o.expires=3600):o.expires=a.expires,o.extraHeaders=(a.extraHeaders||[]).slice(),o.subscriberRequest=o.initSubscriberRequest(),o.outgoingRequestMessage=o.subscriberRequest.message,o.id=o.outgoingRequestMessage.callId+o.outgoingRequestMessage.from.parameters.tag+o.event,o._userAgent._subscriptions[o.id]=u(o),o}return f(n,[{key:"dispose",value:function(){var e=this;return this.disposed?Promise.resolve():(this.logger.log("Subscription ".concat(this.id," in state ").concat(this.state," is being disposed")),delete this._userAgent._subscriptions[this.id],this.retryAfterTimer&&(clearTimeout(this.retryAfterTimer),this.retryAfterTimer=void 0),this.subscriberRequest.dispose(),c(l(n.prototype),"dispose",this).call(this).then((function(){if(e.state===v.SubscriptionState.Subscribed){if(!e._dialog)throw new Error("Dialog undefined.");if(e._dialog.subscriptionState===r.SubscriptionState.Pending||e._dialog.subscriptionState===r.SubscriptionState.Active){var t=e._dialog;return new Promise((function(e,n){t.delegate={onTerminated:function(){return e()}},t.unsubscribe()}))}}})))}},{key:"subscribe",value:function(){var e=this;switch(this.subscriberRequest.state){case r.SubscriptionState.Initial:this.state===v.SubscriptionState.Initial&&this.stateTransition(v.SubscriptionState.NotifyWait),this.subscriberRequest.subscribe().then((function(t){t.success?(t.success.subscription&&(e._dialog=t.success.subscription,e._dialog.delegate={onNotify:function(t){return e.onNotify(t)},onRefresh:function(t){return e.onRefresh(t)},onTerminated:function(){e.state!==v.SubscriptionState.Terminated&&e.stateTransition(v.SubscriptionState.Terminated)}}),e.onNotify(t.success.request)):t.failure&&e.unsubscribe()}));break;case r.SubscriptionState.NotifyWait:case r.SubscriptionState.Pending:break;case r.SubscriptionState.Active:if(this._dialog){var t=this._dialog.refresh();t.delegate={onAccept:function(t){return e.onAccepted(t)},onRedirect:function(t){return e.unsubscribe()},onReject:function(t){return e.unsubscribe()}}}case r.SubscriptionState.Terminated:}return Promise.resolve()}},{key:"unsubscribe",value:function(){if(this.disposed)return Promise.resolve();switch(this.subscriberRequest.state){case r.SubscriptionState.Initial:case r.SubscriptionState.NotifyWait:break;case r.SubscriptionState.Pending:case r.SubscriptionState.Active:this._dialog&&this._dialog.unsubscribe();break;case r.SubscriptionState.Terminated:break;default:throw new Error("Unknown state.")}return this.stateTransition(v.SubscriptionState.Terminated),Promise.resolve()}},{key:"_refresh",value:function(){return this.subscriberRequest.state===r.SubscriptionState.Active?this.subscribe():Promise.resolve()}},{key:"onAccepted",value:function(e){}},{key:"onNotify",value:function(e){var t=this;if(this.disposed)e.accept();else{if(this.state!==v.SubscriptionState.Subscribed&&this.stateTransition(v.SubscriptionState.Subscribed),this.delegate&&this.delegate.onNotify){var n=new s.Notification(e);this.delegate.onNotify(n)}else e.accept();var r=e.message.parseHeader("Subscription-State");if(r&&r.state&&"terminated"===r.state){if(r.reason)switch(this.logger.log("Terminated subscription with reason ".concat(r.reason)),r.reason){case"deactivated":case"timeout":return this.initSubscriberRequest(),void this.subscribe();case"probation":case"giveup":return this.initSubscriberRequest(),void(r.params&&r.params["retry-after"]?this.retryAfterTimer=setTimeout((function(){t.subscribe()}),r.params["retry-after"]):this.subscribe())}this.unsubscribe()}}}},{key:"onRefresh",value:function(e){var t=this;e.delegate={onAccept:function(e){return t.onAccepted(e)}}}},{key:"initSubscriberRequest",value:function(){var e=this,t={extraHeaders:this.extraHeaders,body:this.body?(0,i.fromBodyLegacy)(this.body):void 0};return this.subscriberRequest=new y(this._userAgent.userAgentCore,this.targetURI,this.event,this.expires,t),this.subscriberRequest.delegate={onAccept:function(t){return e.onAccepted(t)}},this.subscriberRequest}}]),n}(d.Subscription),y=function(){function e(t,n,r,i,s,c){h(this,e),this.core=t,this.target=n,this.event=r,this.expires=i,this.subscribed=!1,this.logger=t.loggerFactory.getLogger("sip.Subscriber"),this.delegate=c;var l="Allow: "+a.AllowedMethods.toString(),u=(s&&s.extraHeaders||[]).slice();u.push(l),u.push("Event: "+this.event),u.push("Expires: "+this.expires),u.push("Contact: "+this.core.configuration.contact.toString());var d=s&&s.body;this.message=t.makeOutgoingRequestMessage(o.C.SUBSCRIBE,this.target,this.core.configuration.aor,this.target,{},u,d)}return f(e,[{key:"dispose",value:function(){this.request&&(this.request.waitNotifyStop(),this.request.dispose(),this.request=void 0)}},{key:"state",get:function(){return this.subscription?this.subscription.subscriptionState:this.subscribed?r.SubscriptionState.NotifyWait:r.SubscriptionState.Initial}},{key:"subscribe",value:function(){var e=this;return this.subscribed?Promise.reject(new Error("Not in initial state. Did you call subscribe more than once?")):(this.subscribed=!0,new Promise((function(t){if(!e.message)throw new Error("Message undefined.");e.request=e.core.subscribe(e.message,{onAccept:function(t){e.delegate&&e.delegate.onAccept&&e.delegate.onAccept(t)},onNotify:function(n){e.subscription=n.subscription,e.subscription&&(e.subscription.autoRefresh=!0),t({success:n})},onNotifyTimeout:function(){t({failure:{}})},onRedirect:function(e){t({failure:{response:e}})},onReject:function(e){t({failure:{response:e}})}})})))}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Subscription:function(){return o}});var r=n(12),i=n(45),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this._disposed=!1,this._state=i.SubscriptionState.Initial,this._logger=t.getLogger("sip.Subscription"),this._stateEventEmitter=new r.EmitterImpl,this._userAgent=t,this.delegate=n.delegate}return f(e,[{key:"dispose",value:function(){return this._disposed||(this._disposed=!0,this._stateEventEmitter.removeAllListeners()),Promise.resolve()}},{key:"dialog",get:function(){return this._dialog}},{key:"disposed",get:function(){return this._disposed}},{key:"state",get:function(){return this._state}},{key:"stateChange",get:function(){return this._stateEventEmitter}},{key:"stateTransition",value:function(e){var t=this,n=function(){throw new Error("Invalid state transition from ".concat(t._state," to ").concat(e))};switch(this._state){case i.SubscriptionState.Initial:e!==i.SubscriptionState.NotifyWait&&e!==i.SubscriptionState.Terminated&&n();break;case i.SubscriptionState.NotifyWait:e!==i.SubscriptionState.Subscribed&&e!==i.SubscriptionState.Terminated&&n();break;case i.SubscriptionState.Subscribed:e!==i.SubscriptionState.Terminated&&n();break;case i.SubscriptionState.Terminated:n();break;default:throw new Error("Unrecognized state.")}this._state!==e&&(this._state=e,this._logger.log("Subscription ".concat(this._dialog?this._dialog.id:void 0," transitioned to ").concat(this._state)),this._stateEventEmitter.emit(this._state),e===i.SubscriptionState.Terminated&&this.dispose())}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{SubscriptionState:function(){return r}}),(i=r||(r={})).Initial="Initial",i.NotifyWait="NotifyWait",i.Subscribed="Subscribed",i.Terminated="Terminated"},function(e,t,n){var r,i;n.r(t),n.d(t,{SubscriptionState:function(){return r}}),(i=r||(r={})).Initial="Initial",i.NotifyWait="NotifyWait",i.Pending="Pending",i.Active="Active",i.Terminated="Terminated"},function(e,t,n){var r,i;n.r(t),n.d(t,{TransportState:function(){return r}}),(i=r||(r={})).Connecting="Connecting",i.Connected="Connected",i.Disconnecting="Disconnecting",i.Disconnected="Disconnected"},function(e,t,n){var r,i;n.r(t),n.d(t,{UserAgentState:function(){return r}}),(i=r||(r={})).Started="Started",i.Stopped="Stopped"},function(e,t,n){n.r(t),n.d(t,{UserAgent:function(){return I}});var r=n(23),s=n(50),c=n(51),l=n(21),u=n(58),d=n(60),p=n(98),g=n(18),v=n(26),m=n(20),y=n(53),b=n(57),S=n(1),w=n(12),k=n(14),T=n(37),C=n(31),E=n(32),R=n(34),x=n(48),I=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(h(this,e),this._publishers={},this._registerers={},this._sessions={},this._subscriptions={},this._state=x.UserAgentState.Stopped,this.unloadListener=function(){t.stop()},this._stateEventEmitter=new w.EmitterImpl,this.delegate=n.delegate,this.options=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.defaultOptions()),{sipjsId:(0,m.createRandomToken)(5)}),{uri:new r.URI("sip","anonymous."+(0,m.createRandomToken)(6),"anonymous.invalid")}),{viaHost:(0,m.createRandomToken)(12)+".invalid"}),e.stripUndefinedProperties(n)),this.options.hackIpInContact)if("boolean"===typeof this.options.hackIpInContact&&this.options.hackIpInContact){var i=1,o=254,a=Math.floor(Math.random()*(o-i+1)+i);this.options.viaHost="192.0.2."+a}else this.options.hackIpInContact&&(this.options.viaHost=this.options.hackIpInContact);switch(this.loggerFactory=new s.LoggerFactory,this.logger=this.loggerFactory.getLogger("sip.UserAgent"),this.loggerFactory.builtinEnabled=this.options.logBuiltinEnabled,this.loggerFactory.connector=this.options.logConnector,this.options.logLevel){case"error":this.loggerFactory.level=c.Levels.error;break;case"warn":this.loggerFactory.level=c.Levels.warn;break;case"log":this.loggerFactory.level=c.Levels.log;break;case"debug":this.loggerFactory.level=c.Levels.debug}if(this.options.logConfiguration&&(this.logger.log("Configuration:"),Object.keys(this.options).forEach((function(e){var n=t.options[e];switch(e){case"uri":case"sessionDescriptionHandlerFactory":t.logger.log("\xb7 "+e+": "+n);break;case"authorizationPassword":t.logger.log("\xb7 "+e+": NOT SHOWN");break;case"transportConstructor":t.logger.log("\xb7 "+e+": "+n.name);break;default:t.logger.log("\xb7 "+e+": "+JSON.stringify(n))}}))),this.options.transportOptions){var l=this.options.transportOptions,u=l.maxReconnectionAttempts,d=l.reconnectionTimeout;if(void 0!==u){var f='The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(f)}if(void 0!==d){var p='The transport option "reconnectionTimeout" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(p)}void 0===n.reconnectionDelay&&void 0!==d&&(this.options.reconnectionDelay=d),void 0===n.reconnectionAttempts&&void 0!==u&&(this.options.reconnectionAttempts=u)}if(void 0!==n.reconnectionDelay){var g='The user agent option "reconnectionDelay" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(g)}if(void 0!==n.reconnectionAttempts){var v='The user agent option "reconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.';this.logger.warn(v)}this._transport=new this.options.transportConstructor(this.getLogger("sip.Transport"),this.options.transportOptions),this.initTransportCallbacks(),this._contact=this.initContact(),this._userAgentCore=this.initCore(),this.options.autoStart&&this.start()}return f(e,[{key:"configuration",get:function(){return this.options}},{key:"contact",get:function(){return this._contact}},{key:"state",get:function(){return this._state}},{key:"stateChange",get:function(){return this._stateEventEmitter}},{key:"transport",get:function(){return this._transport}},{key:"userAgentCore",get:function(){return this._userAgentCore}},{key:"getLogger",value:function(e,t){return this.loggerFactory.getLogger(e,t)}},{key:"getLoggerFactory",value:function(){return this.loggerFactory}},{key:"isConnected",value:function(){return this.transport.isConnected()}},{key:"reconnect",value:function(){var e=this;return this.state===x.UserAgentState.Stopped?Promise.reject(new Error("User agent stopped.")):Promise.resolve().then((function(){return e.transport.connect()}))}},{key:"start",value:function(){if(this.state===x.UserAgentState.Started)return this.logger.warn("User agent already started"),Promise.resolve();if(this.logger.log("Starting ".concat(this.configuration.uri)),this.transitionState(x.UserAgentState.Started),this.options.autoStop){var e=!("undefined"===typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"===typeof window||"function"!==typeof window.addEventListener||e||window.addEventListener("unload",this.unloadListener)}return this.transport.connect()}},{key:"stop",value:function(){var e=a(o().mark((function e(){var t,n,r,i,a,s,c,l,u,d,f,h,p,g,v,m=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state!==x.UserAgentState.Stopped){e.next=3;break}return this.logger.warn("User agent already stopped"),e.abrupt("return",Promise.resolve());case 3:this.logger.log("Stopping ".concat(this.configuration.uri)),this.transitionState(x.UserAgentState.Stopped),this.options.autoStop&&(t=!("undefined"===typeof chrome||!chrome.app||!chrome.app.runtime),"undefined"!==typeof window&&window.removeEventListener&&!t&&window.removeEventListener("unload",this.unloadListener)),n=Object.assign({},this._publishers),r=Object.assign({},this._registerers),i=Object.assign({},this._sessions),a=Object.assign({},this._subscriptions),s=this.transport,c=this.userAgentCore,this.logger.log("Dispose of registerers"),l=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r[t]){e.next=3;break}return e.next=3,r[t].dispose().catch((function(e){throw m.logger.error(e.message),delete m._registerers[t],e}));case 3:case"end":return e.stop()}}),e)})),e.t0=o().keys(r);case 15:if((e.t1=e.t0()).done){e.next=20;break}return u=e.t1.value,e.delegateYield(l(u),"t2",18);case 18:e.next=15;break;case 20:this.logger.log("Dispose of sessions"),d=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i[t]){e.next=3;break}return e.next=3,i[t].dispose().catch((function(e){throw m.logger.error(e.message),delete m._sessions[t],e}));case 3:case"end":return e.stop()}}),e)})),e.t3=o().keys(i);case 23:if((e.t4=e.t3()).done){e.next=28;break}return f=e.t4.value,e.delegateYield(d(f),"t5",26);case 26:e.next=23;break;case 28:this.logger.log("Dispose of subscriptions"),h=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a[t]){e.next=3;break}return e.next=3,a[t].dispose().catch((function(e){throw m.logger.error(e.message),delete m._subscriptions[t],e}));case 3:case"end":return e.stop()}}),e)})),e.t6=o().keys(a);case 31:if((e.t7=e.t6()).done){e.next=36;break}return p=e.t7.value,e.delegateYield(h(p),"t8",34);case 34:e.next=31;break;case 36:this.logger.log("Dispose of publishers"),g=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n[t]){e.next=3;break}return e.next=3,n[t].dispose().catch((function(e){throw m.logger.error(e.message),delete m._publishers[t],e}));case 3:case"end":return e.stop()}}),e)})),e.t9=o().keys(n);case 39:if((e.t10=e.t9()).done){e.next=44;break}return v=e.t10.value,e.delegateYield(g(v),"t11",42);case 42:e.next=39;break;case 44:return this.logger.log("Dispose of transport"),e.next=47,s.dispose().catch((function(e){throw m.logger.error(e.message),e}));case 47:this.logger.log("Dispose of core"),c.dispose();case 49:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_makeInviter",value:function(e,t){return new T.Inviter(this,e,t)}},{key:"attemptReconnection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.options.reconnectionAttempts,r=this.options.reconnectionDelay;t>n?this.logger.log("Maximum reconnection attempts reached"):(this.logger.log("Reconnection attempt ".concat(t," of ").concat(n," - trying")),setTimeout((function(){e.reconnect().then((function(){e.logger.log("Reconnection attempt ".concat(t," of ").concat(n," - succeeded"))})).catch((function(r){e.logger.error(r.message),e.logger.log("Reconnection attempt ".concat(t," of ").concat(n," - failed")),e.attemptReconnection(++t)}))}),1===t?0:1e3*r))}},{key:"initContact",value:function(){var e=this,t=""!==this.options.contactName?this.options.contactName:(0,m.createRandomToken)(8),n=this.options.contactParams,i={pubGruu:void 0,tempGruu:void 0,uri:new r.URI("sip",t,this.options.viaHost,void 0,n),toString:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.anonymous||!1,i=t.outbound||!1,o="<";return o+=r?e.contact.tempGruu||"sip:anonymous@anonymous.invalid;transport=".concat(n.transport?n.transport:"ws"):e.contact.pubGruu||e.contact.uri,i&&(o+=";ob"),o+=">"}};return i}},{key:"initCore",value:function(){var e,t=this,n=[];n.push("outbound"),this.options.sipExtension100rel===R.SIPExtension.Supported&&n.push("100rel"),this.options.sipExtensionReplaces===R.SIPExtension.Supported&&n.push("replaces"),this.options.sipExtensionExtraSupported&&(e=n).push.apply(e,i(this.options.sipExtensionExtraSupported)),this.options.hackAllowUnregisteredOptionTags||(n=n.filter((function(e){return R.UserAgentRegisteredOptionTags[e]})));var r=(n=Array.from(new Set(n))).slice();(this.contact.pubGruu||this.contact.tempGruu)&&r.push("gruu");var o={aor:this.options.uri,contact:this.contact,displayName:this.options.displayName,loggerFactory:this.loggerFactory,hackViaTcp:this.options.hackViaTcp,routeSet:this.options.preloadedRouteSet,supportedOptionTags:n,supportedOptionTagsResponse:r,sipjsId:this.options.sipjsId,userAgentHeaderFieldValue:this.options.userAgentString,viaForceRport:this.options.forceRport,viaHost:this.options.viaHost,authenticationFactory:function(){var e=t.options.authorizationUsername?t.options.authorizationUsername:t.options.uri.user,n=t.options.authorizationPassword?t.options.authorizationPassword:void 0,r=t.options.authorizationHa1?t.options.authorizationHa1:void 0;return new u.DigestAuthentication(t.getLoggerFactory(),r,e,n)},transportAccessor:function(){return t.transport}},a={onInvite:function(e){var n,r=new k.Invitation(t,e);if(e.delegate={onCancel:function(e){r._onCancel(e)},onTransportError:function(e){t.logger.error("A transport error has occurred while handling an incoming INVITE request.")}},e.trying(),t.options.sipExtensionReplaces!==R.SIPExtension.Unsupported){var i=e.message.parseHeader("replaces");if(i){var o=i.call_id;if("string"!==typeof o)throw new Error("Type of call id is not string");var a=i.replaces_to_tag;if("string"!==typeof a)throw new Error("Type of to tag is not string");var s=i.replaces_from_tag;if("string"!==typeof s)throw new Error("type of from tag is not string");var c=o+a+s,l=t.userAgentCore.dialogs.get(c);if(!l)return void r.reject({statusCode:481});if(!l.early&&!0===i.early_only)return void r.reject({statusCode:486});var u=t._sessions[o+s]||t._sessions[o+a]||void 0;if(!u)throw new Error("Session does not exist.");r._replacee=u}}if(null===(n=t.delegate)||void 0===n?void 0:n.onInvite)return r.autoSendAnInitialProvisionalResponse?void r.progress().then((function(){var e;if(void 0===(null===(e=t.delegate)||void 0===e?void 0:e.onInvite))throw new Error("onInvite undefined.");t.delegate.onInvite(r)})):void t.delegate.onInvite(r);r.reject({statusCode:486})},onMessage:function(e){if(t.delegate&&t.delegate.onMessage){var n=new C.Message(e);t.delegate.onMessage(n)}else e.accept()},onNotify:function(e){if(t.delegate&&t.delegate.onNotify){var n=new E.Notification(e);t.delegate.onNotify(n)}else t.options.allowLegacyNotifications?e.accept():e.reject({statusCode:481})},onRefer:function(e){t.logger.warn("Received an out of dialog REFER request"),t.delegate&&t.delegate.onReferRequest?t.delegate.onReferRequest(e):e.reject({statusCode:405})},onRegister:function(e){t.logger.warn("Received an out of dialog REGISTER request"),t.delegate&&t.delegate.onRegisterRequest?t.delegate.onRegisterRequest(e):e.reject({statusCode:405})},onSubscribe:function(e){t.logger.warn("Received an out of dialog SUBSCRIBE request"),t.delegate&&t.delegate.onSubscribeRequest?t.delegate.onSubscribeRequest(e):e.reject({statusCode:405})}};return new d.UserAgentCore(o,a)}},{key:"initTransportCallbacks",value:function(){var e=this;this.transport.onConnect=function(){return e.onTransportConnect()},this.transport.onDisconnect=function(t){return e.onTransportDisconnect(t)},this.transport.onMessage=function(t){return e.onTransportMessage(t)}}},{key:"onTransportConnect",value:function(){this.state!==x.UserAgentState.Stopped&&this.delegate&&this.delegate.onConnect&&this.delegate.onConnect()}},{key:"onTransportDisconnect",value:function(e){this.state!==x.UserAgentState.Stopped&&(this.delegate&&this.delegate.onDisconnect&&this.delegate.onDisconnect(e),e&&this.options.reconnectionAttempts>0&&this.attemptReconnection())}},{key:"onTransportMessage",value:function(e){var t=this,n=p.Parser.parseMessage(e,this.getLogger("sip.Parser"));if(n)if(this.state===x.UserAgentState.Stopped&&n instanceof g.IncomingRequestMessage)this.logger.warn("Received ".concat(n.method," request while stopped. Dropping."));else{var r=function(){for(var e=0,r=["from","to","call_id","cseq","via"];e<r.length;e++){var i=r[e];if(!n.hasHeader(i))return t.logger.warn("Missing mandatory header field : ".concat(i,".")),!1}return!0};if(n instanceof g.IncomingRequestMessage){if(!r())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!n.toTag&&n.callId.substr(0,5)===this.options.sipjsId)return void this.userAgentCore.replyStateless(n,{statusCode:482});var i=(0,m.utf8Length)(n.body),o=n.getHeader("content-length");if(o&&i<Number(o))return void this.userAgentCore.replyStateless(n,{statusCode:400})}if(n instanceof v.IncomingResponseMessage){if(!r())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(n.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(n.via.host!==this.options.viaHost||void 0!==n.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");var a=(0,m.utf8Length)(n.body),s=n.getHeader("content-length");if(s&&a<Number(s))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(n instanceof g.IncomingRequestMessage)this.userAgentCore.receiveIncomingRequestFromTransport(n);else{if(!(n instanceof v.IncomingResponseMessage))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(n)}}else this.logger.warn("Failed to parse incoming message. Dropping.")}},{key:"transitionState",value:function(e,t){var n=this,r=function(){throw new Error("Invalid state transition from ".concat(n._state," to ").concat(e))};switch(this._state){case x.UserAgentState.Started:e!==x.UserAgentState.Stopped&&r();break;case x.UserAgentState.Stopped:e!==x.UserAgentState.Started&&r();break;default:throw new Error("Unknown state.")}this.logger.log("Transitioned from ".concat(this._state," to ").concat(e)),this._state=e,this._stateEventEmitter.emit(this._state)}}],[{key:"makeURI",value:function(e){return l.Grammar.URIParse(e)}},{key:"defaultOptions",value:function(){return{allowLegacyNotifications:!1,authorizationHa1:"",authorizationPassword:"",authorizationUsername:"",autoStart:!1,autoStop:!0,delegate:{},contactName:"",contactParams:{transport:"ws"},displayName:"",forceRport:!1,hackAllowUnregisteredOptionTags:!1,hackIpInContact:!1,hackViaTcp:!1,logBuiltinEnabled:!0,logConfiguration:!0,logConnector:function(){},logLevel:"log",noAnswerTimeout:60,preloadedRouteSet:[],reconnectionAttempts:0,reconnectionDelay:4,sendInitialProvisionalResponse:!0,sessionDescriptionHandlerFactory:(0,y.defaultSessionDescriptionHandlerFactory)(),sessionDescriptionHandlerFactoryOptions:{},sipExtension100rel:R.SIPExtension.Unsupported,sipExtensionReplaces:R.SIPExtension.Unsupported,sipExtensionExtraSupported:[],sipjsId:"",transportConstructor:b.Transport,transportOptions:{},uri:new r.URI("sip","anonymous","anonymous.invalid"),userAgentString:"SIP.js/"+S.LIBRARY_VERSION,viaHost:""}}},{key:"stripUndefinedProperties",value:function(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}},{key:"getLogger",value:function(){return this.logger}}]),e}()},function(e,t,n){n.r(t),n.d(t,{LoggerFactory:function(){return o}});var r=n(51),i=n(52),o=function(){function e(){h(this,e),this.builtinEnabled=!0,this._level=r.Levels.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}return f(e,[{key:"level",get:function(){return this._level},set:function(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:r.Levels.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))}},{key:"connector",get:function(){return this._connector},set:function(e){e?"function"===typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0}},{key:"getLogger",value:function(e,t){if(t&&3===this.level)return new i.Logger(this,e,t);if(this.loggers[e])return this.loggers[e];var n=new i.Logger(this,e);return this.loggers[e]=n,n}},{key:"genericLog",value:function(e,t,n,i){this.level>=e&&this.builtinEnabled&&this.print(e,t,n,i),this.connector&&this.connector(r.Levels[e],t,n,i)}},{key:"print",value:function(e,t,n,i){if("string"===typeof i){var o=[new Date,t];n&&o.push(n),i=o.concat(i).join(" | ")}switch(e){case r.Levels.error:console.error(i);break;case r.Levels.warn:console.warn(i);break;case r.Levels.log:console.log(i);break;case r.Levels.debug:console.debug(i)}}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{Levels:function(){return r}}),(i=r||(r={}))[i.error=0]="error",i[i.warn=1]="warn",i[i.log=2]="log",i[i.debug=3]="debug"},function(e,t,n){n.r(t),n.d(t,{Logger:function(){return i}});var r=n(51),i=function(){function e(t,n,r){h(this,e),this.logger=t,this.category=n,this.label=r}return f(e,[{key:"error",value:function(e){this.genericLog(r.Levels.error,e)}},{key:"warn",value:function(e){this.genericLog(r.Levels.warn,e)}},{key:"log",value:function(e){this.genericLog(r.Levels.log,e)}},{key:"debug",value:function(e){this.genericLog(r.Levels.debug,e)}},{key:"genericLog",value:function(e,t){this.logger.genericLog(e,this.category,this.label,t)}},{key:"level",get:function(){return this.logger.level},set:function(e){this.logger.level=e}}]),e}()},function(e,t,n){n.r(t),n.d(t,{defaultSessionDescriptionHandlerFactory:function(){return a}});var r=n(54),i=n(55),o=n(56);function a(e){return function(t,n){void 0===e&&(e=(0,r.defaultMediaStreamFactory)());var a={iceGatheringTimeout:void 0!==(null===n||void 0===n?void 0:n.iceGatheringTimeout)?null===n||void 0===n?void 0:n.iceGatheringTimeout:5e3,peerConnectionConfiguration:Object.assign(Object.assign({},(0,i.defaultPeerConnectionConfiguration)()),null===n||void 0===n?void 0:n.peerConnectionConfiguration)},s=t.userAgent.getLogger("sip.SessionDescriptionHandler");return new o.SessionDescriptionHandler(s,e,a)}}},function(e,t,n){function r(){return function(e){return e.audio||e.video?void 0===navigator.mediaDevices?Promise.reject(new Error("Media devices not available in insecure contexts.")):navigator.mediaDevices.getUserMedia.call(navigator.mediaDevices,e):Promise.resolve(new MediaStream)}}n.r(t),n.d(t,{defaultMediaStreamFactory:function(){return r}})},function(e,t,n){function r(){return{bundlePolicy:"balanced",certificates:void 0,iceCandidatePoolSize:0,iceServers:[{urls:"stun:stun.l.google.com:19302"}],iceTransportPolicy:"all",peerIdentity:void 0,rtcpMuxPolicy:"require"}}n.r(t),n.d(t,{defaultPeerConnectionConfiguration:function(){return r}})},function(e,t,n){n.r(t),n.d(t,{SessionDescriptionHandler:function(){return r}});var r=function(){function e(t,n,r){h(this,e),t.debug("SessionDescriptionHandler.constructor"),this.logger=t,this.mediaStreamFactory=n,this.sessionDescriptionHandlerConfiguration=r,this._localMediaStream=new MediaStream,this._remoteMediaStream=new MediaStream,this._peerConnection=new RTCPeerConnection(null===r||void 0===r?void 0:r.peerConnectionConfiguration),this.initPeerConnectionEventHandlers()}return f(e,[{key:"localMediaStream",get:function(){return this._localMediaStream}},{key:"remoteMediaStream",get:function(){return this._remoteMediaStream}},{key:"dataChannel",get:function(){return this._dataChannel}},{key:"peerConnection",get:function(){return this._peerConnection}},{key:"peerConnectionDelegate",get:function(){return this._peerConnectionDelegate},set:function(e){this._peerConnectionDelegate=e}},{key:"close",value:function(){this.logger.debug("SessionDescriptionHandler.close"),void 0!==this._peerConnection&&(this._peerConnection.getReceivers().forEach((function(e){e.track&&e.track.stop()})),this._peerConnection.getSenders().forEach((function(e){e.track&&e.track.stop()})),this._dataChannel&&this._dataChannel.close(),this._peerConnection.close(),this._peerConnection=void 0)}},{key:"getDescription",value:function(e,t){var n,r,i=this;if(this.logger.debug("SessionDescriptionHandler.getDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=null===e||void 0===e?void 0:e.onDataChannel;var o=null===(n=null===e||void 0===e?void 0:e.offerOptions)||void 0===n?void 0:n.iceRestart,a=void 0===(null===e||void 0===e?void 0:e.iceGatheringTimeout)?null===(r=this.sessionDescriptionHandlerConfiguration)||void 0===r?void 0:r.iceGatheringTimeout:null===e||void 0===e?void 0:e.iceGatheringTimeout;return this.getLocalMediaStream(e).then((function(){return i.updateDirection(e)})).then((function(){return i.createDataChannel(e)})).then((function(){return i.createLocalOfferOrAnswer(e)})).then((function(e){return i.applyModifiers(e,t)})).then((function(e){return i.setLocalSessionDescription(e)})).then((function(){return i.waitForIceGatheringComplete(o,a)})).then((function(){return i.getLocalSessionDescription()})).then((function(e){return{body:e.sdp,contentType:"application/sdp"}})).catch((function(e){throw i.logger.error("SessionDescriptionHandler.getDescription failed - "+e),e}))}},{key:"hasDescription",value:function(e){return this.logger.debug("SessionDescriptionHandler.hasDescription"),"application/sdp"===e}},{key:"sendDtmf",value:function(e,t){if(this.logger.debug("SessionDescriptionHandler.sendDtmf"),void 0===this._peerConnection)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - peer connection closed"),!1;var n=this._peerConnection.getSenders();if(0===n.length)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no senders"),!1;var r=n[0].dtmf;if(!r)return this.logger.error("SessionDescriptionHandler.sendDtmf failed - no DTMF sender"),!1;var i=null===t||void 0===t?void 0:t.duration,o=null===t||void 0===t?void 0:t.interToneGap;try{r.insertDTMF(e,i,o)}catch(a){return this.logger.error(a),!1}return this.logger.log("SessionDescriptionHandler.sendDtmf sent via RTP: "+e.toString()),!0}},{key:"setDescription",value:function(e,t,n){var r=this;if(this.logger.debug("SessionDescriptionHandler.setDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));this.onDataChannel=null===t||void 0===t?void 0:t.onDataChannel;var i="have-local-offer"===this._peerConnection.signalingState?"answer":"offer";return this.getLocalMediaStream(t).then((function(){return r.applyModifiers({sdp:e,type:i},n)})).then((function(e){return r.setRemoteSessionDescription(e)})).catch((function(e){throw r.logger.error("SessionDescriptionHandler.setDescription failed - "+e),e}))}},{key:"applyModifiers",value:function(e,t){var n=this;return this.logger.debug("SessionDescriptionHandler.applyModifiers"),t&&0!==t.length?t.reduce((function(e,t){return e.then(t)}),Promise.resolve(e)).then((function(e){if(n.logger.debug("SessionDescriptionHandler.applyModifiers - modified sdp"),!e.sdp||!e.type)throw new Error("Invalid SDP.");return{sdp:e.sdp,type:e.type}})):Promise.resolve(e)}},{key:"createDataChannel",value:function(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));if(!0!==(null===e||void 0===e?void 0:e.dataChannel))return Promise.resolve();if(this._dataChannel)return Promise.resolve();switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.createDataChannel - creating data channel");try{return this._dataChannel=this._peerConnection.createDataChannel((null===e||void 0===e?void 0:e.dataChannelLabel)||"",null===e||void 0===e?void 0:e.dataChannelOptions),this.onDataChannel&&this.onDataChannel(this._dataChannel),Promise.resolve()}catch(t){return Promise.reject(t)}case"have-remote-offer":return Promise.resolve();default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}},{key:"createLocalOfferOrAnswer",value:function(e){if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP offer"),this._peerConnection.createOffer(null===e||void 0===e?void 0:e.offerOptions);case"have-remote-offer":return this.logger.debug("SessionDescriptionHandler.createLocalOfferOrAnswer - creating SDP answer"),this._peerConnection.createAnswer(null===e||void 0===e?void 0:e.answerOptions);default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}}},{key:"getLocalMediaStream",value:function(e){var t=this;if(this.logger.debug("SessionDescriptionHandler.getLocalMediaStream"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));var n=Object.assign({},null===e||void 0===e?void 0:e.constraints);if(this.localMediaStreamConstraints){if(n.audio=n.audio||this.localMediaStreamConstraints.audio,n.video=n.video||this.localMediaStreamConstraints.video,JSON.stringify(this.localMediaStreamConstraints.audio)===JSON.stringify(n.audio)&&JSON.stringify(this.localMediaStreamConstraints.video)===JSON.stringify(n.video))return Promise.resolve()}else void 0===n.audio&&void 0===n.video&&(n={audio:!0});return this.localMediaStreamConstraints=n,this.mediaStreamFactory(n,this).then((function(e){return t.setLocalMediaStream(e)}))}},{key:"setLocalMediaStream",value:function(t){var n=this;if(this.logger.debug("SessionDescriptionHandler.setLocalMediaStream"),!this._peerConnection)throw new Error("Peer connection undefined.");var r=this._peerConnection,i=this._localMediaStream,o=[],a=function(t){var a=t.kind;if("audio"!==a&&"video"!==a)throw new Error("Unknown new track kind ".concat(a,"."));var s=r.getSenders().find((function(e){return e.track&&e.track.kind===a}));s?o.push(new Promise((function(e){n.logger.debug("SessionDescriptionHandler.setLocalMediaStream - replacing sender ".concat(a," track")),e()})).then((function(){return s.replaceTrack(t).then((function(){var n=i.getTracks().find((function(e){return e.kind===a}));n&&(n.stop(),i.removeTrack(n),e.dispatchRemoveTrackEvent(i,n)),i.addTrack(t),e.dispatchAddTrackEvent(i,t)})).catch((function(e){throw n.logger.error("SessionDescriptionHandler.setLocalMediaStream - failed to replace sender ".concat(a," track")),e}))}))):o.push(new Promise((function(e){n.logger.debug("SessionDescriptionHandler.setLocalMediaStream - adding sender ".concat(a," track")),e()})).then((function(){try{r.addTrack(t,i)}catch(o){throw n.logger.error("SessionDescriptionHandler.setLocalMediaStream - failed to add sender ".concat(a," track")),o}i.addTrack(t),e.dispatchAddTrackEvent(i,t)})))},s=t.getAudioTracks();s.length&&a(s[0]);var c=t.getVideoTracks();return c.length&&a(c[0]),o.reduce((function(e,t){return e.then((function(){return t}))}),Promise.resolve())}},{key:"getLocalSessionDescription",value:function(){if(this.logger.debug("SessionDescriptionHandler.getLocalSessionDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));var e=this._peerConnection.localDescription;return e?Promise.resolve(e):Promise.reject(new Error("Failed to get local session description"))}},{key:"setLocalSessionDescription",value:function(e){return this.logger.debug("SessionDescriptionHandler.setLocalSessionDescription"),void 0===this._peerConnection?Promise.reject(new Error("Peer connection closed.")):this._peerConnection.setLocalDescription(e)}},{key:"setRemoteSessionDescription",value:function(e){if(this.logger.debug("SessionDescriptionHandler.setRemoteSessionDescription"),void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));var t,n=e.sdp;switch(this._peerConnection.signalingState){case"stable":t="offer";break;case"have-local-offer":t="answer";break;default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return n?this._peerConnection.setRemoteDescription({sdp:n,type:t}):(this.logger.error("SessionDescriptionHandler.setRemoteSessionDescription failed - cannot set null sdp"),Promise.reject(new Error("SDP is undefined")))}},{key:"setRemoteTrack",value:function(t){this.logger.debug("SessionDescriptionHandler.setRemoteTrack");var n=this._remoteMediaStream;n.getTrackById(t.id)?this.logger.debug("SessionDescriptionHandler.setRemoteTrack - have remote ".concat(t.kind," track")):"audio"===t.kind?(this.logger.debug("SessionDescriptionHandler.setRemoteTrack - adding remote ".concat(t.kind," track")),n.getAudioTracks().forEach((function(t){t.stop(),n.removeTrack(t),e.dispatchRemoveTrackEvent(n,t)})),n.addTrack(t),e.dispatchAddTrackEvent(n,t)):"video"===t.kind&&(this.logger.debug("SessionDescriptionHandler.setRemoteTrack - adding remote ".concat(t.kind," track")),n.getVideoTracks().forEach((function(t){t.stop(),n.removeTrack(t),e.dispatchRemoveTrackEvent(n,t)})),n.addTrack(t),e.dispatchAddTrackEvent(n,t))}},{key:"updateDirection",value:function(e){var t=this;if(void 0===this._peerConnection)return Promise.reject(new Error("Peer connection closed."));switch(this._peerConnection.signalingState){case"stable":this.logger.debug("SessionDescriptionHandler.updateDirection - setting offer direction"),this._peerConnection.getTransceivers().forEach((function(t){if(t.direction){var n=function(t){switch(t){case"inactive":case"recvonly":return(null===e||void 0===e?void 0:e.hold)?"inactive":"recvonly";case"sendonly":case"sendrecv":return(null===e||void 0===e?void 0:e.hold)?"sendonly":"sendrecv";case"stopped":return"stopped";default:throw new Error("Should never happen")}}(t.direction);t.direction!==n&&(t.direction=n)}}));break;case"have-remote-offer":this.logger.debug("SessionDescriptionHandler.updateDirection - setting answer direction");var n=function(){var e=t._peerConnection.remoteDescription;if(!e)throw new Error("Failed to read remote offer");var n=/a=sendrecv\r\n|a=sendonly\r\n|a=recvonly\r\n|a=inactive\r\n/.exec(e.sdp);if(n)switch(n[0]){case"a=inactive\r\n":return"inactive";case"a=recvonly\r\n":return"recvonly";case"a=sendonly\r\n":return"sendonly";case"a=sendrecv\r\n":return"sendrecv";default:throw new Error("Should never happen")}return"sendrecv"}(),r=function(){switch(n){case"inactive":return"inactive";case"recvonly":return"sendonly";case"sendonly":return(null===e||void 0===e?void 0:e.hold)?"inactive":"recvonly";case"sendrecv":return(null===e||void 0===e?void 0:e.hold)?"sendonly":"sendrecv";default:throw new Error("Should never happen")}}();this._peerConnection.getTransceivers().forEach((function(e){e.direction&&"stopped"!==e.direction&&e.direction!==r&&(e.direction=r)}));break;default:return Promise.reject(new Error("Invalid signaling state "+this._peerConnection.signalingState))}return Promise.resolve()}},{key:"iceGatheringComplete",value:function(){this.logger.debug("SessionDescriptionHandler.iceGatheringComplete"),void 0!==this.iceGatheringCompleteTimeoutId&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - clearing timeout"),clearTimeout(this.iceGatheringCompleteTimeoutId),this.iceGatheringCompleteTimeoutId=void 0),void 0!==this.iceGatheringCompletePromise&&(this.logger.debug("SessionDescriptionHandler.iceGatheringComplete - resolving promise"),this.iceGatheringCompleteResolve&&this.iceGatheringCompleteResolve(),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0)}},{key:"waitForIceGatheringComplete",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete"),void 0===this._peerConnection?Promise.reject("Peer connection closed."):t||"complete"!==this._peerConnection.iceGatheringState?(void 0!==this.iceGatheringCompletePromise&&(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - rejecting prior waiting promise"),this.iceGatheringCompleteReject&&this.iceGatheringCompleteReject(new Error("Promise superseded.")),this.iceGatheringCompletePromise=void 0,this.iceGatheringCompleteResolve=void 0,this.iceGatheringCompleteReject=void 0),this.iceGatheringCompletePromise=new Promise((function(t,r){e.iceGatheringCompleteResolve=t,e.iceGatheringCompleteReject=r,n>0&&(e.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout in "+n),e.iceGatheringCompleteTimeoutId=setTimeout((function(){e.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - timeout"),e.iceGatheringComplete()}),n))})),this.iceGatheringCompletePromise):(this.logger.debug("SessionDescriptionHandler.waitForIceGatheringToComplete - already complete"),Promise.resolve())}},{key:"initPeerConnectionEventHandlers",value:function(){var e=this;if(this.logger.debug("SessionDescriptionHandler.initPeerConnectionEventHandlers"),!this._peerConnection)throw new Error("Peer connection undefined.");var t=this._peerConnection;t.onconnectionstatechange=function(n){var r,i=t.connectionState;e.logger.debug("SessionDescriptionHandler.onconnectionstatechange ".concat(i)),(null===(r=e._peerConnectionDelegate)||void 0===r?void 0:r.onconnectionstatechange)&&e._peerConnectionDelegate.onconnectionstatechange(n)},t.ondatachannel=function(t){var n;e.logger.debug("SessionDescriptionHandler.ondatachannel"),e._dataChannel=t.channel,e.onDataChannel&&e.onDataChannel(e._dataChannel),(null===(n=e._peerConnectionDelegate)||void 0===n?void 0:n.ondatachannel)&&e._peerConnectionDelegate.ondatachannel(t)},t.onicecandidate=function(t){var n;e.logger.debug("SessionDescriptionHandler.onicecandidate"),(null===(n=e._peerConnectionDelegate)||void 0===n?void 0:n.onicecandidate)&&e._peerConnectionDelegate.onicecandidate(t)},t.onicecandidateerror=function(t){var n;e.logger.debug("SessionDescriptionHandler.onicecandidateerror"),(null===(n=e._peerConnectionDelegate)||void 0===n?void 0:n.onicecandidateerror)&&e._peerConnectionDelegate.onicecandidateerror(t)},t.oniceconnectionstatechange=function(n){var r,i=t.iceConnectionState;e.logger.debug("SessionDescriptionHandler.oniceconnectionstatechange ".concat(i)),(null===(r=e._peerConnectionDelegate)||void 0===r?void 0:r.oniceconnectionstatechange)&&e._peerConnectionDelegate.oniceconnectionstatechange(n)},t.onicegatheringstatechange=function(n){var r,i=t.iceGatheringState;e.logger.debug("SessionDescriptionHandler.onicegatheringstatechange ".concat(i)),"complete"===i&&e.iceGatheringComplete(),(null===(r=e._peerConnectionDelegate)||void 0===r?void 0:r.onicegatheringstatechange)&&e._peerConnectionDelegate.onicegatheringstatechange(n)},t.onnegotiationneeded=function(t){var n;e.logger.debug("SessionDescriptionHandler.onnegotiationneeded"),(null===(n=e._peerConnectionDelegate)||void 0===n?void 0:n.onnegotiationneeded)&&e._peerConnectionDelegate.onnegotiationneeded(t)},t.onsignalingstatechange=function(n){var r,i=t.signalingState;e.logger.debug("SessionDescriptionHandler.onsignalingstatechange ".concat(i)),(null===(r=e._peerConnectionDelegate)||void 0===r?void 0:r.onsignalingstatechange)&&e._peerConnectionDelegate.onsignalingstatechange(n)},t.onstatsended=function(t){var n;e.logger.debug("SessionDescriptionHandler.onstatsended"),(null===(n=e._peerConnectionDelegate)||void 0===n?void 0:n.onstatsended)&&e._peerConnectionDelegate.onstatsended(t)},t.ontrack=function(t){var n,r=t.track.kind,i=t.track.enabled?"enabled":"disabled";e.logger.debug("SessionDescriptionHandler.ontrack ".concat(r," ").concat(i)),e.setRemoteTrack(t.track),(null===(n=e._peerConnectionDelegate)||void 0===n?void 0:n.ontrack)&&e._peerConnectionDelegate.ontrack(t)}}}],[{key:"dispatchAddTrackEvent",value:function(e,t){e.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:t}))}},{key:"dispatchRemoveTrackEvent",value:function(e,t){e.dispatchEvent(new MediaStreamTrackEvent("removetrack",{track:t}))}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Transport:function(){return s}});var r=n(12),i=n(9),o=n(47),a=n(21),s=function(){function e(t,n){if(h(this,e),this._state=o.TransportState.Disconnected,this.transitioningState=!1,this._stateEventEmitter=new r.EmitterImpl,this.logger=t,n){var i=n,s=null===i||void 0===i?void 0:i.wsServers,c=null===i||void 0===i?void 0:i.maxReconnectionAttempts;void 0!==s&&this.logger.warn('The transport option "wsServers" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.'),void 0!==c&&this.logger.warn('The transport option "maxReconnectionAttempts" as has apparently been specified and has been deprecated. It will no longer be available starting with SIP.js release 0.16.0. Please update accordingly.'),s&&!n.server&&("string"===typeof s&&(n.server=s),s instanceof Array&&(n.server=s[0]))}this.configuration=Object.assign(Object.assign({},e.defaultOptions),n);var l=this.configuration.server,u=a.Grammar.parse(l,"absoluteURI");if(-1===u)throw this.logger.error('Invalid WebSocket Server URL "'.concat(l,'"')),new Error("Invalid WebSocket Server URL");if(!["wss","ws","udp"].includes(u.scheme))throw this.logger.error('Invalid scheme in WebSocket Server URL "'.concat(l,'"')),new Error("Invalid scheme in WebSocket Server URL");this._protocol=u.scheme.toUpperCase()}return f(e,[{key:"dispose",value:function(){return this.disconnect()}},{key:"protocol",get:function(){return this._protocol}},{key:"server",get:function(){return this.configuration.server}},{key:"state",get:function(){return this._state}},{key:"stateChange",get:function(){return this._stateEventEmitter}},{key:"ws",get:function(){return this._ws}},{key:"connect",value:function(){return this._connect()}},{key:"disconnect",value:function(){return this._disconnect()}},{key:"isConnected",value:function(){return this.state===o.TransportState.Connected}},{key:"send",value:function(e){return this._send(e)}},{key:"_connect",value:function(){var e,t=this;switch(this.logger.log("Connecting ".concat(this.server)),this.state){case o.TransportState.Connecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(o.TransportState.Connecting));if(!this.connectPromise)throw new Error("Connect promise must be defined.");return this.connectPromise;case o.TransportState.Connected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(o.TransportState.Connecting));if(this.connectPromise)throw new Error("Connect promise must not be defined.");return Promise.resolve();case o.TransportState.Disconnecting:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(o.TransportState.Connecting)}catch(n){if(n instanceof i.StateTransitionError)return Promise.reject(n);throw n}break;case o.TransportState.Disconnected:if(this.connectPromise)throw new Error("Connect promise must not be defined.");try{this.transitionState(o.TransportState.Connecting)}catch(n){if(n instanceof i.StateTransitionError)return Promise.reject(n);throw n}break;default:throw new Error("Unknown state")}try{(e=new WebSocket(this.server,"sip")).binaryType="arraybuffer",e.addEventListener("close",(function(n){return t.onWebSocketClose(n,e)})),e.addEventListener("error",(function(n){return t.onWebSocketError(n,e)})),e.addEventListener("open",(function(n){return t.onWebSocketOpen(n,e)})),e.addEventListener("message",(function(n){return t.onWebSocketMessage(n,e)})),this._ws=e}catch(r){return this._ws=void 0,this.logger.error("WebSocket construction failed."),this.logger.error(r),new Promise((function(e,n){t.connectResolve=e,t.connectReject=n,t.transitionState(o.TransportState.Disconnected,r)}))}return this.connectPromise=new Promise((function(n,r){t.connectResolve=n,t.connectReject=r,t.connectTimeout=setTimeout((function(){t.logger.warn("Connect timed out. Exceeded time set in configuration.connectionTimeout: "+t.configuration.connectionTimeout+"s."),e.close(1e3)}),1e3*t.configuration.connectionTimeout)})),this.connectPromise}},{key:"_disconnect",value:function(){var e=this;switch(this.logger.log("Disconnecting ".concat(this.server)),this.state){case o.TransportState.Connecting:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(o.TransportState.Disconnecting)}catch(n){if(n instanceof i.StateTransitionError)return Promise.reject(n);throw n}break;case o.TransportState.Connected:if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");try{this.transitionState(o.TransportState.Disconnecting)}catch(n){if(n instanceof i.StateTransitionError)return Promise.reject(n);throw n}break;case o.TransportState.Disconnecting:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(o.TransportState.Disconnecting));if(!this.disconnectPromise)throw new Error("Disconnect promise must be defined.");return this.disconnectPromise;case o.TransportState.Disconnected:if(this.transitioningState)return Promise.reject(this.transitionLoopDetectedError(o.TransportState.Disconnecting));if(this.disconnectPromise)throw new Error("Disconnect promise must not be defined.");return Promise.resolve();default:throw new Error("Unknown state")}if(!this._ws)throw new Error("WebSocket must be defined.");var t=this._ws;return this.disconnectPromise=new Promise((function(n,r){e.disconnectResolve=n,e.disconnectReject=r;try{t.close(1e3)}catch(i){throw e.logger.error("WebSocket close failed."),e.logger.error(i),i}})),this.disconnectPromise}},{key:"_send",value:function(e){if(!0===this.configuration.traceSip&&this.logger.log("Sending WebSocket message:\n\n"+e+"\n"),this._state!==o.TransportState.Connected)return Promise.reject(new Error("Not connected."));if(!this._ws)throw new Error("WebSocket undefined.");try{this._ws.send(e)}catch(t){return t instanceof Error?Promise.reject(t):Promise.reject(new Error("WebSocket send failed."))}return Promise.resolve()}},{key:"onWebSocketClose",value:function(e,t){if(t===this._ws){var n="WebSocket closed ".concat(this.server," (code: ").concat(e.code,")"),r=this.disconnectPromise?void 0:new Error(n);r&&this.logger.warn("WebSocket closed unexpectedly"),this.logger.log(n),this._ws=void 0,this.transitionState(o.TransportState.Disconnected,r)}}},{key:"onWebSocketError",value:function(e,t){t===this._ws&&this.logger.error("WebSocket error occurred.")}},{key:"onWebSocketMessage",value:function(e,t){if(t===this._ws){var n,r=e.data;if(/^(\r\n)+$/.test(r))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("Received WebSocket message with CRLF Keep Alive response"));if(r){if("string"!==typeof r){try{n=(new TextDecoder).decode(new Uint8Array(r))}catch(i){return this.logger.error(i),void this.logger.error("Received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("Received WebSocket binary message:\n\n"+n+"\n")}else n=r,!0===this.configuration.traceSip&&this.logger.log("Received WebSocket text message:\n\n"+n+"\n");if(this.state===o.TransportState.Connected){if(this.onMessage)try{this.onMessage(n)}catch(a){throw this.logger.error(a),this.logger.error("Exception thrown by onMessage callback"),a}}else this.logger.warn("Received message while not connected, discarding...")}else this.logger.warn("Received empty message, discarding...")}}},{key:"onWebSocketOpen",value:function(e,t){t===this._ws&&this._state===o.TransportState.Connecting&&(this.logger.log("WebSocket opened ".concat(this.server)),this.transitionState(o.TransportState.Connected))}},{key:"transitionLoopDetectedError",value:function(e){var t="A state transition loop has been detected.";return t+=" An attempt to transition from ".concat(this._state," to ").concat(e," before the prior transition completed."),t+=" Perhaps you are synchronously calling connect() or disconnect() from a callback or state change handler?",this.logger.error(t),new i.StateTransitionError("Loop detected.")}},{key:"transitionState",value:function(e,t){var n=this,r=function(){throw new Error("Invalid state transition from ".concat(n._state," to ").concat(e))};if(this.transitioningState)throw this.transitionLoopDetectedError(e);switch(this.transitioningState=!0,this._state){case o.TransportState.Connecting:e!==o.TransportState.Connected&&e!==o.TransportState.Disconnecting&&e!==o.TransportState.Disconnected&&r();break;case o.TransportState.Connected:e!==o.TransportState.Disconnecting&&e!==o.TransportState.Disconnected&&r();break;case o.TransportState.Disconnecting:e!==o.TransportState.Connecting&&e!==o.TransportState.Disconnected&&r();break;case o.TransportState.Disconnected:e!==o.TransportState.Connecting&&r();break;default:throw new Error("Unknown state.")}var i=this._state;this._state=e;var a=this.connectResolve,s=this.connectReject;i===o.TransportState.Connecting&&(this.connectPromise=void 0,this.connectResolve=void 0,this.connectReject=void 0);var c=this.disconnectResolve,l=this.disconnectReject;if(i===o.TransportState.Disconnecting&&(this.disconnectPromise=void 0,this.disconnectResolve=void 0,this.disconnectReject=void 0),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0),this.logger.log("Transitioned from ".concat(i," to ").concat(this._state)),this._stateEventEmitter.emit(this._state),e===o.TransportState.Connected&&(this.startSendingKeepAlives(),this.onConnect))try{this.onConnect()}catch(u){throw this.logger.error(u),this.logger.error("Exception thrown by onConnect callback"),u}if(i===o.TransportState.Connected&&(this.stopSendingKeepAlives(),this.onDisconnect))try{t?this.onDisconnect(t):this.onDisconnect()}catch(u){throw this.logger.error(u),this.logger.error("Exception thrown by onDisconnect callback"),u}if(i===o.TransportState.Connecting){if(!a)throw new Error("Connect resolve undefined.");if(!s)throw new Error("Connect reject undefined.");e===o.TransportState.Connected?a():s(t||new Error("Connect aborted."))}if(i===o.TransportState.Disconnecting){if(!c)throw new Error("Disconnect resolve undefined.");if(!l)throw new Error("Disconnect reject undefined.");e===o.TransportState.Disconnected?c():l(t||new Error("Disconnect aborted."))}this.transitioningState=!1}},{key:"clearKeepAliveTimeout",value:function(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0}},{key:"sendKeepAlive",value:function(){var e=this;return this.keepAliveDebounceTimeout?Promise.resolve():(this.keepAliveDebounceTimeout=setTimeout((function(){e.clearKeepAliveTimeout()}),1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n"))}},{key:"startSendingKeepAlives",value:function(){var e=this;this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval((function(){e.sendKeepAlive(),e.startSendingKeepAlives()}),function(e){var t=.8*e;return 1e3*(Math.random()*(e-t)+t)}(this.configuration.keepAliveInterval)))}},{key:"stopSendingKeepAlives",value:function(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0}}]),e}();s.defaultOptions={server:"",connectionTimeout:5,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!0}},function(e,t,n){n.r(t),n.d(t,{DigestAuthentication:function(){return a}});var r=n(59),i=n(20);function o(e){return r.Md5.hashStr(e)}var a=function(){function e(t,n,r,i){h(this,e),this.logger=t.getLogger("sipjs.digestauthentication"),this.username=r,this.password=i,this.ha1=n,this.nc=0,this.ncHex="00000000"}return f(e,[{key:"authenticate",value:function(e,t,n){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=(0,i.createRandomToken)(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(n),!0}},{key:"toString",value:function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")}},{key:"updateNcHex",value:function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e}},{key:"calculateResponse",value:function(e){var t,n;""!==(t=this.ha1)&&void 0!==t||(t="function"===typeof this.password?o(this.username+":"+this.realm+":"+this.password()):o(this.username+":"+this.realm+":"+this.password)),"auth"===this.qop?(n=o(this.method+":"+this.uri),this.response=o(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+n)):"auth-int"===this.qop?(n=o(this.method+":"+this.uri+":"+o(e||"")),this.response=o(t+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+n)):void 0===this.qop&&(n=o(this.method+":"+this.uri),this.response=o(t+":"+this.nonce+":"+n))}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Md5:function(){return r}});var r=function(){function e(){h(this,e),this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return f(e,[{key:"start",value:function(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}},{key:"appendStr",value:function(t){var n,r,i=this._buffer8,o=this._buffer32,a=this._bufferLength;for(r=0;r<t.length;r+=1){if((n=t.charCodeAt(r))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(t.charCodeAt(++r)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this}},{key:"appendAsciiStr",value:function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t.charCodeAt(a++);if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this}},{key:"appendByteArray",value:function(t){for(var n,r=this._buffer8,i=this._buffer32,o=this._bufferLength,a=0;;){for(n=Math.min(t.length-a,64-o);n--;)r[o++]=t[a++];if(o<64)break;this._dataLength+=64,e._md5cycle(this._state,i),o=0}return this._bufferLength=o,this}},{key:"getState",value:function(){var e=this,t=e._state;return{buffer:String.fromCharCode.apply(null,e._buffer8),buflen:e._bufferLength,length:e._dataLength,state:[t[0],t[1],t[2],t[3]]}}},{key:"setState",value:function(e){var t,n=e.buffer,r=e.state,i=this._state;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],t=0;t<n.length;t+=1)this._buffer8[t]=n.charCodeAt(t)}},{key:"end",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this._bufferLength,i=this._buffer8,o=this._buffer32,a=1+(r>>2);if(this._dataLength+=r,i[r]=128,i[r+1]=i[r+2]=i[r+3]=0,o.set(e.buffer32Identity.subarray(a),a),r>55&&(e._md5cycle(this._state,o),o.set(e.buffer32Identity)),(t=8*this._dataLength)<=4294967295)o[14]=t;else{var s=t.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var c=parseInt(s[2],16),l=parseInt(s[1],16)||0;o[14]=c,o[15]=l}return e._md5cycle(this._state,o),n?this._state:e._hex(this._state)}}],[{key:"hashStr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.onePassHasher.start().appendStr(e).end(t)}},{key:"hashAsciiStr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.onePassHasher.start().appendAsciiStr(e).end(t)}},{key:"_hex",value:function(t){var n,r,i,o,a=e.hexChars,s=e.hexOut;for(o=0;o<4;o+=1)for(r=8*o,n=t[o],i=0;i<8;i+=2)s[r+1+i]=a.charAt(15&n),n>>>=4,s[r+0+i]=a.charAt(15&n),n>>>=4;return s.join("")}},{key:"_md5cycle",value:function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}}]),e}();r.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),r.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r.hexChars="0123456789abcdef",r.hexOut=[],r.onePassHasher=new r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello")&&console.error("Md5 self test failed.")},function(e,t,n){n.r(t),n.d(t,{UserAgentCore:function(){return E}});var r=n(29),i=n(27),o=n(83),a=n(64),s=n(63),c=n(71),l=n(61),u=n(76),d=n(90),p=n(91),g=n(92),v=n(62),m=n(95),y=n(87),b=n(86),S=n(89),w=n(96),k=n(97),T=n(28),C=["application/sdp","application/dtmf-relay"],E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=t,this.delegate=n,this.dialogs=new Map,this.subscribers=new Map,this.logger=t.loggerFactory.getLogger("sip.user-agent-core")}return f(e,[{key:"dispose",value:function(){this.reset()}},{key:"reset",value:function(){this.dialogs.forEach((function(e){return e.dispose()})),this.dialogs.clear(),this.subscribers.forEach((function(e){return e.dispose()})),this.subscribers.clear(),this.userAgentClients.forEach((function(e){return e.dispose()})),this.userAgentClients.clear(),this.userAgentServers.forEach((function(e){return e.dispose()})),this.userAgentServers.clear()}},{key:"loggerFactory",get:function(){return this.configuration.loggerFactory}},{key:"transport",get:function(){var e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e}},{key:"invite",value:function(e,t){return new l.InviteUserAgentClient(this,e,t)}},{key:"message",value:function(e,t){return new u.MessageUserAgentClient(this,e,t)}},{key:"publish",value:function(e,t){return new d.PublishUserAgentClient(this,e,t)}},{key:"register",value:function(e,t){return new p.RegisterUserAgentClient(this,e,t)}},{key:"subscribe",value:function(e,t){return new g.SubscribeUserAgentClient(this,e,t)}},{key:"request",value:function(e,t){return new v.UserAgentClient(a.NonInviteClientTransaction,this,e,t)}},{key:"makeOutgoingRequestMessage",value:function(e,t,n,o,a,s,c){var l=this.configuration.sipjsId,u=this.configuration.displayName,d=this.configuration.viaForceRport,f=this.configuration.hackViaTcp,h=this.configuration.supportedOptionTags.slice();e===r.C.REGISTER&&h.push("path","gruu"),e===r.C.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&h.push("gruu");var p={callIdPrefix:l,forceRport:d,fromDisplayName:u,hackViaTcp:f,optionTags:h,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},g=Object.assign(Object.assign({},p),a);return new i.OutgoingRequestMessage(e,t,n,o,g,s,c)}},{key:"receiveIncomingRequestFromTransport",value:function(e){this.receiveRequestFromTransport(e)}},{key:"receiveIncomingResponseFromTransport",value:function(e){this.receiveResponseFromTransport(e)}},{key:"replyStateless",value:function(e,t){var n=this,r=this.configuration.userAgentHeaderFieldValue,i=this.configuration.supportedOptionTagsResponse;t=Object.assign(Object.assign({},t),{userAgent:r,supported:i});var a=(0,o.constructOutgoingResponse)(e,t);return this.transport.send(a.message).catch((function(t){t instanceof Error&&n.logger.error(t.message),n.logger.error("Transport error occurred sending stateless reply to ".concat(e.method," request."))})),a}},{key:"receiveRequestFromTransport",value:function(e){var t=e.viaBranch,n=this.userAgentServers.get(t);e.method===r.C.ACK&&n&&n.transaction.state===s.TransactionState.Accepted&&n instanceof m.InviteUserAgentServer?this.logger.warn("Discarding out of dialog ACK after 2xx response sent on transaction ".concat(t,".")):e.method!==r.C.CANCEL?n?n.transaction.receiveRequest(e):this.receiveRequest(e):n?(this.replyStateless(e,{statusCode:200}),n.transaction instanceof c.InviteServerTransaction&&n.transaction.state===s.TransactionState.Proceeding&&n instanceof m.InviteUserAgentServer&&n.receiveCancel(e)):this.replyStateless(e,{statusCode:481})}},{key:"receiveRequest",value:function(e){if(T.AllowedMethods.includes(e.method)){if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"===e.ruri.scheme){var t=e.ruri,n=function(e){return!!e&&e.user===t.user};if(!n(this.configuration.aor)&&!(n(this.configuration.contact.uri)||n(this.configuration.contact.pubGruu)||n(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==r.C.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==r.C.INVITE||e.hasHeader("Contact")){if(!e.toTag){var i=e.viaBranch;if(!this.userAgentServers.has(i)&&Array.from(this.userAgentServers.values()).some((function(t){return t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq})))return void this.replyStateless(e,{statusCode:482})}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}else this.replyStateless(e,{statusCode:416})}else{var o="Allow: "+T.AllowedMethods.toString();this.replyStateless(e,{statusCode:405,extraHeaders:[o]})}}},{key:"receiveInsideDialogRequest",value:function(e){if(e.method===r.C.NOTIFY){var t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});var n=e.callId+e.toTag+t.event,i=this.subscribers.get(n);if(i){var o=new y.NotifyUserAgentServer(this,e);return void i.onNotify(o)}}var a=e.callId+e.toTag+e.fromTag,s=this.dialogs.get(a);if(s){if(e.method===r.C.OPTIONS){var c="Allow: "+T.AllowedMethods.toString(),l="Accept: "+C.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[c,l]})}s.receiveRequest(e)}else e.method!==r.C.ACK&&this.replyStateless(e,{statusCode:481})}},{key:"receiveOutsideDialogRequest",value:function(e){switch(e.method){case r.C.ACK:break;case r.C.BYE:this.replyStateless(e,{statusCode:481});break;case r.C.CANCEL:throw new Error("Unexpected out of dialog request method ".concat(e.method,"."));case r.C.INFO:this.replyStateless(e,{statusCode:405});break;case r.C.INVITE:var t=new m.InviteUserAgentServer(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject();break;case r.C.MESSAGE:var n=new b.MessageUserAgentServer(this,e);this.delegate.onMessage?this.delegate.onMessage(n):n.accept();break;case r.C.NOTIFY:var i=new y.NotifyUserAgentServer(this,e);this.delegate.onNotify?this.delegate.onNotify(i):i.reject({statusCode:405});break;case r.C.OPTIONS:var o="Allow: "+T.AllowedMethods.toString(),a="Accept: "+C.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[o,a]});break;case r.C.REFER:var s=new S.ReferUserAgentServer(this,e);this.delegate.onRefer?this.delegate.onRefer(s):s.reject({statusCode:405});break;case r.C.REGISTER:var c=new w.RegisterUserAgentServer(this,e);this.delegate.onRegister?this.delegate.onRegister(c):c.reject({statusCode:405});break;case r.C.SUBSCRIBE:var l=new k.SubscribeUserAgentServer(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(l):l.reject({statusCode:480});break;default:throw new Error("Unexpected out of dialog request method ".concat(e.method,"."))}}},{key:"receiveResponseFromTransport",value:function(e){if(e.getHeaders("via").length>1)this.logger.warn("More than one Via header field present in the response, dropping");else{var t=e.viaBranch+e.method,n=this.userAgentClients.get(t);n?n.transaction.receiveResponse(e):this.logger.warn("Discarding unmatched ".concat(e.statusCode," response to ").concat(e.method," ").concat(t,"."))}}}]),e}()},function(e,t,n){n.r(t),n.d(t,{InviteUserAgentClient:function(){return u}});var r=n(69),i=n(70),o=n(30),a=n(68),s=n(63),u=function(e){p(n,e);var t=g(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,a.InviteClientTransaction,e,r,i)).confirmedDialogAcks=new Map,o.confirmedDialogs=new Map,o.earlyDialogs=new Map,o.delegate=i,o}return f(n,[{key:"dispose",value:function(){this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),c(l(n.prototype),"dispose",this).call(this)}},{key:"onTransportError",value:function(e){if(this.transaction.state===s.TransactionState.Calling)return c(l(n.prototype),"onTransportError",this).call(this,e);this.logger.error(e.message),this.logger.error("User agent client request transport error while sending ACK.")}},{key:"receiveResponse",value:function(e){var t=this;if(this.authenticationGuard(e)){var n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(n):if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("Non-100 1xx INVITE response received without a Contact header field, dropping.");var s=r.Dialog.initialDialogStateForUserAgentClient(this.message,e),c=this.earlyDialogs.get(s.id);if(!c){var l=this.transaction;if(!(l instanceof a.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");c=new i.SessionDialog(l,this.core,s),this.earlyDialogs.set(c.id,c)}if(!c.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order or is a retransmission, dropping.");c.signalingState!==o.SignalingState.Initial&&c.signalingState!==o.SignalingState.HaveLocalOffer||c.signalingStateTransition(e);var u=c;return void(this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:u,prack:function(e){return u.prack(void 0,e)}}));case/^2[0-9]{2}$/.test(n):if(!e.toTag)return void this.logger.error("2xx INVITE response received without a to tag, dropping.");if(!e.parseHeader("contact"))return void this.logger.error("2xx INVITE response received without a Contact header field, dropping.");var d=r.Dialog.initialDialogStateForUserAgentClient(this.message,e),f=this.confirmedDialogs.get(d.id);if(f){var h=this.confirmedDialogAcks.get(d.id);if(h){var p=this.transaction;if(!(p instanceof a.InviteClientTransaction))throw new Error("Client transaction not instance of InviteClientTransaction.");p.ackResponse(h.message)}return}if(f=this.earlyDialogs.get(d.id))f.confirm(),f.recomputeRouteSet(e),this.earlyDialogs.delete(f.id),this.confirmedDialogs.set(f.id,f);else{var g=this.transaction;if(!(g instanceof a.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");f=new i.SessionDialog(g,this.core,d),this.confirmedDialogs.set(f.id,f)}f.signalingState!==o.SignalingState.Initial&&f.signalingState!==o.SignalingState.HaveLocalOffer||f.signalingStateTransition(e);var v=f;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:v,ack:function(e){var n=v.ack(e);return t.confirmedDialogAcks.set(v.id,n),n}});else{var m=v.ack();this.confirmedDialogAcks.set(v.id,m)}return;case/^3[0-9]{2}$/.test(n):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(n):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error("Invalid status code ".concat(n))}throw new Error("Executing what should be an unreachable code path receiving ".concat(n," response."))}}}]),n}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{UserAgentClient:function(){return s}});var r=n(29),i=n(26),o=n(63),a=n(64),s=function(){function e(t,n,r,i){h(this,e),this.transactionConstructor=t,this.core=n,this.message=r,this.delegate=i,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}return f(e,[{key:"dispose",value:function(){this.transaction.dispose()}},{key:"loggerFactory",get:function(){return this.core.loggerFactory}},{key:"transaction",get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}},{key:"cancel",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");var s=this.core.makeOutgoingRequestMessage(r.C.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},i.extraHeaders);return s.branch=this.message.branch,this.message.headers.Route&&(s.headers.Route=this.message.headers.Route),t&&s.setHeader("Reason",t),this.transaction.state===o.TransactionState.Proceeding?new e(a.NonInviteClientTransaction,this.core,s):this.transaction.addStateChangeListener((function(){n.transaction&&n.transaction.state===o.TransactionState.Proceeding&&new e(a.NonInviteClientTransaction,n.core,s)}),{once:!0}),s}},{key:"authenticationGuard",value:function(e,t){var n,r,i=e.statusCode;if(!i)throw new Error("Response status code undefined.");if(401!==i&&407!==i)return!0;if(401===i?(n=e.parseHeader("www-authenticate"),r="authorization"):(n=e.parseHeader("proxy-authenticate"),r="proxy-authorization"),!n)return this.logger.warn(i+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==n.stale))return this.logger.warn(i+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,n))return!0;this.challenged=!0,n.stale&&(this.stale=!0);var o=this.message.cseq+=1;return t&&t.localSequenceNumber&&(t.incrementLocalSequenceNumber(),o=this.message.cseq=t.localSequenceNumber),this.message.setHeader("cseq",o+" "+this.message.method),this.message.setHeader(r,this.credentials.toString()),this.init(),!1}},{key:"onRequestTimeout",value:function(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");var e=new i.IncomingResponseMessage;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)}},{key:"onTransportError",value:function(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");var t=new i.IncomingResponseMessage;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)}},{key:"receiveResponse",value:function(e){if(this.authenticationGuard(e)){var t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code ".concat(t))}}}},{key:"init",value:function(){var e=this,t={loggerFactory:this.loggerFactory,onRequestTimeout:function(){return e.onRequestTimeout()},onStateChange:function(t){t===o.TransactionState.Terminated&&(e.core.userAgentClients.delete(r),n===e._transaction&&e.dispose())},onTransportError:function(t){return e.onTransportError(t)},receiveResponse:function(t){return e.receiveResponse(t)}},n=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=n;var r=n.id+n.request.method;this.core.userAgentClients.set(r,this)}}]),e}()},function(e,t,n){var r,i;n.r(t),n.d(t,{TransactionState:function(){return r}}),(i=r||(r={})).Accepted="Accepted",i.Calling="Calling",i.Completed="Completed",i.Confirmed="Confirmed",i.Proceeding="Proceeding",i.Terminated="Terminated",i.Trying="Trying"},function(e,t,n){n.r(t),n.d(t,{NonInviteClientTransaction:function(){return a}});var r=n(36),i=n(65),o=n(63),a=function(e){p(n,e);var t=g(n);function n(e,i,a){var s;return h(this,n),(s=t.call(this,e,i,a,o.TransactionState.Trying,"sip.transaction.nict")).F=setTimeout((function(){return s.timerF()}),r.Timers.TIMER_F),s.send(e.toString()).catch((function(e){s.logTransportError(e,"Failed to send initial outgoing request.")})),s}return f(n,[{key:"dispose",value:function(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),c(l(n.prototype),"dispose",this).call(this)}},{key:"kind",get:function(){return"nict"}},{key:"receiveResponse",value:function(e){var t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code ".concat(t));switch(this.state){case o.TransactionState.Trying:if(t>=100&&t<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(o.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Completed:case o.TransactionState.Terminated:return;default:throw new Error("Invalid state ".concat(this.state))}var n="Non-INVITE client transaction received unexpected ".concat(t," response while in state ").concat(this.state,".");this.logger.warn(n)}},{key:"onTransportError",value:function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)}},{key:"typeToString",value:function(){return"non-INVITE client transaction"}},{key:"stateTransition",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(){throw new Error("Invalid state transition from ".concat(t.state," to ").concat(e))};switch(e){case o.TransactionState.Trying:i();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&i();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&i();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(n||i());break;default:i()}e===o.TransactionState.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout((function(){return t.timerK()}),r.Timers.TIMER_K)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)}},{key:"timerF",value:function(){this.logger.debug("Timer F expired for non-INVITE client transaction ".concat(this.id,".")),this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding||(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))}},{key:"timerK",value:function(){this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)}}]),n}(i.ClientTransaction)},function(e,t,n){n.r(t),n.d(t,{ClientTransaction:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e,r,i,o,a){var s;return h(this,n),(s=t.call(this,r,i,n.makeId(e),o,a))._request=e,s.user=i,e.setViaHeader(s.id,r.protocol),s}return f(n,[{key:"request",get:function(){return this._request}},{key:"onRequestTimeout",value:function(){this.user.onRequestTimeout&&this.user.onRequestTimeout()}}],[{key:"makeId",value:function(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())}}]),n}(n(66).Transaction)},function(e,t,n){n.r(t),n.d(t,{Transaction:function(){return i}});var r=n(67),i=function(){function e(t,n,r,i,o){h(this,e),this._transport=t,this._user=n,this._id=r,this._state=i,this.listeners=new Array,this.logger=n.loggerFactory.getLogger(o,r),this.logger.debug("Constructing ".concat(this.typeToString()," with id ").concat(this.id,"."))}return f(e,[{key:"dispose",value:function(){this.logger.debug("Destroyed ".concat(this.typeToString()," with id ").concat(this.id,"."))}},{key:"id",get:function(){return this._id}},{key:"kind",get:function(){throw new Error("Invalid kind.")}},{key:"state",get:function(){return this._state}},{key:"transport",get:function(){return this._transport}},{key:"addStateChangeListener",value:function(e,t){var n=this;!0===(null===t||void 0===t?void 0:t.once)?this.listeners.push((function t(){n.removeStateChangeListener(t),e()})):this.listeners.push(e)}},{key:"notifyStateChangeListeners",value:function(){this.listeners.slice().forEach((function(e){return e()}))}},{key:"removeStateChangeListener",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))}},{key:"logTransportError",value:function(e,t){this.logger.error(e.message),this.logger.error("Transport error occurred in ".concat(this.typeToString()," with id ").concat(this.id,".")),this.logger.error(t)}},{key:"send",value:function(e){var t=this;return this.transport.send(e).catch((function(e){if(e instanceof r.TransportError)throw t.onTransportError(e),e;var n;throw n=e&&"string"===typeof e.message?new r.TransportError(e.message):new r.TransportError,t.onTransportError(n),n}))}},{key:"setState",value:function(e){this.logger.debug('State change to "'.concat(e,'" on ').concat(this.typeToString()," with id ").concat(this.id,".")),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.notifyStateChangeListeners()}},{key:"typeToString",value:function(){return"UnknownType"}}]),e}()},function(e,t,n){n.r(t),n.d(t,{TransportError:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e){return h(this,n),t.call(this,e||"Unspecified transport error.")}return f(n)}(n(5).Exception)},function(e,t,n){n.r(t),n.d(t,{InviteClientTransaction:function(){return a}});var r=n(36),i=n(65),o=n(63),a=function(e){p(n,e);var t=g(n);function n(e,i,a){var s;return h(this,n),(s=t.call(this,e,i,a,o.TransactionState.Calling,"sip.transaction.ict")).ackRetransmissionCache=new Map,s.B=setTimeout((function(){return s.timerB()}),r.Timers.TIMER_B),s.send(e.toString()).catch((function(e){s.logTransportError(e,"Failed to send initial outgoing request.")})),s}return f(n,[{key:"dispose",value:function(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),c(l(n.prototype),"dispose",this).call(this)}},{key:"kind",get:function(){return"ict"}},{key:"ackResponse",value:function(e){var t=this,n=e.toTag;if(!n)throw new Error("To tag undefined.");var r="z9hG4bK"+Math.floor(1e7*Math.random());e.setViaHeader(r,this.transport.protocol),this.ackRetransmissionCache.set(n,e),this.send(e.toString()).catch((function(e){t.logTransportError(e,"Failed to send ACK to 2xx response.")}))}},{key:"receiveResponse",value:function(e){var t=this,n=e.statusCode;if(!n||n<100||n>699)throw new Error("Invalid status code ".concat(n));switch(this.state){case o.TransactionState.Calling:if(n>=100&&n<=199)return this.stateTransition(o.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=300&&n<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Proceeding:if(n>=100&&n<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(o.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=300&&n<=699)return this.stateTransition(o.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case o.TransactionState.Accepted:if(n>=200&&n<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));var r=this.ackRetransmissionCache.get(e.toTag);return r?void this.send(r.toString()).catch((function(e){t.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")})):void 0}break;case o.TransactionState.Completed:if(n>=300&&n<=699)return void this.ack(e);break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}var i="Received unexpected ".concat(n," response while in state ").concat(this.state,".");this.logger.warn(i)}},{key:"onTransportError",value:function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)}},{key:"typeToString",value:function(){return"INVITE client transaction"}},{key:"ack",value:function(e){var t=this,n=this.request.ruri,r=this.request.callId,i=this.request.cseq,o=this.request.getHeader("from"),a=e.getHeader("to"),s=this.request.getHeader("via"),c=this.request.getHeader("route");if(!o)throw new Error("From undefined.");if(!a)throw new Error("To undefined.");if(!s)throw new Error("Via undefined.");var l="ACK ".concat(n," SIP/2.0\r\n");c&&(l+="Route: ".concat(c,"\r\n")),l+="Via: ".concat(s,"\r\n"),l+="To: ".concat(a,"\r\n"),l+="From: ".concat(o,"\r\n"),l+="Call-ID: ".concat(r,"\r\n"),l+="CSeq: ".concat(i," ACK\r\n"),l+="Max-Forwards: 70\r\n",l+="Content-Length: 0\r\n\r\n",this.send(l).catch((function(e){t.logTransportError(e,"Failed to send ACK to non-2xx response.")}))}},{key:"stateTransition",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(){throw new Error("Invalid state transition from ".concat(t.state," to ").concat(e))};switch(e){case o.TransactionState.Calling:i();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Calling&&i();break;case o.TransactionState.Accepted:case o.TransactionState.Completed:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Proceeding&&i();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Calling&&this.state!==o.TransactionState.Accepted&&this.state!==o.TransactionState.Completed&&(n||i());break;default:i()}this.B&&(clearTimeout(this.B),this.B=void 0),o.TransactionState.Proceeding,e===o.TransactionState.Completed&&(this.D=setTimeout((function(){return t.timerD()}),r.Timers.TIMER_D)),e===o.TransactionState.Accepted&&(this.M=setTimeout((function(){return t.timerM()}),r.Timers.TIMER_M)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)}},{key:"timerA",value:function(){}},{key:"timerB",value:function(){this.logger.debug("Timer B expired for INVITE client transaction ".concat(this.id,".")),this.state===o.TransactionState.Calling&&(this.onRequestTimeout(),this.stateTransition(o.TransactionState.Terminated))}},{key:"timerD",value:function(){this.logger.debug("Timer D expired for INVITE client transaction ".concat(this.id,".")),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)}},{key:"timerM",value:function(){this.logger.debug("Timer M expired for INVITE client transaction ".concat(this.id,".")),this.state===o.TransactionState.Accepted&&this.stateTransition(o.TransactionState.Terminated)}}]),n}(i.ClientTransaction)},function(e,t,n){n.r(t),n.d(t,{Dialog:function(){return o}});var r=n(25),i=n(29),o=function(){function e(t,n){h(this,e),this.core=t,this.dialogState=n,this.core.dialogs.set(this.id,this)}return f(e,[{key:"dispose",value:function(){this.core.dialogs.delete(this.id)}},{key:"id",get:function(){return this.dialogState.id}},{key:"early",get:function(){return this.dialogState.early}},{key:"callId",get:function(){return this.dialogState.callId}},{key:"localTag",get:function(){return this.dialogState.localTag}},{key:"remoteTag",get:function(){return this.dialogState.remoteTag}},{key:"localSequenceNumber",get:function(){return this.dialogState.localSequenceNumber}},{key:"remoteSequenceNumber",get:function(){return this.dialogState.remoteSequenceNumber}},{key:"localURI",get:function(){return this.dialogState.localURI}},{key:"remoteURI",get:function(){return this.dialogState.remoteURI}},{key:"remoteTarget",get:function(){return this.dialogState.remoteTarget}},{key:"routeSet",get:function(){return this.dialogState.routeSet}},{key:"secure",get:function(){return this.dialogState.secure}},{key:"userAgentCore",get:function(){return this.core}},{key:"confirm",value:function(){this.dialogState.early=!1}},{key:"receiveRequest",value:function(e){if(e.method!==i.C.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}}},{key:"recomputeRouteSet",value:function(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()}},{key:"createOutgoingRequestMessage",value:function(e,t){var n,r=this.remoteURI,i=this.remoteTag,o=this.localURI,a=this.localTag,s=this.callId;n=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;var c=this.remoteTarget,l=this.routeSet,u=t&&t.extraHeaders,d=t&&t.body;return this.userAgentCore.makeOutgoingRequestMessage(e,c,o,r,{callId:s,cseq:n,fromTag:a,toTag:i,routeSet:l},u,d)}},{key:"incrementLocalSequenceNumber",value:function(){if(!this.dialogState.localSequenceNumber)throw new Error("Local sequence number undefined.");this.dialogState.localSequenceNumber+=1}},{key:"sequenceGuard",value:function(e){return e.method===i.C.ACK||!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1)}}],[{key:"initialDialogStateForUserAgentClient",value:function(e,t){var n=t.getHeaders("record-route").reverse(),i=t.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=i.uri,a=e.cseq,s=e.callId,c=e.fromTag,l=t.toTag;if(!s)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!l)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");var u=e.from.uri,d=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:s+c+l,early:t.statusCode<200,callId:s,localTag:c,remoteTag:l,localSequenceNumber:a,remoteSequenceNumber:void 0,localURI:u,remoteURI:d,remoteTarget:o,routeSet:n,secure:!1}}},{key:"initialDialogStateForUserAgentServer",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,o=e.getHeaders("record-route"),a=e.parseHeader("contact");if(!a)throw new Error("Contact undefined.");if(!(a instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var s=a.uri,c=e.cseq,l=void 0,u=e.callId,d=t,f=e.fromTag,h=e.from.uri,p=e.to.uri,g={id:u+d+f,early:n,callId:u,localTag:d,remoteTag:f,localSequenceNumber:l,remoteSequenceNumber:c,localURI:p,remoteURI:h,remoteTarget:s,routeSet:o,secure:i};return g}}]),e}()},function(e,t,n){n.r(t),n.d(t,{SessionDialog:function(){return M}});var r=n(29),i=n(25),o=n(17),a=n(18),s=n(26),u=n(27),d=n(30),v=n(36),m=n(71),y=n(68),b=n(63),S=n(73),w=n(80),k=n(74),T=n(84),C=n(76),E=n(86),R=n(77),x=n(87),I=n(78),A=n(88),P=n(75),_=n(85),D=n(79),N=n(89),M=function(e){p(n,e);var t=g(n);function n(e,r,i,o){var a;return h(this,n),(a=t.call(this,r,i)).initialTransaction=e,a._signalingState=d.SignalingState.Initial,a.ackWait=!1,a.ackProcessing=!1,a.delegate=o,e instanceof m.InviteServerTransaction&&(a.ackWait=!0),a.early||a.start2xxRetransmissionTimer(),a.signalingStateTransition(e.request),a.logger=r.loggerFactory.getLogger("sip.invite-dialog"),a.logger.log("INVITE dialog ".concat(a.id," constructed")),a}return f(n,[{key:"dispose",value:function(){c(l(n.prototype),"dispose",this).call(this),this._signalingState=d.SignalingState.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log("INVITE dialog ".concat(this.id," destroyed"))}},{key:"sessionState",get:function(){return this.early?d.SessionState.Early:this.ackWait?d.SessionState.AckWait:this._signalingState===d.SignalingState.Closed?d.SessionState.Terminated:d.SessionState.Confirmed}},{key:"signalingState",get:function(){return this._signalingState}},{key:"offer",get:function(){return this._offer}},{key:"answer",get:function(){return this._answer}},{key:"confirm",value:function(){this.early&&this.start2xxRetransmissionTimer(),c(l(n.prototype),"confirm",this).call(this)}},{key:"reConfirm",value:function(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()}},{key:"ack",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logger.log("INVITE dialog ".concat(this.id," sending ACK request")),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof y.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");e=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof y.InviteClientTransaction))throw new Error("Initial transaction not instance of InviteClientTransaction.");e=this.initialTransaction}var n=this.createOutgoingRequestMessage(r.C.ACK,{cseq:e.request.cseq,extraHeaders:t.extraHeaders,body:t.body});return e.ackResponse(n),this.signalingStateTransition(n),{message:n}}},{key:"bye",value:function(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending BYE request")),this.initialTransaction instanceof m.InviteServerTransaction){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==b.TransactionState.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new S.ByeUserAgentClient(this,e,t)}},{key:"info",value:function(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending INFO request")),this.early)throw new Error("Dialog not confirmed.");return new k.InfoUserAgentClient(this,e,t)}},{key:"invite",value:function(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending INVITE request")),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new P.ReInviteUserAgentClient(this,e,t)}},{key:"message",value:function(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending MESSAGE request")),this.early)throw new Error("Dialog not confirmed.");var n=this.createOutgoingRequestMessage(r.C.MESSAGE,t);return new C.MessageUserAgentClient(this.core,n,e)}},{key:"notify",value:function(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending NOTIFY request")),this.early)throw new Error("Dialog not confirmed.");return new R.NotifyUserAgentClient(this,e,t)}},{key:"prack",value:function(e,t){return this.logger.log("INVITE dialog ".concat(this.id," sending PRACK request")),new I.PrackUserAgentClient(this,e,t)}},{key:"refer",value:function(e,t){if(this.logger.log("INVITE dialog ".concat(this.id," sending REFER request")),this.early)throw new Error("Dialog not confirmed.");return new D.ReferUserAgentClient(this,e,t)}},{key:"receiveRequest",value:function(e){var t=this;if(this.logger.log("INVITE dialog ".concat(this.id," received ").concat(e.method," request")),e.method!==r.C.ACK)if(this.sequenceGuard(e)){if(c(l(n.prototype),"receiveRequest",this).call(this,e),e.method===r.C.INVITE){var o=function(){var e=t.ackWait?"waiting for initial ACK":"processing initial ACK";t.logger.warn("INVITE dialog ".concat(t.id," received re-INVITE while ").concat(e)),t.logger.warn("RFC 5407 suggests the following to avoid this race condition...  Note: Implementation issues are outside the scope of this document, but the following tip is provided for avoiding race conditions of this type.  The caller can delay sending re-INVITE F6 for some period of time (2 seconds, perhaps), after which the caller can reasonably assume that its ACK has been received.  Implementors can decouple the actions of the user (e.g., pressing the hold button) from the actions of the protocol (the sending of re-INVITE F6), so that the UA can behave like this.  In this case, it is the implementor's choice as to how long to wait.  In most cases, such an implementation may be useful to prevent the type of race condition shown in this section. This document expresses no preference about whether or not they should wait for an ACK to be delivered.  After considering the impact on user experience, implementors should decide whether or not to wait for a while, because the user experience depends on the implementation and has no direct bearing on protocol behavior.")},a=Math.floor(10*Math.random())+1,s=["Retry-After: ".concat(a)];if(this.ackProcessing)return this.core.replyStateless(e,{statusCode:500,extraHeaders:s}),void o();if(this.ackWait&&this.signalingState!==d.SignalingState.Stable)return this.core.replyStateless(e,{statusCode:500,extraHeaders:s}),void o();if(this.reinviteUserAgentServer)return void this.core.replyStateless(e,{statusCode:500,extraHeaders:s});if(this.reinviteUserAgentClient)return void this.core.replyStateless(e,{statusCode:491})}if(e.method===r.C.INVITE){var u=e.parseHeader("contact");if(!u)throw new Error("Contact undefined.");if(!(u instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=u.uri}switch(e.method){case r.C.BYE:var f=new w.ByeUserAgentServer(this,e);this.delegate&&this.delegate.onBye?this.delegate.onBye(f):f.accept(),this.dispose();break;case r.C.INFO:var h=new T.InfoUserAgentServer(this,e);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(h):h.reject({statusCode:469,extraHeaders:["Recv-Info:"]});break;case r.C.INVITE:var p=new _.ReInviteUserAgentServer(this,e);this.signalingStateTransition(e),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(p):p.reject({statusCode:488});break;case r.C.MESSAGE:var g=new E.MessageUserAgentServer(this.core,e);this.delegate&&this.delegate.onMessage?this.delegate.onMessage(g):g.accept();break;case r.C.NOTIFY:var v=new x.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(v):v.accept();break;case r.C.PRACK:var m=new A.PrackUserAgentServer(this,e);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(m):m.accept();break;case r.C.REFER:var b=new N.ReferUserAgentServer(this,e);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(b):b.reject();break;default:this.logger.log("INVITE dialog ".concat(this.id," received unimplemented ").concat(e.method," request")),this.core.replyStateless(e,{statusCode:501})}}else this.logger.log("INVITE dialog ".concat(this.id," rejected out of order ").concat(e.method," request."));else{if(this.ackWait){if(this.initialTransaction instanceof y.InviteClientTransaction)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));if(this.initialTransaction.request.cseq!==e.cseq)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));if(this.reinviteUserAgentServer.transaction.request.cseq!==e.cseq)return void this.logger.warn("INVITE dialog ".concat(this.id," received unexpected ").concat(e.method," request, dropping."));this.reinviteUserAgentServer=void 0}if(this.signalingStateTransition(e),this.delegate&&this.delegate.onAck){var S=this.delegate.onAck({message:e});S instanceof Promise&&(this.ackProcessing=!0,S.then((function(){return t.ackProcessing=!1})).catch((function(){return t.ackProcessing=!1})))}}}},{key:"reliableSequenceGuard",value:function(e){var t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){var n=e.getHeader("require"),r=e.getHeader("rseq"),i=n&&n.includes("100rel")&&r?Number(r):void 0;if(i){if(this.rseq&&this.rseq+1!==i)return!1;this.rseq=this.rseq?this.rseq+1:i}}return!0}},{key:"signalingStateRollback",value:function(){this._signalingState!==d.SignalingState.HaveLocalOffer&&this.signalingState!==d.SignalingState.HaveRemoteOffer||this._rollbackOffer&&this._rollbackAnswer&&(this._signalingState=d.SignalingState.Stable,this._offer=this._rollbackOffer,this._answer=this._rollbackAnswer)}},{key:"signalingStateTransition",value:function(e){var t=(0,o.getBody)(e);if(t&&"session"===t.contentDisposition){if(this._signalingState===d.SignalingState.Stable&&(this._rollbackOffer=this._offer,this._rollbackAnswer=this._answer),e instanceof a.IncomingRequestMessage)switch(this._signalingState){case d.SignalingState.Initial:case d.SignalingState.Stable:this._signalingState=d.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case d.SignalingState.HaveLocalOffer:this._signalingState=d.SignalingState.Stable,this._answer=t;break;case d.SignalingState.HaveRemoteOffer:case d.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof s.IncomingResponseMessage)switch(this._signalingState){case d.SignalingState.Initial:case d.SignalingState.Stable:this._signalingState=d.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case d.SignalingState.HaveLocalOffer:this._signalingState=d.SignalingState.Stable,this._answer=t;break;case d.SignalingState.HaveRemoteOffer:case d.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof u.OutgoingRequestMessage)switch(this._signalingState){case d.SignalingState.Initial:case d.SignalingState.Stable:this._signalingState=d.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case d.SignalingState.HaveLocalOffer:break;case d.SignalingState.HaveRemoteOffer:this._signalingState=d.SignalingState.Stable,this._answer=t;break;case d.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if((0,o.isBody)(e))switch(this._signalingState){case d.SignalingState.Initial:case d.SignalingState.Stable:this._signalingState=d.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case d.SignalingState.HaveLocalOffer:break;case d.SignalingState.HaveRemoteOffer:this._signalingState=d.SignalingState.Stable,this._answer=t;break;case d.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}}}},{key:"start2xxRetransmissionTimer",value:function(){var e=this;if(this.initialTransaction instanceof m.InviteServerTransaction){var t=this.initialTransaction,n=v.Timers.T1;this.invite2xxTimer=setTimeout((function r(){e.ackWait?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),n=Math.min(2*n,v.Timers.T2),e.invite2xxTimer=setTimeout(r,n)):e.invite2xxTimer=void 0}),n),t.addStateChangeListener((function n(){t.state===b.TransactionState.Terminated&&(t.removeStateChangeListener(n),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.ackWait&&(e.delegate&&e.delegate.onAckTimeout?e.delegate.onAckTimeout():e.bye()))}))}}},{key:"startReInvite2xxRetransmissionTimer",value:function(){var e=this;if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof m.InviteServerTransaction){var t=this.reinviteUserAgentServer.transaction,n=v.Timers.T1;this.invite2xxTimer=setTimeout((function r(){e.reinviteUserAgentServer?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),n=Math.min(2*n,v.Timers.T2),e.invite2xxTimer=setTimeout(r,n)):e.invite2xxTimer=void 0}),n),t.addStateChangeListener((function n(){t.state===b.TransactionState.Terminated&&(t.removeStateChangeListener(n),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.reinviteUserAgentServer)}))}}}]),n}(n(69).Dialog)},function(e,t,n){n.r(t),n.d(t,{InviteServerTransaction:function(){return s}});var r=n(29),i=n(36),o=n(72),a=n(63),s=function(e){p(n,e);var t=g(n);function n(e,r,i){return h(this,n),t.call(this,e,r,i,a.TransactionState.Proceeding,"sip.transaction.ist")}return f(n,[{key:"dispose",value:function(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),c(l(n.prototype),"dispose",this).call(this)}},{key:"kind",get:function(){return"ist"}},{key:"receiveRequest",value:function(e){var t=this;switch(this.state){case a.TransactionState.Proceeding:if(e.method===r.C.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")})));break;case a.TransactionState.Accepted:if(e.method===r.C.INVITE)return;break;case a.TransactionState.Completed:if(e.method===r.C.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}))}if(e.method===r.C.ACK)return void this.stateTransition(a.TransactionState.Confirmed);break;case a.TransactionState.Confirmed:case a.TransactionState.Terminated:if(e.method===r.C.INVITE||e.method===r.C.ACK)return;break;default:throw new Error("Invalid state ".concat(this.state))}var n="INVITE server transaction received unexpected ".concat(e.method," request while in state ").concat(this.state,".");this.logger.warn(n)}},{key:"receiveResponse",value:function(e,t){var n=this;if(e<100||e>699)throw new Error("Invalid status code ".concat(e));switch(this.state){case a.TransactionState.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send 1xx response.")}));if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Accepted),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send 2xx response.")}));if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Completed),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send non-2xx final response.")}));break;case a.TransactionState.Accepted:if(e>=200&&e<=299)return void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send 2xx response.")}));break;case a.TransactionState.Completed:case a.TransactionState.Confirmed:case a.TransactionState.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}var r="INVITE server transaction received unexpected ".concat(e," response from TU while in state ").concat(this.state,".");throw this.logger.error(r),new Error(r)}},{key:"retransmitAcceptedResponse",value:function(){var e=this;this.state===a.TransactionState.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch((function(t){e.logTransportError(t,"Failed to send 2xx response.")}))}},{key:"onTransportError",value:function(e){this.user.onTransportError&&this.user.onTransportError(e)}},{key:"typeToString",value:function(){return"INVITE server transaction"}},{key:"stateTransition",value:function(e){var t=this,n=function(){throw new Error("Invalid state transition from ".concat(t.state," to ").concat(e))};switch(e){case a.TransactionState.Proceeding:n();break;case a.TransactionState.Accepted:case a.TransactionState.Completed:this.state!==a.TransactionState.Proceeding&&n();break;case a.TransactionState.Confirmed:this.state!==a.TransactionState.Completed&&n();break;case a.TransactionState.Terminated:this.state!==a.TransactionState.Accepted&&this.state!==a.TransactionState.Completed&&this.state!==a.TransactionState.Confirmed&&n();break;default:n()}this.stopProgressExtensionTimer(),e===a.TransactionState.Accepted&&(this.L=setTimeout((function(){return t.timerL()}),i.Timers.TIMER_L)),e===a.TransactionState.Completed&&(this.H=setTimeout((function(){return t.timerH()}),i.Timers.TIMER_H)),e===a.TransactionState.Confirmed&&(this.I=setTimeout((function(){return t.timerI()}),i.Timers.TIMER_I)),e===a.TransactionState.Terminated&&this.dispose(),this.setState(e)}},{key:"startProgressExtensionTimer",value:function(){var e=this;void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval((function(){if(e.logger.debug("Progress extension timer expired for INVITE server transaction ".concat(e.id,".")),!e.lastProvisionalResponse)throw new Error("Last provisional response undefined.");e.send(e.lastProvisionalResponse).catch((function(t){e.logTransportError(t,"Failed to send retransmission of provisional response.")}))}),i.Timers.PROVISIONAL_RESPONSE_INTERVAL))}},{key:"stopProgressExtensionTimer",value:function(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)}},{key:"timerG",value:function(){}},{key:"timerH",value:function(){this.logger.debug("Timer H expired for INVITE server transaction ".concat(this.id,".")),this.state===a.TransactionState.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(a.TransactionState.Terminated))}},{key:"timerI",value:function(){this.logger.debug("Timer I expired for INVITE server transaction ".concat(this.id,".")),this.stateTransition(a.TransactionState.Terminated)}},{key:"timerL",value:function(){this.logger.debug("Timer L expired for INVITE server transaction ".concat(this.id,".")),this.state===a.TransactionState.Accepted&&this.stateTransition(a.TransactionState.Terminated)}}]),n}(o.ServerTransaction)},function(e,t,n){n.r(t),n.d(t,{ServerTransaction:function(){return r}});var r=function(e){p(n,e);var t=g(n);function n(e,r,i,o,a){var s;return h(this,n),(s=t.call(this,r,i,e.viaBranch,o,a))._request=e,s.user=i,s}return f(n,[{key:"request",get:function(){return this._request}}]),n}(n(66).Transaction)},function(e,t,n){n.r(t),n.d(t,{ByeUserAgentClient:function(){return o}});var r=n(29),i=n(64),o=function(e){p(n,e);var t=g(n);function n(e,o,a){var s;h(this,n);var c=e.createOutgoingRequestMessage(r.C.BYE,a);return s=t.call(this,i.NonInviteClientTransaction,e.userAgentCore,c,o),e.dispose(),s}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{InfoUserAgentClient:function(){return o}});var r=n(29),i=n(64),o=function(e){p(n,e);var t=g(n);function n(e,o,a){h(this,n);var s=e.createOutgoingRequestMessage(r.C.INFO,a);return t.call(this,i.NonInviteClientTransaction,e.userAgentCore,s,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{ReInviteUserAgentClient:function(){return o}});var r=n(29),i=n(68),o=function(e){p(n,e);var t=g(n);function n(e,o,a){var s;h(this,n);var c=e.createOutgoingRequestMessage(r.C.INVITE,a);return(s=t.call(this,i.InviteClientTransaction,e.userAgentCore,c,o)).delegate=o,e.signalingStateTransition(c),e.reinviteUserAgentClient=u(s),s.dialog=e,s}return f(n,[{key:"receiveResponse",value:function(e){var t=this;if(this.authenticationGuard(e,this.dialog)){var n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(n):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:function(e){throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(n):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:function(e){return t.dialog.ack(e)}});break;case/^3[0-9]{2}$/.test(n):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(n):this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentClient=void 0,this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code ".concat(n))}}}}]),n}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{MessageUserAgentClient:function(){return i}});var r=n(64),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteClientTransaction,e,i,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{NotifyUserAgentClient:function(){return o}});var r=n(29),i=n(64),o=function(e){p(n,e);var t=g(n);function n(e,o,a){h(this,n);var s=e.createOutgoingRequestMessage(r.C.NOTIFY,a);return t.call(this,i.NonInviteClientTransaction,e.userAgentCore,s,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{PrackUserAgentClient:function(){return o}});var r=n(29),i=n(64),o=function(e){p(n,e);var t=g(n);function n(e,o,a){var s;h(this,n);var c=e.createOutgoingRequestMessage(r.C.PRACK,a);return s=t.call(this,i.NonInviteClientTransaction,e.userAgentCore,c,o),e.signalingStateTransition(c),s}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{ReferUserAgentClient:function(){return o}});var r=n(29),i=n(64),o=function(e){p(n,e);var t=g(n);function n(e,o,a){h(this,n);var s=e.createOutgoingRequestMessage(r.C.REFER,a);return t.call(this,i.NonInviteClientTransaction,e.userAgentCore,s,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{ByeUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteServerTransaction,e.userAgentCore,i,o)}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{UserAgentServer:function(){return l}});var r=n(35),i=n(83),o=n(20),a=n(71),s=n(63),c=n(82),l=function(){function e(t,n,r,i){h(this,e),this.transactionConstructor=t,this.core=n,this.message=r,this.delegate=i,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=r.toTag?r.toTag:(0,o.newTag)(),this.init()}return f(e,[{key:"dispose",value:function(){this.transaction.dispose()}},{key:"loggerFactory",get:function(){return this.core.loggerFactory}},{key:"transaction",get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};if(!this.acceptable)throw new r.TransactionStateError("".concat(this.message.method," not acceptable in state ").concat(this.transaction.state,"."));var t=e.statusCode;if(t<200||t>299)throw new TypeError("Invalid statusCode: ".concat(t));var n=this.reply(e);return n}},{key:"progress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:180};if(!this.progressable)throw new r.TransactionStateError("".concat(this.message.method," not progressable in state ").concat(this.transaction.state,"."));var t=e.statusCode;if(t<101||t>199)throw new TypeError("Invalid statusCode: ".concat(t));var n=this.reply(e);return n}},{key:"redirect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{statusCode:302};if(!this.redirectable)throw new r.TransactionStateError("".concat(this.message.method," not redirectable in state ").concat(this.transaction.state,"."));var n=t.statusCode;if(n<300||n>399)throw new TypeError("Invalid statusCode: ".concat(n));var i=new Array;e.forEach((function(e){return i.push("Contact: ".concat(e.toString()))})),t.extraHeaders=(t.extraHeaders||[]).concat(i);var o=this.reply(t);return o}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:480};if(!this.rejectable)throw new r.TransactionStateError("".concat(this.message.method," not rejectable in state ").concat(this.transaction.state,"."));var t=e.statusCode;if(t<400||t>699)throw new TypeError("Invalid statusCode: ".concat(t));var n=this.reply(e);return n}},{key:"trying",value:function(e){if(!this.tryingable)throw new r.TransactionStateError("".concat(this.message.method," not tryingable in state ").concat(this.transaction.state,"."));return this.reply({statusCode:100})}},{key:"receiveCancel",value:function(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)}},{key:"acceptable",get:function(){if(this.transaction instanceof a.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding||this.transaction.state===s.TransactionState.Accepted;if(this.transaction instanceof c.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying||this.transaction.state===s.TransactionState.Proceeding;throw new Error("Unknown transaction type.")}},{key:"progressable",get:function(){if(this.transaction instanceof a.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof c.NonInviteServerTransaction)return!1;throw new Error("Unknown transaction type.")}},{key:"redirectable",get:function(){if(this.transaction instanceof a.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof c.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying||this.transaction.state===s.TransactionState.Proceeding;throw new Error("Unknown transaction type.")}},{key:"rejectable",get:function(){if(this.transaction instanceof a.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof c.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying||this.transaction.state===s.TransactionState.Proceeding;throw new Error("Unknown transaction type.")}},{key:"tryingable",get:function(){if(this.transaction instanceof a.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof c.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying;throw new Error("Unknown transaction type.")}},{key:"reply",value:function(e){e.toTag||100===e.statusCode||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;var t=(0,i.constructOutgoingResponse)(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t}},{key:"init",value:function(){var e=this,t={loggerFactory:this.loggerFactory,onStateChange:function(t){t===s.TransactionState.Terminated&&(e.core.userAgentServers.delete(r),e.dispose())},onTransportError:function(t){e.logger.error(t.message),e.delegate&&e.delegate.onTransportError?e.delegate.onTransportError(t):e.logger.error("User agent server response transport error.")}},n=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=n;var r=n.id;this.core.userAgentServers.set(n.id,this)}}]),e}()},function(e,t,n){n.r(t),n.d(t,{NonInviteServerTransaction:function(){return a}});var r=n(36),i=n(72),o=n(63),a=function(e){p(n,e);var t=g(n);function n(e,r,i){return h(this,n),t.call(this,e,r,i,o.TransactionState.Trying,"sip.transaction.nist")}return f(n,[{key:"dispose",value:function(){this.J&&(clearTimeout(this.J),this.J=void 0),c(l(n.prototype),"dispose",this).call(this)}},{key:"kind",get:function(){return"nist"}},{key:"receiveRequest",value:function(e){var t=this;switch(this.state){case o.TransactionState.Trying:break;case o.TransactionState.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case o.TransactionState.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}));break;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}}},{key:"receiveResponse",value:function(e,t){var n=this;if(e<100||e>699)throw new Error("Invalid status code ".concat(e));if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case o.TransactionState.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(o.TransactionState.Proceeding),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send provisional response.")}));if(e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send final response.")}));break;case o.TransactionState.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(o.TransactionState.Completed),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send final response.")}));break;case o.TransactionState.Completed:return;case o.TransactionState.Terminated:break;default:throw new Error("Invalid state ".concat(this.state))}var r="Non-INVITE server transaction received unexpected ".concat(e," response from TU while in state ").concat(this.state,".");throw this.logger.error(r),new Error(r)}},{key:"onTransportError",value:function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(o.TransactionState.Terminated,!0)}},{key:"typeToString",value:function(){return"non-INVITE server transaction"}},{key:"stateTransition",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(){throw new Error("Invalid state transition from ".concat(t.state," to ").concat(e))};switch(e){case o.TransactionState.Trying:i();break;case o.TransactionState.Proceeding:this.state!==o.TransactionState.Trying&&i();break;case o.TransactionState.Completed:this.state!==o.TransactionState.Trying&&this.state!==o.TransactionState.Proceeding&&i();break;case o.TransactionState.Terminated:this.state!==o.TransactionState.Proceeding&&this.state!==o.TransactionState.Completed&&(n||i());break;default:i()}e===o.TransactionState.Completed&&(this.J=setTimeout((function(){return t.timerJ()}),r.Timers.TIMER_J)),e===o.TransactionState.Terminated&&this.dispose(),this.setState(e)}},{key:"timerJ",value:function(){this.logger.debug("Timer J expired for NON-INVITE server transaction ".concat(this.id,".")),this.state===o.TransactionState.Completed&&this.stateTransition(o.TransactionState.Terminated)}}]),n}(i.ServerTransaction)},function(e,t,n){n.r(t),n.d(t,{constructOutgoingResponse:function(){return i}});var r=n(20);function i(e,t){var n="\r\n";if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);var i=t.reasonPhrase?t.reasonPhrase:(0,r.getReasonPhrase)(t.statusCode),o="SIP/2.0 "+t.statusCode+" "+i+n;t.statusCode>=100&&t.statusCode,t.statusCode;var a="From: "+e.getHeader("From")+n,s="Call-ID: "+e.callId+n,c="CSeq: "+e.cseq+" "+e.method+n,l=e.getHeaders("via").reduce((function(e,t){return e+"Via: "+t+n}),""),u="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){var d=t.toTag;d||(d=(0,r.newTag)()),u+=";tag="+d}u+=n;var f="";t.supported&&(f="Supported: "+t.supported.join(", ")+n);var h="";t.userAgent&&(h="User-Agent: "+t.userAgent+n);var p="";return t.extraHeaders&&(p=t.extraHeaders.reduce((function(e,t){return e+t.trim()+n}),"")),o+=l,o+=a,o+=u,o+=c,o+=s,o+=f,o+=h,o+=p,t.body?(o+="Content-Type: "+t.body.contentType+n,o+="Content-Length: "+(0,r.utf8Length)(t.body.content)+n+n,o+=t.body.content):o+="Content-Length: 0\r\n\r\n",{message:o}}},function(e,t,n){n.r(t),n.d(t,{InfoUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteServerTransaction,e.userAgentCore,i,o)}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{ReInviteUserAgentServer:function(){return i}});var r=n(71),i=function(e){p(n,e);var t=g(n);function n(e,i,o){var a;return h(this,n),a=t.call(this,r.InviteServerTransaction,e.userAgentCore,i,o),e.reinviteUserAgentServer=u(a),a.dialog=e,a}return f(n,[{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(this.dialog.routeSet.map((function(e){return"Record-Route: ".concat(e)})));var t=c(l(n.prototype),"accept",this).call(this,e),r=this.dialog,i=Object.assign(Object.assign({},t),{session:r});return e.body&&this.dialog.signalingStateTransition(e.body),this.dialog.reConfirm(),i}},{key:"progress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:180},t=c(l(n.prototype),"progress",this).call(this,e),r=this.dialog,i=Object.assign(Object.assign({},t),{session:r});return e.body&&this.dialog.signalingStateTransition(e.body),i}},{key:"redirect",value:function(e){throw this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,new Error("Unimplemented.")}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:488};return this.dialog.signalingStateRollback(),this.dialog.reinviteUserAgentServer=void 0,c(l(n.prototype),"reject",this).call(this,e)}}]),n}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{MessageUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteServerTransaction,e,i,o)}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{NotifyUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){h(this,n);var a=void 0!==e.userAgentCore?e.userAgentCore:e;return t.call(this,r.NonInviteServerTransaction,a,i,o)}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{PrackUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){var a;return h(this,n),a=t.call(this,r.NonInviteServerTransaction,e.userAgentCore,i,o),e.signalingStateTransition(i),a.dialog=e,a}return f(n,[{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};return e.body&&this.dialog.signalingStateTransition(e.body),c(l(n.prototype),"accept",this).call(this,e)}}]),n}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{ReferUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){h(this,n);var a=void 0!==e.userAgentCore?e.userAgentCore:e;return t.call(this,r.NonInviteServerTransaction,a,i,o)}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{PublishUserAgentClient:function(){return i}});var r=n(64),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteClientTransaction,e,i,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{RegisterUserAgentClient:function(){return i}});var r=n(64),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteClientTransaction,e,i,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{SubscribeUserAgentClient:function(){return s}});var r=n(93),i=n(46),o=n(36),a=n(64),s=function(e){p(n,e);var t=g(n);function n(e,r,o){var s;h(this,n);var c=r.getHeader("Event");if(!c)throw new Error("Event undefined");var l=r.getHeader("Expires");if(!l)throw new Error("Expires undefined");return(s=t.call(this,a.NonInviteClientTransaction,e,r,o)).delegate=o,s.subscriberId=r.callId+r.fromTag+c,s.subscriptionExpiresRequested=s.subscriptionExpires=Number(l),s.subscriptionEvent=c,s.subscriptionState=i.SubscriptionState.NotifyWait,s.waitNotifyStart(),s}return f(n,[{key:"dispose",value:function(){c(l(n.prototype),"dispose",this).call(this)}},{key:"onNotify",value:function(e){var t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});var n=e.message.parseHeader("Subscription-State");if(!n||!n.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});var o=n.state;switch(o){case"pending":case"active":case"terminated":break;default:return this.logger.warn("Invalid subscription state ".concat(o)),void e.reject({statusCode:489})}if("terminated"!==o&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=n.expires?Math.min(this.subscriptionExpires,Math.max(n.expires,0)):this.subscriptionExpires,o){case"pending":this.subscriptionState=i.SubscriptionState.Pending;break;case"active":this.subscriptionState=i.SubscriptionState.Active;break;case"terminated":this.subscriptionState=i.SubscriptionState.Terminated;break;default:throw new Error("Unrecognized state ".concat(o,"."))}if(this.subscriptionState!==i.SubscriptionState.Terminated){var a=r.SubscriptionDialog.initialDialogStateForSubscription(this.message,e.message);this.dialog=new r.SubscriptionDialog(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,a)}if(this.delegate&&this.delegate.onNotify){var s=e,c=this.dialog;this.delegate.onNotify({request:s,subscription:c})}else e.accept()}},{key:"waitNotifyStart",value:function(){var e=this;this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout((function(){return e.timerN()}),o.Timers.TIMER_N))}},{key:"waitNotifyStop",value:function(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)}},{key:"receiveResponse",value:function(e){if(this.authenticationGuard(e)){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){var t=e.getHeader("Expires");if(t){var r=Number(t);r>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),r<this.subscriptionExpires&&(this.subscriptionExpires=r)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}e.statusCode&&e.statusCode>=300&&e.statusCode<700&&this.waitNotifyStop(),c(l(n.prototype),"receiveResponse",this).call(this,e)}}},{key:"timerN",value:function(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()}}]),n}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{SubscriptionDialog:function(){return v}});var r=n(25),i=n(29),o=n(46),a=n(36),s=n(28),u=n(87),d=n(94),v=function(e){p(n,e);var t=g(n);function n(e,r,i,o,a,s){var c;return h(this,n),(c=t.call(this,o,a)).delegate=s,c._autoRefresh=!1,c._subscriptionEvent=e,c._subscriptionExpires=r,c._subscriptionExpiresInitial=r,c._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),c._subscriptionRefresh=void 0,c._subscriptionRefreshLastSet=void 0,c._subscriptionState=i,c.logger=o.loggerFactory.getLogger("sip.subscribe-dialog"),c.logger.log("SUBSCRIBE dialog ".concat(c.id," constructed")),c}return f(n,[{key:"dispose",value:function(){c(l(n.prototype),"dispose",this).call(this),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log("SUBSCRIBE dialog ".concat(this.id," destroyed"))}},{key:"autoRefresh",get:function(){return this._autoRefresh},set:function(e){this._autoRefresh=!0,this.refreshTimerSet()}},{key:"subscriptionEvent",get:function(){return this._subscriptionEvent}},{key:"subscriptionExpires",get:function(){var e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,t=this._subscriptionExpires-e;return Math.max(t,0)},set:function(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){var t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}}},{key:"subscriptionExpiresInitial",get:function(){return this._subscriptionExpiresInitial}},{key:"subscriptionRefresh",get:function(){if(void 0!==this._subscriptionRefresh&&void 0!==this._subscriptionRefreshLastSet){var e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,t=this._subscriptionRefresh-e;return Math.max(t,0)}}},{key:"subscriptionState",get:function(){return this._subscriptionState}},{key:"receiveRequest",value:function(e){this.logger.log("SUBSCRIBE dialog ".concat(this.id," received ").concat(e.method," request")),this.sequenceGuard(e)?(c(l(n.prototype),"receiveRequest",this).call(this,e),e.method===i.C.NOTIFY?this.onNotify(e):(this.logger.log("SUBSCRIBE dialog ".concat(this.id," received unimplemented ").concat(e.method," request")),this.core.replyStateless(e,{statusCode:501}))):this.logger.log("SUBSCRIBE dialog ".concat(this.id," rejected out of order ").concat(e.method," request."))}},{key:"refresh",value:function(){var e="Allow: "+s.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)}},{key:"subscribe",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.subscriptionState!==o.SubscriptionState.Pending&&this.subscriptionState!==o.SubscriptionState.Active)throw new Error("Invalid state ".concat(this.subscriptionState,'. May only re-subscribe while in state "pending" or "active".'));this.logger.log("SUBSCRIBE dialog ".concat(this.id," sending SUBSCRIBE request"));var r=new d.ReSubscribeUserAgentClient(this,e,n);return this.N&&(clearTimeout(this.N),this.N=void 0),this.N=setTimeout((function(){return t.timerN()}),a.Timers.TIMER_N),r}},{key:"terminate",value:function(){this.stateTransition(o.SubscriptionState.Terminated),this.onTerminated()}},{key:"unsubscribe",value:function(){var e="Allow: "+s.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)}},{key:"onNotify",value:function(e){var t=e.parseHeader("Event").event;if(t&&t===this.subscriptionEvent){this.N&&(clearTimeout(this.N),this.N=void 0);var n=e.parseHeader("Subscription-State");if(n&&n.state){var r=n.state,i=n.expires?Math.max(n.expires,0):void 0;switch(r){case"pending":this.stateTransition(o.SubscriptionState.Pending,i);break;case"active":this.stateTransition(o.SubscriptionState.Active,i);break;case"terminated":this.stateTransition(o.SubscriptionState.Terminated,i);break;default:this.logger.warn("Unrecognized subscription state.")}var a=new u.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(a):a.accept()}else this.core.replyStateless(e,{statusCode:489})}else this.core.replyStateless(e,{statusCode:489})}},{key:"onRefresh",value:function(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)}},{key:"onTerminated",value:function(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()}},{key:"refreshTimerClear",value:function(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)}},{key:"refreshTimerSet",value:function(){var e=this;if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){var t=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(t/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout((function(){e.refreshTimer=void 0,e._subscriptionRefresh=void 0,e._subscriptionRefreshLastSet=void 0,e.onRefresh(e.refresh())}),t)}}},{key:"stateTransition",value:function(e,t){var n=this,r=function(){n.logger.warn("Invalid subscription state transition from ".concat(n.subscriptionState," to ").concat(e))};switch(e){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:return void r();case o.SubscriptionState.Pending:if(this.subscriptionState!==o.SubscriptionState.NotifyWait&&this.subscriptionState!==o.SubscriptionState.Pending)return void r();break;case o.SubscriptionState.Active:case o.SubscriptionState.Terminated:if(this.subscriptionState!==o.SubscriptionState.NotifyWait&&this.subscriptionState!==o.SubscriptionState.Pending&&this.subscriptionState!==o.SubscriptionState.Active)return void r();break;default:return void r()}e===o.SubscriptionState.Pending&&t&&(this.subscriptionExpires=t),e===o.SubscriptionState.Active&&t&&(this.subscriptionExpires=t),e===o.SubscriptionState.Terminated&&this.dispose(),this._subscriptionState=e}},{key:"timerN",value:function(){this.logger.warn("Timer N expired for SUBSCRIBE dialog. Timed out waiting for NOTIFY."),this.subscriptionState!==o.SubscriptionState.Terminated&&(this.stateTransition(o.SubscriptionState.Terminated),this.onTerminated())}}],[{key:"initialDialogStateForSubscription",value:function(e,t){var n=t.getHeaders("record-route"),i=t.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=i.uri,a=e.cseq,s=e.callId,c=e.fromTag,l=t.fromTag;if(!s)throw new Error("Call id undefined.");if(!c)throw new Error("From tag undefined.");if(!l)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:s+c+l,early:!1,callId:s,localTag:c,remoteTag:l,localSequenceNumber:a,remoteSequenceNumber:void 0,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:o,routeSet:n,secure:!1}}}]),n}(n(69).Dialog)},function(e,t,n){n.r(t),n.d(t,{ReSubscribeUserAgentClient:function(){return o}});var r=n(29),i=n(64),o=function(e){p(n,e);var t=g(n);function n(e,o,a){var s;h(this,n);var c=e.createOutgoingRequestMessage(r.C.SUBSCRIBE,a);return(s=t.call(this,i.NonInviteClientTransaction,e.userAgentCore,c,o)).dialog=e,s}return f(n,[{key:"waitNotifyStop",value:function(){}},{key:"receiveResponse",value:function(e){if(e.statusCode&&e.statusCode>=200&&e.statusCode<300){var t=e.getHeader("Expires");if(t){var r=Number(t);this.dialog.subscriptionExpires>r&&(this.dialog.subscriptionExpires=r)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}e.statusCode&&e.statusCode>=400&&e.statusCode<700&&[404,405,410,416,480,481,482,483,484,485,489,501,604].includes(e.statusCode)&&this.dialog.terminate(),c(l(n.prototype),"receiveResponse",this).call(this,e)}}]),n}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{InviteUserAgentServer:function(){return d}});var r=n(69),i=n(70),o=n(35),a=n(30),s=n(71),u=n(28),d=function(e){p(n,e);var t=g(n);function n(e,r,i){var o;return h(this,n),(o=t.call(this,s.InviteServerTransaction,e,r,i)).core=e,o}return f(n,[{key:"dispose",value:function(){this.earlyDialog&&this.earlyDialog.dispose(),c(l(n.prototype),"dispose",this).call(this)}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:200};if(!this.acceptable)throw new o.TransactionStateError("".concat(this.message.method," not acceptable in state ").concat(this.transaction.state,"."));if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{var t=this.transaction;if(!(t instanceof s.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var d=r.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new i.SessionDialog(t,this.core,d)}var f=this.message.getHeaders("record-route").map((function(e){return"Record-Route: ".concat(e)})),h="Contact: ".concat(this.core.configuration.contact.toString()),p="Allow: "+u.AllowedMethods.toString();if(!e.body)if(this.confirmedDialog.signalingState===a.SignalingState.Stable)e.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===a.SignalingState.Initial||this.confirmedDialog.signalingState===a.SignalingState.HaveRemoteOffer)throw new Error("Response must have a body.");e.statusCode=e.statusCode||200,e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(f),e.extraHeaders.push(p),e.extraHeaders.push(h);var g=c(l(n.prototype),"accept",this).call(this,e),v=this.confirmedDialog,m=Object.assign(Object.assign({},g),{session:v});return e.body&&this.confirmedDialog.signalingState!==a.SignalingState.Stable&&this.confirmedDialog.signalingStateTransition(e.body),m}},{key:"progress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:180};if(!this.progressable)throw new o.TransactionStateError("".concat(this.message.method," not progressable in state ").concat(this.transaction.state,"."));if(!this.earlyDialog){var t=this.transaction;if(!(t instanceof s.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var u=r.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new i.SessionDialog(t,this.core,u)}var d=this.message.getHeaders("record-route").map((function(e){return"Record-Route: ".concat(e)})),f="Contact: ".concat(this.core.configuration.contact);e.extraHeaders=e.extraHeaders||[],e.extraHeaders=e.extraHeaders.concat(d),e.extraHeaders.push(f);var h=c(l(n.prototype),"progress",this).call(this,e),p=this.earlyDialog,g=Object.assign(Object.assign({},h),{session:p});return e.body&&this.earlyDialog.signalingState!==a.SignalingState.Stable&&this.earlyDialog.signalingStateTransition(e.body),g}},{key:"redirect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{statusCode:302};return c(l(n.prototype),"redirect",this).call(this,e,t)}},{key:"reject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{statusCode:486};return c(l(n.prototype),"reject",this).call(this,e)}}]),n}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{RegisterUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){var a;return h(this,n),(a=t.call(this,r.NonInviteServerTransaction,e,i,o)).core=e,a}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{SubscribeUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){var a;return h(this,n),(a=t.call(this,r.NonInviteServerTransaction,e,i,o)).core=e,a}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{Parser:function(){return r}});var r,i=n(21),o=n(18),a=n(26);!function(e){function t(e,t){var n=t,r=0,i=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(-1===(i=e.indexOf("\r\n",n)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?n=i+2:r=i}return r}function n(e,t,n,r){var o,s=t.indexOf(":",n),c=t.substring(n,s).trim(),l=t.substring(s+1,r).trim();switch(c.toLowerCase()){case"via":case"v":e.addHeader("via",l),1===e.getHeaders("via").length?(o=e.parseHeader("Via"))&&(e.via=o,e.viaBranch=o.branch):o=0;break;case"from":case"f":e.setHeader("from",l),(o=e.parseHeader("from"))&&(e.from=o,e.fromTag=o.getParam("tag"));break;case"to":case"t":e.setHeader("to",l),(o=e.parseHeader("to"))&&(e.to=o,e.toTag=o.getParam("tag"));break;case"record-route":if(-1===(o=i.Grammar.parse(l,"Record_Route"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("record-route",l.substring(t.position,t.offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=t.parsed}));break;case"call-id":case"i":e.setHeader("call-id",l),(o=e.parseHeader("call-id"))&&(e.callId=l);break;case"contact":case"m":if(-1===(o=i.Grammar.parse(l,"Contact"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("contact",l.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed}));break;case"content-length":case"l":e.setHeader("content-length",l),o=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",l),o=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",l),(o=e.parseHeader("cseq"))&&(e.cseq=o.value),e instanceof a.IncomingResponseMessage&&(e.method=o.method);break;case"max-forwards":e.setHeader("max-forwards",l),o=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",l),o=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",l),o=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",l),(o=e.parseHeader("refer-to"))&&(e.referTo=o);break;default:e.addHeader(c.toLowerCase(),l),o=0}return void 0!==o||{error:"error parsing header '"+c+"'"}}e.getHeader=t,e.parseHeader=n,e.parseMessage=function(e,r){var s=0,c=e.indexOf("\r\n");if(-1!==c){var l,u=e.substring(0,c),d=i.Grammar.parse(u,"Request_Response");if(-1!==d){var f;for(d.status_code?((l=new a.IncomingResponseMessage).statusCode=d.status_code,l.reasonPhrase=d.reason_phrase):((l=new o.IncomingRequestMessage).method=d.method,l.ruri=d.uri),l.data=e,s=c+2;;){if(-2===(c=t(e,s))){f=s+2;break}if(-1===c)return void r.error("malformed message");var h=n(l,e,s,c);if(h&&!0!==h)return void r.error(h.error);s=c+2}return l.hasHeader("content-length")?l.body=e.substr(f,Number(l.getHeader("content-length"))):l.body=e.substring(f),l}r.warn('error parsing first line of SIP message: "'+u+'"')}else r.warn("no CRLF found, not a SIP message, discarded")}}(r||(r={}))},function(e,t,n){n.r(t),n.d(t,{Grammar:function(){return r.Grammar},NameAddrHeader:function(){return i.NameAddrHeader},Parameters:function(){return o.Parameters},URI:function(){return a.URI},equivalentURI:function(){return a.equivalentURI}});var r=n(21),i=n(25),o=n(24),a=n(23)},function(e,t,n){n.r(t),n.d(t,{Dialog:function(){return r.Dialog},SessionDialog:function(){return r.SessionDialog},SubscriptionDialog:function(){return r.SubscriptionDialog},Exception:function(){return i.Exception},TransactionStateError:function(){return i.TransactionStateError},TransportError:function(){return i.TransportError},Levels:function(){return o.Levels},Logger:function(){return o.Logger},LoggerFactory:function(){return o.LoggerFactory},C:function(){return a.C},DigestAuthentication:function(){return a.DigestAuthentication},Grammar:function(){return a.Grammar},IncomingMessage:function(){return a.IncomingMessage},IncomingRequestMessage:function(){return a.IncomingRequestMessage},IncomingResponseMessage:function(){return a.IncomingResponseMessage},NameAddrHeader:function(){return a.NameAddrHeader},OutgoingRequestMessage:function(){return a.OutgoingRequestMessage},Parameters:function(){return a.Parameters},Parser:function(){return a.Parser},URI:function(){return a.URI},constructOutgoingResponse:function(){return a.constructOutgoingResponse},equivalentURI:function(){return a.equivalentURI},fromBodyLegacy:function(){return a.fromBodyLegacy},getBody:function(){return a.getBody},isBody:function(){return a.isBody},SessionState:function(){return s.SessionState},SignalingState:function(){return s.SignalingState},SubscriptionState:function(){return c.SubscriptionState},ClientTransaction:function(){return l.ClientTransaction},InviteClientTransaction:function(){return l.InviteClientTransaction},InviteServerTransaction:function(){return l.InviteServerTransaction},NonInviteClientTransaction:function(){return l.NonInviteClientTransaction},NonInviteServerTransaction:function(){return l.NonInviteServerTransaction},ServerTransaction:function(){return l.ServerTransaction},Transaction:function(){return l.Transaction},TransactionState:function(){return l.TransactionState},UserAgentCore:function(){return u.UserAgentCore},ByeUserAgentClient:function(){return d.ByeUserAgentClient},ByeUserAgentServer:function(){return d.ByeUserAgentServer},CancelUserAgentClient:function(){return d.CancelUserAgentClient},InfoUserAgentClient:function(){return d.InfoUserAgentClient},InfoUserAgentServer:function(){return d.InfoUserAgentServer},InviteUserAgentClient:function(){return d.InviteUserAgentClient},InviteUserAgentServer:function(){return d.InviteUserAgentServer},MessageUserAgentClient:function(){return d.MessageUserAgentClient},MessageUserAgentServer:function(){return d.MessageUserAgentServer},NotifyUserAgentClient:function(){return d.NotifyUserAgentClient},NotifyUserAgentServer:function(){return d.NotifyUserAgentServer},PrackUserAgentClient:function(){return d.PrackUserAgentClient},PrackUserAgentServer:function(){return d.PrackUserAgentServer},PublishUserAgentClient:function(){return d.PublishUserAgentClient},ReInviteUserAgentClient:function(){return d.ReInviteUserAgentClient},ReInviteUserAgentServer:function(){return d.ReInviteUserAgentServer},ReSubscribeUserAgentClient:function(){return d.ReSubscribeUserAgentClient},ReSubscribeUserAgentServer:function(){return d.ReSubscribeUserAgentServer},ReferUserAgentClient:function(){return d.ReferUserAgentClient},ReferUserAgentServer:function(){return d.ReferUserAgentServer},RegisterUserAgentClient:function(){return d.RegisterUserAgentClient},RegisterUserAgentServer:function(){return d.RegisterUserAgentServer},SubscribeUserAgentClient:function(){return d.SubscribeUserAgentClient},SubscribeUserAgentServer:function(){return d.SubscribeUserAgentServer},UserAgentClient:function(){return d.UserAgentClient},UserAgentServer:function(){return d.UserAgentServer},Timers:function(){return f.Timers}});var r=n(101),i=n(102),o=n(103),a=n(104),s=n(106),c=n(107),l=n(108),u=n(109),d=n(110),f=n(36)},function(e,t,n){n.r(t),n.d(t,{Dialog:function(){return r.Dialog},SessionDialog:function(){return i.SessionDialog},SubscriptionDialog:function(){return o.SubscriptionDialog}});var r=n(69),i=n(70),o=n(93)},function(e,t,n){n.r(t),n.d(t,{Exception:function(){return r.Exception},TransactionStateError:function(){return i.TransactionStateError},TransportError:function(){return o.TransportError}});var r=n(5),i=n(35),o=n(67)},function(e,t,n){n.r(t),n.d(t,{Levels:function(){return r.Levels},LoggerFactory:function(){return i.LoggerFactory},Logger:function(){return o.Logger}});var r=n(51),i=n(50),o=n(52)},function(e,t,n){n.r(t),n.d(t,{Grammar:function(){return r.Grammar},NameAddrHeader:function(){return r.NameAddrHeader},Parameters:function(){return r.Parameters},URI:function(){return r.URI},equivalentURI:function(){return r.equivalentURI},C:function(){return i.C},fromBodyLegacy:function(){return o.fromBodyLegacy},getBody:function(){return o.getBody},isBody:function(){return o.isBody},DigestAuthentication:function(){return a.DigestAuthentication},IncomingMessage:function(){return s.IncomingMessage},IncomingRequestMessage:function(){return c.IncomingRequestMessage},IncomingResponseMessage:function(){return l.IncomingResponseMessage},OutgoingRequestMessage:function(){return u.OutgoingRequestMessage},constructOutgoingResponse:function(){return d.constructOutgoingResponse},Parser:function(){return f.Parser}});var r=n(99),i=n(105),o=n(17),a=n(58),s=n(19),c=n(18),l=n(26),u=n(27),d=n(83),f=n(98)},function(e,t,n){n.r(t),n.d(t,{C:function(){return r.C}});var r=n(29)},function(e,t,n){n.r(t),n.d(t,{SessionState:function(){return r.SessionState},SignalingState:function(){return r.SignalingState}});var r=n(30)},function(e,t,n){n.r(t),n.d(t,{SubscriptionState:function(){return r.SubscriptionState}});var r=n(46)},function(e,t,n){n.r(t),n.d(t,{ClientTransaction:function(){return r.ClientTransaction},InviteClientTransaction:function(){return i.InviteClientTransaction},InviteServerTransaction:function(){return o.InviteServerTransaction},NonInviteClientTransaction:function(){return a.NonInviteClientTransaction},NonInviteServerTransaction:function(){return s.NonInviteServerTransaction},ServerTransaction:function(){return c.ServerTransaction},TransactionState:function(){return l.TransactionState},Transaction:function(){return u.Transaction}});var r=n(65),i=n(68),o=n(71),a=n(64),s=n(82),c=n(72),l=n(63),u=n(66)},function(e,t,n){n.r(t),n.d(t,{UserAgentCore:function(){return r.UserAgentCore}});var r=n(60)},function(e,t,n){n.r(t),n.d(t,{ByeUserAgentClient:function(){return r.ByeUserAgentClient},ByeUserAgentServer:function(){return i.ByeUserAgentServer},CancelUserAgentClient:function(){return o.CancelUserAgentClient},InfoUserAgentClient:function(){return a.InfoUserAgentClient},InfoUserAgentServer:function(){return s.InfoUserAgentServer},InviteUserAgentClient:function(){return c.InviteUserAgentClient},InviteUserAgentServer:function(){return l.InviteUserAgentServer},MessageUserAgentClient:function(){return u.MessageUserAgentClient},MessageUserAgentServer:function(){return d.MessageUserAgentServer},NotifyUserAgentClient:function(){return f.NotifyUserAgentClient},NotifyUserAgentServer:function(){return h.NotifyUserAgentServer},PublishUserAgentClient:function(){return p.PublishUserAgentClient},PrackUserAgentClient:function(){return g.PrackUserAgentClient},PrackUserAgentServer:function(){return v.PrackUserAgentServer},ReInviteUserAgentClient:function(){return m.ReInviteUserAgentClient},ReInviteUserAgentServer:function(){return y.ReInviteUserAgentServer},ReSubscribeUserAgentClient:function(){return b.ReSubscribeUserAgentClient},ReSubscribeUserAgentServer:function(){return S.ReSubscribeUserAgentServer},ReferUserAgentClient:function(){return w.ReferUserAgentClient},ReferUserAgentServer:function(){return k.ReferUserAgentServer},RegisterUserAgentClient:function(){return T.RegisterUserAgentClient},RegisterUserAgentServer:function(){return C.RegisterUserAgentServer},SubscribeUserAgentClient:function(){return E.SubscribeUserAgentClient},SubscribeUserAgentServer:function(){return R.SubscribeUserAgentServer},UserAgentClient:function(){return x.UserAgentClient},UserAgentServer:function(){return I.UserAgentServer}});var r=n(73),i=n(80),o=n(111),a=n(74),s=n(84),c=n(61),l=n(95),u=n(76),d=n(86),f=n(77),h=n(87),p=n(90),g=n(78),v=n(88),m=n(75),y=n(85),b=n(94),S=n(112),w=n(79),k=n(89),T=n(91),C=n(96),E=n(92),R=n(97),x=n(62),I=n(81)},function(e,t,n){n.r(t),n.d(t,{CancelUserAgentClient:function(){return i}});var r=n(64),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteClientTransaction,e,i,o)}return f(n)}(n(62).UserAgentClient)},function(e,t,n){n.r(t),n.d(t,{ReSubscribeUserAgentServer:function(){return i}});var r=n(82),i=function(e){p(n,e);var t=g(n);function n(e,i,o){return h(this,n),t.call(this,r.NonInviteServerTransaction,e.userAgentCore,i,o)}return f(n)}(n(81).UserAgentServer)},function(e,t,n){n.r(t),n.d(t,{addMidLines:function(){return r.addMidLines},cleanJitsiSdpImageattr:function(){return r.cleanJitsiSdpImageattr},holdModifier:function(){return r.holdModifier},stripG722:function(){return r.stripG722},stripRtpPayload:function(){return r.stripRtpPayload},stripTcpCandidates:function(){return r.stripTcpCandidates},stripTelephoneEvent:function(){return r.stripTelephoneEvent},stripVideo:function(){return r.stripVideo},SessionDescriptionHandler:function(){return i.SessionDescriptionHandler},defaultMediaStreamFactory:function(){return i.defaultMediaStreamFactory},defaultPeerConnectionConfiguration:function(){return i.defaultPeerConnectionConfiguration},defaultSessionDescriptionHandlerFactory:function(){return i.defaultSessionDescriptionHandlerFactory},SimpleUser:function(){return o.SimpleUser},Transport:function(){return a.Transport}});var r=n(114),i=n(116),o=n(117),a=n(119)},function(e,t,n){n.r(t),n.d(t,{addMidLines:function(){return r.addMidLines},cleanJitsiSdpImageattr:function(){return r.cleanJitsiSdpImageattr},holdModifier:function(){return r.holdModifier},stripG722:function(){return r.stripG722},stripRtpPayload:function(){return r.stripRtpPayload},stripTcpCandidates:function(){return r.stripTcpCandidates},stripTelephoneEvent:function(){return r.stripTelephoneEvent},stripVideo:function(){return r.stripVideo}});var r=n(115)},function(e,t,n){n.r(t),n.d(t,{stripTcpCandidates:function(){return i},stripTelephoneEvent:function(){return o},cleanJitsiSdpImageattr:function(){return a},stripG722:function(){return s},stripRtpPayload:function(){return c},stripVideo:function(){return l},addMidLines:function(){return u},holdModifier:function(){return d}});var r=function(e,t){for(var n,r=[],i=e.split(/\r\n/),o=0;o<i.length;){var a=i[o];if(/^m=(?:audio|video)/.test(a))n={index:o,stripped:[]},r.push(n);else if(n){var s=/^a=rtpmap:(\d+) ([^/]+)\//.exec(a);if(s&&t===s[2]){i.splice(o,1),n.stripped.push(s[1]);continue}}o++}for(var c=0,l=r;c<l.length;c++){for(var u=l[c],d=i[u.index].split(" "),f=3;f<d.length;)-1===u.stripped.indexOf(d[f])?f++:d.splice(f,1);i[u.index]=d.join(" ")}return i.join("\r\n")};function i(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,""),Promise.resolve(e)}function o(e){return e.sdp=r(e.sdp||"","telephone-event"),Promise.resolve(e)}function a(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)}function s(e){return e.sdp=r(e.sdp||"","G722"),Promise.resolve(e)}function c(e){return function(t){return t.sdp=r(t.sdp||"",e),Promise.resolve(t)}}function l(e){return e.sdp=function(e,t){var n=new RegExp("m="+t+".*$","gm"),r=new RegExp("^a=group:.*$","gm");if(n.test(e)){var i,o=(e=e.split(/^m=/gm).filter((function(e){if(e.substr(0,t.length)===t){if(i=e.match(/^a=mid:.*$/gm)){var n=i[0].match(/:.+$/g);n&&(i=n[0].substr(1))}return!1}return!0})).join("m=")).match(r);if(o&&1===o.length){var a=o[0],s=new RegExp(" *"+i+"[^ ]*","g");a=a.replace(s,""),e=e.split(r).join(a)}}return e}(e.sdp||"","video"),Promise.resolve(e)}function u(e){var t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){var n=t.match(/^m=.*$/gm),r=t.split(/^m=.*$/gm);n&&n.forEach((function(e,t){n[t]=e+"\na=mid:"+t})),r.forEach((function(e,t){n&&n[t]&&(r[t]=e+n[t])})),t=r.join(""),e.sdp=t}return Promise.resolve(e)}function d(e){if(!e.sdp||!e.type)throw new Error("Invalid SDP");var t=e.sdp,n=e.type;return t&&(t=/a=(sendrecv|sendonly|recvonly|inactive)/.test(t)?(t=t.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n")).replace(/a=recvonly\r\n/g,"a=inactive\r\n"):t.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),Promise.resolve({sdp:t,type:n})}},function(e,t,n){n.r(t),n.d(t,{defaultMediaStreamFactory:function(){return r.defaultMediaStreamFactory},defaultPeerConnectionConfiguration:function(){return i.defaultPeerConnectionConfiguration},defaultSessionDescriptionHandlerFactory:function(){return o.defaultSessionDescriptionHandlerFactory},SessionDescriptionHandler:function(){return a.SessionDescriptionHandler}});var r=n(54),i=n(55),o=n(53),a=n(56)},function(e,t,n){n.r(t),n.d(t,{SimpleUser:function(){return r.SimpleUser}});var r=n(118)},function(e,t,n){n.r(t),n.d(t,{SimpleUser:function(){return v}});var r=n(49),i=n(48),o=n(42),a=n(41),s=n(37),c=n(14),l=n(38),u=n(16),d=n(6),p=n(56),g=n(57),v=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this.attemptingReconnection=!1,this.connectRequested=!1,this.held=!1,this.muted=!1,this.registerer=void 0,this.registerRequested=!1,this.session=void 0,this.delegate=i.delegate,this.options=Object.assign({},i);var o=Object.assign({},i.userAgentOptions);if(o.transportConstructor||(o.transportConstructor=g.Transport),o.transportOptions||(o.transportOptions={server:t}),!o.uri&&i.aor){var a=r.UserAgent.makeURI(i.aor);if(!a)throw new Error("Failed to create valid URI from ".concat(i.aor));o.uri=a}this.userAgent=new r.UserAgent(o),this.userAgent.delegate={onConnect:function(){n.logger.log("[".concat(n.id,"] Connected")),n.delegate&&n.delegate.onServerConnect&&n.delegate.onServerConnect(),n.registerer&&n.registerRequested&&(n.logger.log("[".concat(n.id,"] Registering...")),n.registerer.register().catch((function(e){n.logger.error("[".concat(n.id,"] Error occurred registering after connection with server was obtained.")),n.logger.error(e.toString())})))},onDisconnect:function(e){n.logger.log("[".concat(n.id,"] Disconnected")),n.delegate&&n.delegate.onServerDisconnect&&n.delegate.onServerDisconnect(e),n.session&&(n.logger.log("[".concat(n.id,"] Hanging up...")),n.hangup().catch((function(e){n.logger.error("[".concat(n.id,"] Error occurred hanging up call after connection with server was lost.")),n.logger.error(e.toString())}))),n.registerer&&(n.logger.log("[".concat(n.id,"] Unregistering...")),n.registerer.unregister().catch((function(e){n.logger.error("[".concat(n.id,"] Error occurred unregistering after connection with server was lost.")),n.logger.error(e.toString())}))),e&&n.attemptReconnection()},onInvite:function(e){if(n.logger.log("[".concat(n.id,"] Received INVITE")),n.session)return n.logger.warn("[".concat(n.id,"] Session already in progress, rejecting INVITE...")),void e.reject().then((function(){n.logger.log("[".concat(n.id,"] Rejected INVITE"))})).catch((function(e){n.logger.error("[".concat(n.id,"] Failed to reject INVITE")),n.logger.error(e.toString())}));var t={sessionDescriptionHandlerOptions:{constraints:n.constraints}};n.initSession(e,t),n.delegate&&n.delegate.onCallReceived?n.delegate.onCallReceived():(n.logger.warn("[".concat(n.id,"] No handler available, rejecting INVITE...")),e.reject().then((function(){n.logger.log("[".concat(n.id,"] Rejected INVITE"))})).catch((function(e){n.logger.error("[".concat(n.id,"] Failed to reject INVITE")),n.logger.error(e.toString())})))},onMessage:function(e){e.accept().then((function(){n.delegate&&n.delegate.onMessageReceived&&n.delegate.onMessageReceived(e.request.body)}))}},this.logger=this.userAgent.getLogger("sip.SimpleUser"),window.addEventListener("online",(function(){n.logger.log("[".concat(n.id,"] Online")),n.attemptReconnection()}))}return f(e,[{key:"id",get:function(){return this.options.userAgentOptions&&this.options.userAgentOptions.displayName||"Anonymous"}},{key:"localMediaStream",get:function(){var e,t=null===(e=this.session)||void 0===e?void 0:e.sessionDescriptionHandler;if(t){if(!(t instanceof p.SessionDescriptionHandler))throw new Error("Session description handler not instance of web SessionDescriptionHandler");return t.localMediaStream}}},{key:"remoteMediaStream",get:function(){var e,t=null===(e=this.session)||void 0===e?void 0:e.sessionDescriptionHandler;if(t){if(!(t instanceof p.SessionDescriptionHandler))throw new Error("Session description handler not instance of web SessionDescriptionHandler");return t.remoteMediaStream}}},{key:"localAudioTrack",get:function(){var e;return null===(e=this.localMediaStream)||void 0===e?void 0:e.getTracks().find((function(e){return"audio"===e.kind}))}},{key:"localVideoTrack",get:function(){var e;return null===(e=this.localMediaStream)||void 0===e?void 0:e.getTracks().find((function(e){return"video"===e.kind}))}},{key:"remoteAudioTrack",get:function(){var e;return null===(e=this.remoteMediaStream)||void 0===e?void 0:e.getTracks().find((function(e){return"audio"===e.kind}))}},{key:"remoteVideoTrack",get:function(){var e;return null===(e=this.remoteMediaStream)||void 0===e?void 0:e.getTracks().find((function(e){return"video"===e.kind}))}},{key:"connect",value:function(){return this.logger.log("[".concat(this.id,"] Connecting UserAgent...")),this.connectRequested=!0,this.userAgent.state!==i.UserAgentState.Started?this.userAgent.start():this.userAgent.reconnect()}},{key:"disconnect",value:function(){return this.logger.log("[".concat(this.id,"] Disconnecting UserAgent...")),this.connectRequested=!1,this.userAgent.stop()}},{key:"isConnected",value:function(){return this.userAgent.isConnected()}},{key:"register",value:function(e,t){var n=this;return this.logger.log("[".concat(this.id,"] Registering UserAgent...")),this.registerRequested=!0,this.registerer||(this.registerer=new o.Registerer(this.userAgent,e),this.registerer.stateChange.addListener((function(e){switch(e){case a.RegistererState.Initial:break;case a.RegistererState.Registered:n.delegate&&n.delegate.onRegistered&&n.delegate.onRegistered();break;case a.RegistererState.Unregistered:n.delegate&&n.delegate.onUnregistered&&n.delegate.onUnregistered();break;case a.RegistererState.Terminated:n.registerer=void 0;break;default:throw new Error("Unknown registerer state.")}}))),this.registerer.register(t).then((function(){}))}},{key:"unregister",value:function(e){return this.logger.log("[".concat(this.id,"] Unregistering UserAgent...")),this.registerRequested=!1,this.registerer?this.registerer.unregister(e).then((function(){})):Promise.resolve()}},{key:"call",value:function(e,t,n){if(this.logger.log("[".concat(this.id,"] Beginning Session...")),this.session)return Promise.reject(new Error("Session already exists."));var i=r.UserAgent.makeURI(e);if(!i)return Promise.reject(new Error('Failed to create a valid URI from "'.concat(e,'"')));t||(t={}),t.sessionDescriptionHandlerOptions||(t.sessionDescriptionHandlerOptions={}),t.sessionDescriptionHandlerOptions.constraints||(t.sessionDescriptionHandlerOptions.constraints=this.constraints);var o=new s.Inviter(this.userAgent,i,t);return this.sendInvite(o,t,n).then((function(){}))}},{key:"hangup",value:function(){return this.logger.log("[".concat(this.id,"] Hangup...")),this.terminate()}},{key:"answer",value:function(e){return this.logger.log("[".concat(this.id,"] Accepting Invitation...")),this.session?this.session instanceof c.Invitation?(e||(e={}),e.sessionDescriptionHandlerOptions||(e.sessionDescriptionHandlerOptions={}),e.sessionDescriptionHandlerOptions.constraints||(e.sessionDescriptionHandlerOptions.constraints=this.constraints),this.session.accept(e)):Promise.reject(new Error("Session not instance of Invitation.")):Promise.reject(new Error("Session does not exist."))}},{key:"decline",value:function(){return this.logger.log("[".concat(this.id,"] rejecting Invitation...")),this.session?this.session instanceof c.Invitation?this.session.reject():Promise.reject(new Error("Session not instance of Invitation.")):Promise.reject(new Error("Session does not exist."))}},{key:"hold",value:function(){return this.logger.log("[".concat(this.id,"] holding session...")),this.setHold(!0)}},{key:"unhold",value:function(){return this.logger.log("[".concat(this.id,"] unholding session...")),this.setHold(!1)}},{key:"isHeld",value:function(){return this.held}},{key:"mute",value:function(){this.logger.log("[".concat(this.id,"] disabling media tracks...")),this.setMute(!0)}},{key:"unmute",value:function(){this.logger.log("[".concat(this.id,"] enabling media tracks...")),this.setMute(!1)}},{key:"isMuted",value:function(){return this.muted}},{key:"sendDTMF",value:function(e){if(this.logger.log("[".concat(this.id,"] sending DTMF...")),!/^[0-9A-D#*,]$/.exec(e))return Promise.reject(new Error("Invalid DTMF tone."));if(!this.session)return Promise.reject(new Error("Session does not exist."));this.logger.log("[".concat(this.id,"] Sending DTMF tone: ").concat(e));var t={body:{contentDisposition:"render",contentType:"application/dtmf-relay",content:"Signal="+e+"\r\nDuration=2000"}};return this.session.info({requestOptions:t}).then((function(){}))}},{key:"message",value:function(e,t){this.logger.log("[".concat(this.id,"] sending message..."));var n=r.UserAgent.makeURI(e);return n?new l.Messager(this.userAgent,n,t).message():Promise.reject(new Error('Failed to create a valid URI from "'.concat(e,'"')))}},{key:"constraints",get:function(){var e,t={audio:!0,video:!1};return(null===(e=this.options.media)||void 0===e?void 0:e.constraints)&&(t=Object.assign({},this.options.media.constraints)),t}},{key:"attemptReconnection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.options.reconnectionAttempts||3,r=this.options.reconnectionDelay||4;this.connectRequested?(this.attemptingReconnection&&this.logger.log("[".concat(this.id,"] Reconnection attempt already in progress")),t>n?this.logger.log("[".concat(this.id,"] Reconnection maximum attempts reached")):(1===t?this.logger.log("[".concat(this.id,"] Reconnection attempt ").concat(t," of ").concat(n," - trying")):this.logger.log("[".concat(this.id,"] Reconnection attempt ").concat(t," of ").concat(n," - trying in ").concat(r," seconds")),this.attemptingReconnection=!0,setTimeout((function(){if(!e.connectRequested)return e.logger.log("[".concat(e.id,"] Reconnection attempt ").concat(t," of ").concat(n," - aborted")),void(e.attemptingReconnection=!1);e.userAgent.reconnect().then((function(){e.logger.log("[".concat(e.id,"] Reconnection attempt ").concat(t," of ").concat(n," - succeeded")),e.attemptingReconnection=!1})).catch((function(r){e.logger.log("[".concat(e.id,"] Reconnection attempt ").concat(t," of ").concat(n," - failed")),e.logger.error(r.message),e.attemptingReconnection=!1,e.attemptReconnection(++t)}))}),1===t?0:1e3*r))):this.logger.log("[".concat(this.id,"] Reconnection not currently desired"))}},{key:"cleanupMedia",value:function(){this.options.media&&(this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.srcObject=null,this.options.media.local.video.pause()),this.options.media.remote&&(this.options.media.remote.audio&&(this.options.media.remote.audio.srcObject=null,this.options.media.remote.audio.pause()),this.options.media.remote.video&&(this.options.media.remote.video.srcObject=null,this.options.media.remote.video.pause())))}},{key:"enableReceiverTracks",value:function(e){if(!this.session)throw new Error("Session does not exist.");var t=this.session.sessionDescriptionHandler;if(!(t instanceof p.SessionDescriptionHandler))throw new Error("Session's session description handler not instance of SessionDescriptionHandler.");var n=t.peerConnection;if(!n)throw new Error("Peer connection closed.");n.getReceivers().forEach((function(t){t.track&&(t.track.enabled=e)}))}},{key:"enableSenderTracks",value:function(e){if(!this.session)throw new Error("Session does not exist.");var t=this.session.sessionDescriptionHandler;if(!(t instanceof p.SessionDescriptionHandler))throw new Error("Session's session description handler not instance of SessionDescriptionHandler.");var n=t.peerConnection;if(!n)throw new Error("Peer connection closed.");n.getSenders().forEach((function(t){t.track&&(t.track.enabled=e)}))}},{key:"initSession",value:function(e,t){var n=this;this.session=e,this.delegate&&this.delegate.onCallCreated&&this.delegate.onCallCreated(),this.session.stateChange.addListener((function(t){if(n.session===e)switch(n.logger.log("[".concat(n.id,"] session state changed to ").concat(t)),t){case u.SessionState.Initial:case u.SessionState.Establishing:break;case u.SessionState.Established:n.setupLocalMedia(),n.setupRemoteMedia(),n.delegate&&n.delegate.onCallAnswered&&n.delegate.onCallAnswered();break;case u.SessionState.Terminating:case u.SessionState.Terminated:n.session=void 0,n.cleanupMedia(),n.delegate&&n.delegate.onCallHangup&&n.delegate.onCallHangup();break;default:throw new Error("Unknown session state.")}})),this.session.delegate={onInfo:function(e){var t;if(void 0!==(null===(t=n.delegate)||void 0===t?void 0:t.onCallDTMFReceived)){var r=e.request.getHeader("content-type");if(r&&/^application\/dtmf-relay/i.exec(r)){var i=e.request.body.split("\r\n",2);if(2===i.length){var o,a=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/;if(a.test(i[0])&&(o=i[0].replace(a,"$2")),o){var s,c=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;c.test(i[1])&&(s=parseInt(i[1].replace(c,"$2"),10)),s?e.accept().then((function(){if(n.delegate&&n.delegate.onCallDTMFReceived){if(!o||!s)throw new Error("Tone or duration undefined.");n.delegate.onCallDTMFReceived(o,s)}})).catch((function(e){n.logger.error(e.message)})):e.reject()}else e.reject()}else e.reject()}else e.reject()}else e.reject()},onRefer:function(e){e.accept().then((function(){return n.sendInvite(e.makeInviter(t),t)})).catch((function(e){n.logger.error(e.message)}))}}}},{key:"sendInvite",value:function(e,t,n){var r=this;return this.initSession(e,t),e.invite(n).then((function(){r.logger.log("[".concat(r.id,"] sent INVITE"))}))}},{key:"setHold",value:function(e){var t=this;if(!this.session)return Promise.reject(new Error("Session does not exist."));var n=this.session;if(this.held===e)return Promise.resolve();if(!(this.session.sessionDescriptionHandler instanceof p.SessionDescriptionHandler))throw new Error("Session's session description handler not instance of SessionDescriptionHandler.");var r={requestDelegate:{onAccept:function(){t.held=e,t.enableReceiverTracks(!t.held),t.enableSenderTracks(!t.held&&!t.muted),t.delegate&&t.delegate.onCallHold&&t.delegate.onCallHold(t.held)},onReject:function(){t.logger.warn("[".concat(t.id,"] re-invite request was rejected")),t.enableReceiverTracks(!t.held),t.enableSenderTracks(!t.held&&!t.muted),t.delegate&&t.delegate.onCallHold&&t.delegate.onCallHold(t.held)}}},i=n.sessionDescriptionHandlerOptionsReInvite;return i.hold=e,n.sessionDescriptionHandlerOptionsReInvite=i,this.session.invite(r).then((function(){t.enableReceiverTracks(!e),t.enableSenderTracks(!e&&!t.muted)})).catch((function(e){throw e instanceof d.RequestPendingError&&t.logger.error("[".concat(t.id,"] A hold request is already in progress.")),e}))}},{key:"setMute",value:function(e){this.session?this.session.state===u.SessionState.Established?(this.muted=e,this.enableSenderTracks(!this.held&&!this.muted)):this.logger.warn("[".concat(this.id,"] An established session is required to enable/disable media tracks")):this.logger.warn("[".concat(this.id,"] A session is required to enabled/disable media tracks"))}},{key:"setupLocalMedia",value:function(){var e,t,n=this;if(!this.session)throw new Error("Session does not exist.");var r=null===(t=null===(e=this.options.media)||void 0===e?void 0:e.local)||void 0===t?void 0:t.video;if(r){var i=this.localMediaStream;if(!i)throw new Error("Local media stream undefiend.");r.srcObject=i,r.volume=0,r.play().catch((function(e){n.logger.error("[".concat(n.id,"] Failed to play local media")),n.logger.error(e.message)}))}}},{key:"setupRemoteMedia",value:function(){var e,t,n,r,i=this;if(!this.session)throw new Error("Session does not exist.");var o=(null===(t=null===(e=this.options.media)||void 0===e?void 0:e.remote)||void 0===t?void 0:t.video)||(null===(r=null===(n=this.options.media)||void 0===n?void 0:n.remote)||void 0===r?void 0:r.audio);if(o){var a=this.remoteMediaStream;if(!a)throw new Error("Remote media stream undefiend.");o.autoplay=!0,o.srcObject=a,o.play().catch((function(e){i.logger.error("[".concat(i.id,"] Failed to play remote media")),i.logger.error(e.message)})),a.onaddtrack=function(){i.logger.log("[".concat(i.id,"] Remote media onaddtrack")),o.load(),o.play().catch((function(e){i.logger.error("[".concat(i.id,"] Failed to play remote media")),i.logger.error(e.message)}))}}}},{key:"terminate",value:function(){var e=this;if(this.logger.log("[".concat(this.id,"] Terminating...")),!this.session)return Promise.reject(new Error("Session does not exist."));switch(this.session.state){case u.SessionState.Initial:if(this.session instanceof s.Inviter)return this.session.cancel().then((function(){e.logger.log("[".concat(e.id,"] Inviter never sent INVITE (canceled)"))}));if(this.session instanceof c.Invitation)return this.session.reject().then((function(){e.logger.log("[".concat(e.id,"] Invitation rejected (sent 480)"))}));throw new Error("Unknown session type.");case u.SessionState.Establishing:if(this.session instanceof s.Inviter)return this.session.cancel().then((function(){e.logger.log("[".concat(e.id,"] Inviter canceled (sent CANCEL)"))}));if(this.session instanceof c.Invitation)return this.session.reject().then((function(){e.logger.log("[".concat(e.id,"] Invitation rejected (sent 480)"))}));throw new Error("Unknown session type.");case u.SessionState.Established:return this.session.bye().then((function(){e.logger.log("[".concat(e.id,"] Session ended (sent BYE)"))}));case u.SessionState.Terminating:case u.SessionState.Terminated:break;default:throw new Error("Unknown state")}return this.logger.log("[".concat(this.id,"] Terminating in state ").concat(this.session.state,", no action taken")),Promise.resolve()}}]),e}()},function(e,t,n){n.r(t),n.d(t,{Transport:function(){return r.Transport}});var r=n(57)}],t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{name:function(){return c},version:function(){return s},Ack:function(){return t.Ack},Bye:function(){return t.Bye},ContentTypeUnsupportedError:function(){return t.ContentTypeUnsupportedError},EmitterImpl:function(){return t.EmitterImpl},Info:function(){return t.Info},Invitation:function(){return t.Invitation},Inviter:function(){return t.Inviter},Message:function(){return t.Message},Messager:function(){return t.Messager},Notification:function(){return t.Notification},Publisher:function(){return t.Publisher},PublisherState:function(){return t.PublisherState},Referral:function(){return t.Referral},Registerer:function(){return t.Registerer},RegistererState:function(){return t.RegistererState},RequestPendingError:function(){return t.RequestPendingError},SIPExtension:function(){return t.SIPExtension},Session:function(){return t.Session},SessionDescriptionHandlerError:function(){return t.SessionDescriptionHandlerError},SessionState:function(){return t.SessionState},SessionTerminatedError:function(){return t.SessionTerminatedError},StateTransitionError:function(){return t.StateTransitionError},Subscriber:function(){return t.Subscriber},Subscription:function(){return t.Subscription},SubscriptionState:function(){return t.SubscriptionState},TransportState:function(){return t.TransportState},UserAgent:function(){return t.UserAgent},UserAgentRegisteredOptionTags:function(){return t.UserAgentRegisteredOptionTags},UserAgentState:function(){return t.UserAgentState},Grammar:function(){return i.Grammar},NameAddrHeader:function(){return i.NameAddrHeader},Parameters:function(){return i.Parameters},URI:function(){return i.URI},equivalentURI:function(){return i.equivalentURI},Core:function(){return o},Web:function(){return a}});var e=n(1),t=n(2),i=n(99),o=n(100),a=n(113),s=e.LIBRARY_VERSION,c="sip.js"}(),r}()},e.exports=r()},90:function(e,t,n){"use strict";n.d(t,{n:function(){return ee}});var r,i=null,o={registerDelegate:function(e){i=e},setTestingMode:function(e){i&&i.setTestingMode(e)},onCallStatSipJsSessionEvent:function(e){i&&i.onCallStatSipJsSessionEvent(e)},sendWebRTCEventsToFSM:function(e,t){i&&i.sendWebRTCEventsToFSM(e,t)},playBeepTone:function(){i&&i.playBeepTone()},onStatPeerConnectionIceGatheringStateChange:function(e){i&&i.onStatPeerConnectionIceGatheringStateChange(e)},onCallStatIceCandidate:function(e,t){i&&i.onCallStatIceCandidate(e,t)},onCallStatNegoNeeded:function(e){i&&i.onCallStatNegoNeeded(e)},onCallStatSignalingStateChange:function(e){i&&i.onCallStatSignalingStateChange(e)},onStatPeerConnectionIceConnectionStateChange:function(){i&&i.onStatPeerConnectionIceConnectionStateChange()},onStatPeerConnectionConnectionStateChange:function(){i&&i.onStatPeerConnectionConnectionStateChange()},onGetUserMediaSuccessCallstatCallback:function(){i&&i.onGetUserMediaSuccessCallstatCallback()},onGetUserMediaErrorCallstatCallback:function(){i&&i.onGetUserMediaErrorCallstatCallback()},onCallStatAddStream:function(){i&&i.onCallStatAddStream()},onCallStatRemoveStream:function(){i&&i.onCallStatRemoveStream()},setWebRTCFSMMapper:function(){i&&i.setWebRTCFSMMapper()},onCallStatSipJsTransportEvent:function(){i&&i.onCallStatSipJsTransportEvent()},onCallStatSipSendCallback:function(e,t){i&&i.onCallStatSipSendCallback()},onCallStatSipRecvCallback:function(e,t){i&&i.onCallStatSipRecvCallback()},stopCallStat:function(){i&&i.stopCallStat()},onRecieveInvite:function(){i&&i.onRecieveInvite()},onPickCall:function(){i&&i.onPickCall()},onRejectCall:function(){i&&i.onRejectCall()},onCreaterAnswer:function(){i&&i.onCreaterAnswer()},onSettingLocalDesc:function(){i&&i.onSettingLocalDesc()},initGetStats:function(e,t,n){i&&i.initGetStats(e,t,n)},onRegisterWebRTCSIPEngine:function(e){i&&i.onRegisterWebRTCSIPEngine(e)}},a=n(381),s=!1,c="offline",l=null,u="",d=!0,f=!1,h=document.createElement("audio");h.src=n(77);var p=document.createElement("audio");p.src=n(2);var g,v,m,y,b,S,w,k,T,C,E,R,x,I=document.createElement("audio");I.src=n(24),document.createElement("video"),document.createElement("video");var A=!1,P={},_=null,D=console;function N(){(P={config:{},ringtone:p,ringbacktone:I,dtmfTone:document.getElementById("dtmfTone"),beeptone:h,Sessions:[],callTimers:{},callActiveID:null,callVolume:1,Stream:null,ringToneIntervalID:0,ringtoneCount:30,startRingTone:function(){try{var e=0;P.ringtone||(P.ringtone=p),P.ringtone.load(),P.ringToneIntervalID=setInterval((function(){P.ringtone.play().then((function(){D.log("startRingTone: Audio is playing: count="+e+" ctxSip.ringToneIntervalID="+P.ringToneIntervalID+" ctxSip.ringtoneCount="+P.ringtoneCount)})).catch((function(e){D.log("startRingTone: Exception:",e)})),++e>P.ringtoneCount&&clearInterval(P.ringToneIntervalID)}),500)}catch(t){D.log("startRingTone: Exception:",t)}},stopRingTone:function(){try{P.ringtone||(P.ringtone=p),P.ringtone.pause(),D.log("stopRingTone: intervalID:",P.ringToneIntervalID),clearInterval(P.ringToneIntervalID)}catch(e){D.log("stopRingTone: Exception:",e)}},startRingbackTone:function(){P.ringbacktone||(P.ringbacktone=I);try{P.ringbacktone.play().then((function(){D.log("startRingbackTone: Audio is playing:")})).catch((function(e){D.log("startRingbackTone: Exception:",e)}))}catch(e){D.log("startRingbackTone: Exception:",e)}},stopRingbackTone:function(){P.ringbacktone||(P.ringbacktone=I);try{P.ringbacktone.pause()}catch(e){D.log("stopRingbackTone: Exception:",e)}},getUniqueID:function(){return Math.random().toString(36).substr(2,9)},newSession:function(e){var t;e.displayName=e.remoteIdentity.displayName||e.remoteIdentity.uri.user,e.ctxid=P.getUniqueID(),P.callActiveID=e.ctxid,e.stateChange.addListener((function(t){switch(t){case a.SessionState.Establishing:break;case a.SessionState.Established:!function(e){r||(r=document.createElement("audio"),console.log("No audio remote id .... "));r&&(t=e.sessionDescriptionHandler.remoteMediaStream,(n=r).autoplay=!0,n.srcObject=t,n.play().catch((function(e){console.error("Failed to play media"),console.error(e)})),t.onaddtrack=function(){n.load(),n.play().catch((function(e){console.error("Failed to play remote media on add track"),console.error(e)}))},t.onremovetrack=function(){n.load(),n.play().catch((function(e){console.error("Failed to play remote media on remove track"),console.error(e)}))});var t,n;o.onCallStatSipJsSessionEvent("accepted"),o.sendWebRTCEventsToFSM("connected","CALL"),P.callActiveID&&P.callActiveID!==e.ctxid&&P.phoneHoldButtonPressed(P.callActiveID);P.stopRingbackTone(),P.stopRingTone(),P.setCallSessionStatus("Answered"),P.logCall(e,"answered"),P.callActiveID=e.ctxid,c="busy",null!=l&&l.onResponse&&l.onResponse("connected")}(e);break;case a.SessionState.Terminated:!function(){o.stopCallStat(),o.onCallStatSipJsSessionEvent("terminated"),P.stopRingTone(),P.stopRingbackTone(),P.setCallSessionStatus(""),P.callActiveID=null,o.playBeepTone(),o.sendWebRTCEventsToFSM("terminated","CALL"),L(),1==A?c="ready":j();null!=l&&l.onResponse&&l.onResponse("disconnected")}()}})),e.delegate={},e.delegate.onSessionDescriptionHandler=function(e,t){try{var n=P.callActiveID,r=P.config.authorizationUsername,i=e._peerConnection;o.initGetStats(i,n,r)}catch(a){D.log("something went wrong while initing getstats"),D.log(a)}e.peerConnectionDelegate={onnegotiationneeded:function(e){o.onCallStatNegoNeeded()},onsignalingstatechange:function(e){o.onCallStatSignalingStateChange(e.target.signalingState)},onconnectionstatechange:function(e){o.onStatPeerConnectionConnectionStateChange(e.target.connectionState)},oniceconnectionstatechange:function(e){o.onStatPeerConnectionIceConnectionStateChange(e.target.iceConnectionState)},onicegatheringstatechange:function(e){o.onStatPeerConnectionIceGatheringStateChange(e.target.iceGatheringState)}}},P.Sessions[e.ctxid]=e,"incoming"===e.direction&&(o.onCallStatSipJsSessionEvent("incoming"),t="Incoming: "+e.displayName,P.startRingTone(),setTimeout(q,500)),P.setCallSessionStatus(t)},getUserMediaFailure:function(e){},getUserMediaSuccess:function(e){P.Stream=e},setCallSessionStatus:function(e){},setStatus:function(e){},logCall:function(e,t){},sipHangUp:function(e){var t=P.Sessions[e];t&&(t.state==a.SessionState.Established?t.bye():t.reject?t.reject():t.cancel&&t.cancel())},sipSendDTMF:function(e){try{P.dtmfTone.play()}catch(i){D.log("sipSendDTMF: Exception:",i)}var t=P.callActiveID;if(t){var n=P.Sessions[t];if(!/^[0-9A-D#*,]$/.exec(e))return Promise.reject(new Error("Invalid DTMF tone."));if(!n)return Promise.reject(new Error("Session does not exist."));var r={body:{contentDisposition:"render",contentType:"application/dtmf-relay",content:"Signal="+e+"\r\nDuration=2000"}};return n.info({requestOptions:r}).then((function(){}))}},setError:function(e,t,n,r){},phoneMuteButtonPressed:function(e){var t=P.Sessions[e];d?(W(t,!0),d=!1):(W(t,!1),d=!0)},phoneMute:function(e,t){if(e){var n=P.Sessions[e];console.log("phoneMute: bMute",t),W(n,t),d=!t}},phoneHold:function(e,t){if(e){var n=P.Sessions[e];console.log("phoneHold: bHold",t),K(n,t),f=t}},phoneHoldButtonPressed:function(e){if(e){var t=P.Sessions[e];f?(K(t,!1),f=!1):(K(t,!0),f=!0)}},hasWebRTC:function(){return!!navigator.webkitGetUserMedia||(!!navigator.mozGetUserMedia||(!!navigator.getUserMedia||(P.setError(!0,"Unsupported Browser.","Your browser does not support the features required for this phone."),window.console.error("WebRTC support not found"),!1)))}}).hasWebRTC||alert("Your browser don't support WebRTC.\naudio/video calls will be disabled."),o.setWebRTCFSMMapper("sipjs"),D.log("init: Initialization complete..."),s=!0}function M(){z();try{if(P.config={authorizationPassword:E,authorizationUsername:g,displayName:g,uri:a.UserAgent.makeURI(u),hackWssInTransport:!0,allowLegacyNotifications:!0,contactParams:{transport:"wss"},transportOptions:{server:x,traceSip:!0,reconnectionAttempts:0},logBuiltinEnabled:!0,logConnector:F,logLevel:"log",sessionDescriptionHandlerFactoryOptions:{constraints:{audio:!0,video:!1}},stunServers:["stun:stun.l.google.com:19302"],registerOptions:{expires:60}},!R||!v||!u)return;window.webkitNotifications&&0!=window.webkitNotifications.checkPermission()&&window.webkitNotifications.requestPermission(),P.phone=new a.UserAgent(P.config),P.phone.delegate={},P.phone.transport.stateChange.addListener(U),_=new a.Registerer(P.phone,{expires:60,refreshFrequency:80}),P.phone.delegate.onInvite=function(e){if(null==P.callActiveID){o.onRecieveInvite(),o.sendWebRTCEventsToFSM("i_new_call","CALL");var t=e;t.direction="incoming",P.newSession(t)}else e.reject()},P.phone.start()}catch(e){c="offline",null!=l&&l.onResponse&&l.onResponse("error")}A=!1}D.log(a);var H=function(e){if(P.phone&&P.phone.transport&&P.phone.transport.isConnected())switch(F("debug","","","sipjslog registerer new state "+e),e){case a.RegistererState.Registered:break;case a.RegistererState.Unregistered:o.sendWebRTCEventsToFSM("terminated","CONNECTION"),$(!1,!1),A=!1,null!=l&&l.onResponse&&l.onResponse("error");break;case a.RegistererState.Terminated:$(!1,!1)}},O=function(e){_&&_.state==a.RegistererState.Registered&&function(){o.sendWebRTCEventsToFSM("connected","CONNECTION");var e=!0;$(e,!e),A=!0,c="ready",null!=l&&l.onResponse&&l.onResponse("ready");var t=function(){localStorage.removeItem("ctxPhone"),P.phone.stop()};window.onunload=t,localStorage.setItem("ctxPhone","true")}()},U=function(e){switch(F("debug","","","sipjslog transport new state "+e),e){case a.TransportState.Connecting:o.onCallStatSipJsTransportEvent("connecting"),o.sendWebRTCEventsToFSM("starting","CONNECTION");break;case a.TransportState.Connected:!function(){o.onCallStatSipJsTransportEvent("connected"),c="ready",o.sendWebRTCEventsToFSM("started","CONNECTION"),null!=l&&l.onResponse&&l.onResponse("offline");_.stateChange.addListener(H),_.waitingChange.addListener(O),_.register()}();break;case a.TransportState.Disconnected:!function(){c="offline",e=!1,void(A=e),z(),o.onCallStatSipJsTransportEvent("disconnected"),o.sendWebRTCEventsToFSM("failed_to_start","CONNECTION"),null!=l&&l.onResponse&&l.onResponse("error");var e}()}};function $(e,t){e||t?(A=!0,c="ready"):(A=!1,j())}function j(){try{P.phone&&P.phone.transport.isConnected()&&P.phone.transport.disconnect()}catch(e){D.log("ERROR",e)}}function L(e){window.btnBFCP&&(window.btnBFCP.disabled=!0),P.stopRingTone(),P.stopRingbackTone(),null!=l&&l.onResponse&&l.onResponse("disconnected")}function q(){D.log("testing emit accept_reject"),o.sendWebRTCEventsToFSM("accept_reject","CALL")}function F(e,t,n,r){try{r&&(r.startsWith("Sending WebSocket")?B(r,"sent"):r.startsWith("Received WebSocket text message")&&B(r,"recv"),D.log(e+" sipjslog: "+t+": "+r))}catch(i){D.error("ERROR",i)}}function z(){if(_){try{_.clearTimers(),_.stateChange.removeListener(H),_.waitingChange.removeListener(O)}catch(e){D.log("ERROR",e)}_=null}}function B(e,t){var n=e.split("\n");n.splice(0,2);var r=n.join("\n"),i=function(e){var t=e.split("\n"),n=t[0];t.slice(0,1);var r={},i=n.split(" ");n.startsWith("SIP")?r.statusCode=i[1]:r.method=i[0];for(var o=0;o<t.length;o++){var a=t[o];if(a){var s=(i=a.split(":"))[0].replace("-",""),c=i[1];r[s]=c}}return r}(r);switch(t){case"sent":"CONNECTION"==i.method&&o.sendWebRTCEventsToFSM("sent_request",i.method),o.onCallStatSipSendCallback(r,"sipjs");break;case"recv":o.onCallStatSipRecvCallback(r,"sipjs")}}function W(e,t){var n=e.sessionDescriptionHandler.peerConnection;n.getSenders?n.getSenders().forEach((function(e){e.track&&(e.track.enabled=!t)})):n.getLocalStreams().forEach((function(e){e.getAudioTracks().forEach((function(e){e.enabled=!t})),e.getVideoTracks().forEach((function(e){e.enabled=!t}))})),t?function(e){o.onCallStatSipJsSessionEvent("muted"),e.isMuted=!0,P.setCallSessionStatus("Muted")}(e):function(e){o.onCallStatSipJsSessionEvent("unmuted"),e.isMuted=!1,P.setCallSessionStatus("Answered")}(e)}function V(e,t){try{var n=e.sessionDescriptionHandler.peerConnection;if(!n)throw new Error("Peer connection closed.");n.getReceivers().forEach((function(e){console.log("Receiver ",e),e.track&&(e.track.enabled=t)}))}catch(r){console.log("enableReceiverTracks: Error in updating receiver tracks  ",r)}}function G(e,t){try{var n=e.sessionDescriptionHandler.peerConnection;if(!n)throw new Error("Peer connection closed.");n.getSenders().forEach((function(e){e.track&&(e.track.enabled=t)}))}catch(r){console.log("enableSenderTracks: Error in updating sender tracks  ",r)}}function K(e,t){var n={requestDelegate:{onAccept:function(){!function(e){D.warn("[".concat(e.id,"] re-invite request was accepted")),e.held=!0,G(!e.held&&!e.isMuted),V(!e.held)}(e)},onReject:function(){!function(e){D.warn("[".concat(e.id,"] re-invite request was rejected")),e.held=!1,G(!e.held&&!e.isMuted),V(!e.held)}(e)}},sessionDescriptionHandlerOptions:{hold:t}};e.invite(n).then((function(){V(e,!t),G(e,!t&&!e.isMuted)})).catch((function(t){D.error("Error in hold request [".concat(e.id,"]"))}))}var Y={init:function(){document.getElementById("video_local"),document.getElementById("video_remote"),r=document.getElementById("audio_remote");var e=setInterval((function(){"complete"===document.readyState&&(clearInterval(e),D.log("init:readyState, calling preinit"),D.log("init:readyState, calling postInit"),N())}),100)},loadCredentials:function(e){g=e.userName,v=e.authUser,m=e.domain,y=m.split(":")[0],b=m.split(":")[1],e.accountName,u="sip:"+v+"@"+m,E=e.secret,"drishti@"+(R=y)+":3478","jrp931","'turn:"+R+":3478?transport=udp', credential: 'jrp931', username: 'drishti'",b||(b=8089);var t={security:"ws",sipdomain:y,contactHost:y,wsPort:8088,udpPort:5060,tcpPort:5061};S=e.security?e.security:t.security,e.sipdomain?(w=e.sipdomain,u="sip:"+v+"@"+w):w=t.sipdomain,e.contactHost?e.contactHost:t.contactHost,k=b,T=e.sipPort?e.sipPort:t.sipPort,C=e.sipSecurePort?e.sipSecurePort:t.sipSecurePort;!function(e){console.log("loadCredentials_extra:",e),"ws"==S?(x="ws://"+y+":"+k+"/ws","udp://"+y+":"+T,D.log("SIP udp : "+txtSipUdpPort),"http:"==window.location.protocol?(x="ws://"+y+":"+k+"/ws","udp://"+y+":"+T,D.log("ws http : "+T)):(x="wss://"+y+":"+k+"/wss","udp://"+y+":"+C)):(x="wss://"+y+":"+k+"/wss","udp://"+y+":"+C,D.log("wss udp :"+C),"http:"==window.location.protocol&&(x="wss://"+y+":"+k+"/wss","udp://"+y+":"+C),D.log("wss http : "+k),D.log("wss txtWebsocketURL : "+x))}(e);setTimeout((function(){1==s&&M()}),500)},getStatus:function(){return c},registerCallBacks:function(e){l=e},sipSendDTMF:function(e){P.sipSendDTMF(e)},sipToggleRegister:function(){0==A?(A=!0,M()):1==A&&(_.unregister({}),A=!1,c="offline",null!=l&&l.onResponse&&l.onResponse("error"))},reRegister:function(){D.log("sipjs: registering in case of relogin"),P.phone&&_?_.register({}):D.log("sipjs: SIP Session does not exist for re registration")},sipToggleMic:function(){P.phoneMuteButtonPressed(P.callActiveID)},sipMute:function(e){P.phoneMute(P.callActiveID,e)},holdCall:function(){P.callActiveID&&P.phoneHoldButtonPressed(P.callActiveID)},sipHold:function(e){P.callActiveID&&P.phoneHold(P.callActiveID,e)},getMicMuteStatus:function(){return d},pickPhoneCall:function(){var e=P.Sessions[P.callActiveID];D.log("pickphonecall ",P.callActiveID),e&&e.accept().catch((function(e){!function(e){"NotAllowedError"==e.name||"NotFoundError"==e.name?(o.sendWebRTCEventsToFSM("m_permission_refused","CALL"),o.onCallStatSipJsSessionEvent("userMediaFailed"),o.onGetUserMediaErrorCallstatCallback()):D.log("user media failed due to error ",e),L()}(e)}))},sipHangUp:function(){P.sipHangUp(P.callActiveID)},playBeep:function(){try{P.beeptone.play()}catch(e){D.log("playBeep: Exception:",e)}},sipUnRegister:function(){P.phone&&_?_.unregister({}).then((function(){j()})):P.phone&&j()},connect:function(){try{M()}catch(e){}},disconnect:function(){_&&z(),P.phone&&P.phone.transport&&(P.phone.transport.stateChange.removeListener(U),P.phone&&P.phone.transport.isConnected()&&j())},getSpeakerTestTone:function(){return console.log("Returning speaker test tone:",p),p},getWSSUrl:function(){return console.log("Returning txtWebsocketURL:",x),x}},J=void 0,Q=null,Z=null;var X={},ee={isConnected:function(){return"offline"!=Q.getStatus()},sendDTMFWebRTC:function(e){Q.sipSendDTMF(e)},registerWebRTCClient:function(e,t){X=e,Q.init(),Q.loadCredentials(e),"offline"==ee.getWebRTCStatus()?null!=t&&t.onFailure&&t.onFailure():null!=t&&t.onResponse&&t.onResponse()},configureWebRTCClientDevice:function(e){Q.registerCallBacks(e)},setAuthenticatorServerURL:function(e){},toggleSipRegister:function(){Q.resetRegisterAttempts(),Q.sipToggleRegister()},webRTCMuteUnmute:function(e){Q.sipToggleMic()},getMuteStatus:function(){return Q.getMicMuteStatus()},muteAction:function(e){Q.sipMute(e)},holdAction:function(e){Q.sipHold(e)},holdCall:function(){Q.holdCall()},pickCall:function(){Q.pickPhoneCall(),o.onPickCall()},rejectCall:function(){Q.sipHangUp(),o.onRejectCall()},reRegisterWebRTCPhone:function(){Q.reRegister()},playBeepTone:function(){Q.playBeep()},sipUnRegisterWebRTC:function(){Q.sipUnRegister()},startWSNetworkTest:function(){J.testingMode=!0,Q.sipRegister()},stopWSNetworkTest:function(){Q.sipUnRegister()},registerPhone:function(e,t){if(Z=e,"sipjs"===e)Q=Y;o.registerDelegate(t),o.onRegisterWebRTCSIPEngine(e)},getWebRTCStatus:function(){return Q.getStatus()},disconnect:function(){Q&&Q.disconnect()},connect:function(){Q.connect()},getSIPAccountInfo:function(){return X},getWebRTCSIPEngine:function(){return Z},getSpeakerTestTone:function(){try{return Y.getSpeakerTestTone()}catch(e){console.log("getSpeakerTestTone: Exception ",e)}},getWSSUrl:function(){try{return Y.getWSSUrl()}catch(e){console.log("getWSSUrl: Exception ",e)}}}},77:function(e,t,n){"use strict";e.exports=n.p+"static/media/beep.2fbb7f0f87f09e54287f.wav"},24:function(e,t,n){"use strict";e.exports=n.p+"static/media/ringbacktone.9b002be293af5cfbf781.wav"},2:function(e,t,n){"use strict";e.exports=n.p+"static/media/ringtone.c79bd9a78f9efa815c0f.wav"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".8e53b886.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="webrtc:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)c(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkwebrtc=self.webpackChunkwebrtc||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250);function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=JSON.parse('[{"Username":"harsham79e843e5","DisplayName":"Harsha","HostServer":"voip.exotel.in","Domain":"ccplexopoc1m.voip.exotel.com","Port":443,"Password":"webrtc123","CallTimeout":1000,"Security":"wss","AccountSID":"exotelt1","AccountNo":"harsham79e843e5","AutoRegistration":true}]');function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}function g(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}var v=e.createContext();function m(e,t){var n=f({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=b(e[i],t[i],n):r[i]=t[i])})),r}var S=["values","unit","step"];function w(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,o=void 0===r?"px":r,a=e.step,s=void 0===a?5:a,l=i(e,S),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,c({},t.key,t.val))}),{})}(n),d=Object.keys(u);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-s/100).concat(o,")")}function g(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-s/100).concat(o,")")}return f({keys:d,values:u,up:h,down:p,between:g,only:function(e){return d.indexOf(e)+1<d.length?g(e,d[d.indexOf(e)+1]):h(e)},not:function(e){var t=d.indexOf(e);return 0===t?h(d[1]):t===d.length-1?p(d[t]):g(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},l)}var k={borderRadius:4},T={xs:0,sm:600,md:900,lg:1200,xl:1536},C={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(T[e],"px)")}};function E(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||C;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||C;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||T).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function R(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function x(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function I(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),o=Object.keys(i);return 0===o.length?n:o.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}function A(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function P(e){if("string"!==typeof e)throw new Error(A(7));return e.charAt(0).toUpperCase()+e.slice(1)}function _(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function D(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:_(e,n)||i,t&&(r=t(r)),r}var N=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=_(e.theme,i)||{};return E(e,n,(function(e){var n=D(a,o,e);return e===n&&"string"===typeof e&&(n=D(a,o,"".concat(t).concat("default"===e?"":P(e)),e)),!1===r?n:c({},r,n)}))};return a.propTypes={},a.filterProps=[t],a};var M=function(e,t){return t?b(e,t,{clone:!1}):e};var H={m:"margin",p:"padding"},O={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},U={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!U[e])return[e];e=U[e]}var t=s(e.split(""),2),n=t[0],r=t[1],i=H[n],o=O[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],L=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],q=[].concat(j,L);function F(e,t,n,r){var i,o=null!=(i=_(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function z(e){return F(e,"spacing",8)}function B(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function W(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=B(t,n),e}),{})}}($(n),r);return E(e,e[n],i)}function V(e,t){var n=z(e.theme);return Object.keys(e).map((function(r){return W(e,t,r,n)})).reduce(M,{})}function G(e){return V(e,j)}function K(e){return V(e,L)}function Y(e){return V(e,q)}G.propTypes={},G.filterProps=j,K.propTypes={},K.filterProps=L,Y.propTypes={},Y.filterProps=q;var J=Y;function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=z({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Z=["breakpoints","palette","spacing","shape"];var X=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,o=void 0===r?{}:r,a=e.spacing,s=e.shape,c=void 0===s?{}:s,l=i(e,Z),u=w(n),d=Q(a),h=b({breakpoints:u,direction:"ltr",components:{},palette:f({mode:"light"},o),spacing:d,shape:f({},k,c)},l),p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];return h=g.reduce((function(e,t){return b(e,t)}),h)};var ee=e.createContext(null);function te(){return e.useContext(ee)}function ne(e){return 0===Object.keys(e).length}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=te();return!t||ne(t)?e:t},ie=X();var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return re(e)};function ae(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?m(t.components[n].defaultProps,r):r}({theme:oe(r),name:n,props:t});return i}function se(e,t){var n;return f({toolbar:(n={minHeight:56},c(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),c(n,e.up("sm"),{minHeight:64}),n)},t)}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function le(e){if(e.type)return e;if("#"===e.charAt(0))return le(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(A(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(A(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function ue(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function de(e){var t="hsl"===(e=le(e)).type?le(function(e){var t=(e=le(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),ue({type:s,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function fe(e,t){return e=le(e),t=ce(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,ue(e)}function he(e,t){if(e=le(e),t=ce(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ue(e)}function pe(e,t){if(e=le(e),t=ce(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ue(e)}var ge={black:"#000",white:"#fff"},ve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},me={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ye={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},be={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Se={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},we={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ke={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Te=["mode","contrastThreshold","tonalOffset"],Ce={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ge.white,default:ge.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ee={text:{primary:ge.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ge.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Re(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=pe(e.main,i):"dark"===t&&(e.dark=he(e.main,o)))}function xe(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,o=void 0===r?3:r,a=e.tonalOffset,s=void 0===a?.2:a,c=i(e,Te),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Se[200],light:Se[50],dark:Se[400]}:{main:Se[700],light:Se[400],dark:Se[800]}}(n),u=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:me[200],light:me[50],dark:me[400]}:{main:me[500],light:me[300],dark:me[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ye[500],light:ye[300],dark:ye[700]}:{main:ye[700],light:ye[400],dark:ye[800]}}(n),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:we[400],light:we[300],dark:we[700]}:{main:we[700],light:we[500],dark:we[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ke[400],light:ke[300],dark:ke[700]}:{main:ke[800],light:ke[500],dark:ke[900]}}(n),g=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:be[400],light:be[300],dark:be[700]}:{main:"#ed6c02",light:be[500],dark:be[900]}}(n);function v(e){var t=function(e,t){var n=de(e),r=de(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Ee.text.primary)>=o?Ee.text.primary:Ce.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,a=void 0===o?300:o,c=e.darkShade,l=void 0===c?700:c;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(A(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(A(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Re(t,"light",a,s),Re(t,"dark",l,s),t.contrastText||(t.contrastText=v(t.main)),t},y={dark:Ee,light:Ce};return b(f({common:f({},ge),mode:n,primary:m({color:l,name:"primary"}),secondary:m({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:d,name:"error"}),warning:m({color:g,name:"warning"}),info:m({color:h,name:"info"}),success:m({color:p,name:"success"}),grey:ve,contrastThreshold:o,getContrastText:v,augmentColor:m,tonalOffset:s},y[n]),c)}var Ie=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ae={textTransform:"uppercase"},Pe='"Roboto", "Helvetica", "Arial", sans-serif';function _e(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,o=void 0===r?Pe:r,a=n.fontSize,s=void 0===a?14:a,c=n.fontWeightLight,l=void 0===c?300:c,u=n.fontWeightRegular,d=void 0===u?400:u,h=n.fontWeightMedium,p=void 0===h?500:h,g=n.fontWeightBold,v=void 0===g?700:g,m=n.htmlFontSize,y=void 0===m?16:m,S=n.allVariants,w=n.pxToRem,k=i(n,Ie);var T=s/14,C=w||function(e){return"".concat(e/y*T,"rem")},E=function(e,t,n,r,i){return f({fontFamily:o,fontWeight:e,fontSize:C(t),lineHeight:n},o===Pe?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},i,S);var a},R={h1:E(l,96,1.167,-1.5),h2:E(l,60,1.2,-.5),h3:E(d,48,1.167,0),h4:E(d,34,1.235,.25),h5:E(d,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(d,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(d,16,1.5,.15),body2:E(d,14,1.43,.15),button:E(p,14,1.75,.4,Ae),caption:E(d,12,1.66,.4),overline:E(d,12,2.66,1,Ae)};return b(f({htmlFontSize:y,pxToRem:C,fontFamily:o,fontSize:s,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:v},R),k,{clone:!1})}function De(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ne=["none",De(0,2,1,-1,0,1,1,0,0,1,3,0),De(0,3,1,-2,0,2,2,0,0,1,5,0),De(0,3,3,-2,0,3,4,0,0,1,8,0),De(0,2,4,-1,0,4,5,0,0,1,10,0),De(0,3,5,-1,0,5,8,0,0,1,14,0),De(0,3,5,-1,0,6,10,0,0,1,18,0),De(0,4,5,-2,0,7,10,1,0,2,16,1),De(0,5,5,-3,0,8,10,1,0,3,14,2),De(0,5,6,-3,0,9,12,1,0,3,16,2),De(0,6,6,-3,0,10,14,1,0,4,18,3),De(0,6,7,-4,0,11,15,1,0,4,20,3),De(0,7,8,-4,0,12,17,2,0,5,22,4),De(0,7,8,-4,0,13,19,2,0,5,24,4),De(0,7,9,-4,0,14,21,2,0,5,26,4),De(0,8,9,-5,0,15,22,2,0,6,28,5),De(0,8,10,-5,0,16,24,2,0,6,30,5),De(0,8,11,-5,0,17,26,2,0,6,32,5),De(0,9,11,-5,0,18,28,2,0,7,34,6),De(0,9,12,-6,0,19,29,2,0,7,36,6),De(0,10,13,-6,0,20,31,3,0,8,38,7),De(0,10,13,-6,0,21,33,3,0,8,40,7),De(0,10,14,-6,0,22,35,3,0,8,42,7),De(0,11,14,-7,0,23,36,3,0,9,44,8),De(0,11,15,-7,0,24,38,3,0,9,46,8)],Me=["duration","easing","delay"],He={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Oe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ue(e){return"".concat(Math.round(e),"ms")}function $e(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function je(e){var t=f({},He,e.easing),n=f({},Oe,e.duration);return f({getAutoHeightDuration:$e,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.duration,a=void 0===o?n.standard:o,s=r.easing,c=void 0===s?t.easeInOut:s,l=r.delay,u=void 0===l?0:l;i(r,Me);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Ue(a)," ").concat(c," ").concat("string"===typeof u?u:Ue(u))})).join(",")}},e,{easing:t,duration:n})}var Le={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,o=void 0===r?{}:r,a=e.transitions,s=void 0===a?{}:a,c=e.typography,l=void 0===c?{}:c,u=i(e,qe),d=xe(o),h=X(e),p=b(h,{mixins:se(h.breakpoints,n),palette:d,shadows:Ne.slice(),typography:_e(d,l),transitions:je(s),zIndex:f({},Le)});p=b(p,u);for(var g=arguments.length,v=new Array(g>1?g-1:0),m=1;m<g;m++)v[m-1]=arguments[m];return p=v.reduce((function(e,t){return b(e,t)}),p)}var ze=Fe,Be=ze();function We(e){return ae({props:e.props,name:e.name,defaultTheme:Be})}function Ve(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ge=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ke=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ye=Ge((function(e){return Ke.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Je=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Qe=Math.abs,Ze=String.fromCharCode,Xe=Object.assign;function et(e){return e.trim()}function tt(e,t,n){return e.replace(t,n)}function nt(e,t){return e.indexOf(t)}function rt(e,t){return 0|e.charCodeAt(t)}function it(e,t,n){return e.slice(t,n)}function ot(e){return e.length}function at(e){return e.length}function st(e,t){return t.push(e),e}var ct=1,lt=1,ut=0,dt=0,ft=0,ht="";function pt(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ct,column:lt,length:a,return:""}}function gt(e,t){return Xe(pt("",null,null,"",null,null,0),e,{length:-e.length},t)}function vt(){return ft=dt>0?rt(ht,--dt):0,lt--,10===ft&&(lt=1,ct--),ft}function mt(){return ft=dt<ut?rt(ht,dt++):0,lt++,10===ft&&(lt=1,ct++),ft}function yt(){return rt(ht,dt)}function bt(){return dt}function St(e,t){return it(ht,e,t)}function wt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kt(e){return ct=lt=1,ut=ot(ht=e),dt=0,[]}function Tt(e){return ht="",e}function Ct(e){return et(St(dt-1,xt(91===e?e+2:40===e?e+1:e)))}function Et(e){for(;(ft=yt())&&ft<33;)mt();return wt(e)>2||wt(ft)>3?"":" "}function Rt(e,t){for(;--t&&mt()&&!(ft<48||ft>102||ft>57&&ft<65||ft>70&&ft<97););return St(e,bt()+(t<6&&32==yt()&&32==mt()))}function xt(e){for(;mt();)switch(ft){case e:return dt;case 34:case 39:34!==e&&39!==e&&xt(ft);break;case 40:41===e&&xt(e);break;case 92:mt()}return dt}function It(e,t){for(;mt()&&e+ft!==57&&(e+ft!==84||47!==yt()););return"/*"+St(t,dt-1)+"*"+Ze(47===e?e:mt())}function At(e){for(;!wt(yt());)mt();return St(e,dt)}var Pt="-ms-",_t="-moz-",Dt="-webkit-",Nt="comm",Mt="rule",Ht="decl",Ot="@keyframes";function Ut(e,t){for(var n="",r=at(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function $t(e,t,n,r){switch(e.type){case"@import":case Ht:return e.return=e.return||e.value;case Nt:return"";case Ot:return e.return=e.value+"{"+Ut(e.children,r)+"}";case Mt:e.value=e.props.join(",")}return ot(n=Ut(e.children,r))?e.return=e.value+"{"+n+"}":""}function jt(e,t){switch(function(e,t){return(((t<<2^rt(e,0))<<2^rt(e,1))<<2^rt(e,2))<<2^rt(e,3)}(e,t)){case 5103:return Dt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Dt+e+_t+e+Pt+e+e;case 6828:case 4268:return Dt+e+Pt+e+e;case 6165:return Dt+e+Pt+"flex-"+e+e;case 5187:return Dt+e+tt(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Dt+e+Pt+"flex-item-"+tt(e,/flex-|-self/,"")+e;case 4675:return Dt+e+Pt+"flex-line-pack"+tt(e,/align-content|flex-|-self/,"")+e;case 5548:return Dt+e+Pt+tt(e,"shrink","negative")+e;case 5292:return Dt+e+Pt+tt(e,"basis","preferred-size")+e;case 6060:return Dt+"box-"+tt(e,"-grow","")+Dt+e+Pt+tt(e,"grow","positive")+e;case 4554:return Dt+tt(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return tt(tt(tt(e,/(zoom-|grab)/,Dt+"$1"),/(image-set)/,Dt+"$1"),e,"")+e;case 5495:case 3959:return tt(e,/(image-set\([^]*)/,Dt+"$1$`$1");case 4968:return tt(tt(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dt+e+e;case 4095:case 3583:case 4068:case 2532:return tt(e,/(.+)-inline(.+)/,Dt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ot(e)-1-t>6)switch(rt(e,t+1)){case 109:if(45!==rt(e,t+4))break;case 102:return tt(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+_t+(108==rt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~nt(e,"stretch")?jt(tt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==rt(e,t+1))break;case 6444:switch(rt(e,ot(e)-3-(~nt(e,"!important")&&10))){case 107:return tt(e,":",":"+Dt)+e;case 101:return tt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Dt+(45===rt(e,14)?"inline-":"")+"box$3$1"+Dt+"$2$3$1"+Pt+"$2box$3")+e}break;case 5936:switch(rt(e,t+11)){case 114:return Dt+e+Pt+tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Dt+e+Pt+tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Dt+e+Pt+tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Dt+e+Pt+e+e}return e}function Lt(e){return Tt(qt("",null,null,null,[""],e=kt(e),0,[0],e))}function qt(e,t,n,r,i,o,a,s,c){for(var l=0,u=0,d=a,f=0,h=0,p=0,g=1,v=1,m=1,y=0,b="",S=i,w=o,k=r,T=b;v;)switch(p=y,y=mt()){case 40:if(108!=p&&58==T.charCodeAt(d-1)){-1!=nt(T+=tt(Ct(y),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:T+=Ct(y);break;case 9:case 10:case 13:case 32:T+=Et(p);break;case 92:T+=Rt(bt()-1,7);continue;case 47:switch(yt()){case 42:case 47:st(zt(It(mt(),bt()),t,n),c);break;default:T+="/"}break;case 123*g:s[l++]=ot(T)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:h>0&&ot(T)-d&&st(h>32?Bt(T+";",r,n,d-1):Bt(tt(T," ","")+";",r,n,d-2),c);break;case 59:T+=";";default:if(st(k=Ft(T,t,n,l,u,i,s,b,S=[],w=[],d),o),123===y)if(0===u)qt(T,t,k,k,S,o,d,s,w);else switch(f){case 100:case 109:case 115:qt(e,k,k,r&&st(Ft(e,k,k,0,0,i,s,b,i,S=[],d),w),i,w,d,s,r?S:w);break;default:qt(T,k,k,k,[""],w,0,s,w)}}l=u=h=0,g=m=1,b=T="",d=a;break;case 58:d=1+ot(T),h=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==vt())continue;switch(T+=Ze(y),y*g){case 38:m=u>0?1:(T+="\f",-1);break;case 44:s[l++]=(ot(T)-1)*m,m=1;break;case 64:45===yt()&&(T+=Ct(mt())),f=yt(),u=d=ot(b=T+=At(bt())),y++;break;case 45:45===p&&2==ot(T)&&(g=0)}}return o}function Ft(e,t,n,r,i,o,a,s,c,l,u){for(var d=i-1,f=0===i?o:[""],h=at(f),p=0,g=0,v=0;p<r;++p)for(var m=0,y=it(e,d+1,d=Qe(g=a[p])),b=e;m<h;++m)(b=et(g>0?f[m]+" "+y:tt(y,/&\f/g,f[m])))&&(c[v++]=b);return pt(e,t,n,0===i?Mt:s,c,l,u)}function zt(e,t,n){return pt(e,t,n,Nt,Ze(ft),it(e,2,-2),0)}function Bt(e,t,n,r){return pt(e,t,n,Ht,it(e,0,r),it(e,r+1,-1),r)}var Wt=function(e,t,n){for(var r=0,i=0;r=i,i=yt(),38===r&&12===i&&(t[n]=1),!wt(i);)mt();return St(e,dt)},Vt=function(e,t){return Tt(function(e,t){var n=-1,r=44;do{switch(wt(r)){case 0:38===r&&12===yt()&&(t[n]=1),e[n]+=Wt(dt-1,t,n);break;case 2:e[n]+=Ct(r);break;case 4:if(44===r){e[++n]=58===yt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ze(r)}}while(r=mt());return e}(kt(e),t))},Gt=new WeakMap,Kt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Gt.get(n))&&!r){Gt.set(e,!0);for(var i=[],o=Vt(t,i),a=n.props,s=0,c=0;s<o.length;s++)for(var l=0;l<a.length;l++,c++)e.props[c]=i[s]?o[s].replace(/&\f/g,a[l]):a[l]+" "+o[s]}}},Yt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Jt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ht:e.return=jt(e.value,e.length);break;case Ot:return Ut([gt(e,{value:tt(e.value,"@","@"+Dt)})],r);case Mt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ut([gt(e,{props:[tt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Ut([gt(e,{props:[tt(t,/:(plac\w+)/,":-webkit-input-$1")]}),gt(e,{props:[tt(t,/:(plac\w+)/,":-moz-$1")]}),gt(e,{props:[tt(t,/:(plac\w+)/,Pt+"input-$1")]})],r)}return""}))}}],Qt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Jt;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var c,l,u=[$t,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=at(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([Kt,Yt].concat(r,u));o=function(e,t,n,r){c=n,function(e){Ut(Lt(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Je({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return f.sheet.hydrate(s),f};var Zt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Xt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},en=/[A-Z]|^ms/g,tn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nn=function(e){return 45===e.charCodeAt(1)},rn=function(e){return null!=e&&"boolean"!==typeof e},on=Ge((function(e){return nn(e)?e:e.replace(en,"-$&").toLowerCase()})),an=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(tn,(function(e,t,n){return cn={name:t,styles:n,next:cn},t}))}return 1===Xt[e]||nn(e)||"number"!==typeof t||0===t?t:t+"px"};function sn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return cn={name:n.name,styles:n.styles,next:cn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)cn={name:r.name,styles:r.styles,next:cn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=sn(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":rn(a)&&(r+=on(o)+":"+an(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=sn(e,t,a);switch(o){case"animation":case"animationName":r+=on(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)rn(a[c])&&(r+=on(o)+":"+an(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=cn,o=n(e);return cn=i,sn(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var cn,ln=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var un=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";cn=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=sn(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=sn(n,t,e[a]),r&&(i+=o[a]);ln.lastIndex=0;for(var s,c="";null!==(s=ln.exec(i));)c+="-"+s[1];return{name:Zt(i)+c,styles:i,next:cn}},dn=(0,e.createContext)("undefined"!==typeof HTMLElement?Qt({key:"css"}):null);dn.Provider;var fn=function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(dn);return t(n,i,r)}))},hn=(0,e.createContext)({});t.useInsertionEffect&&t.useInsertionEffect;function pn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var gn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},vn=function(e,t,n){gn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},mn=Ye,yn=function(e){return"theme"!==e},bn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?mn:yn},Sn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},wn=t.useInsertionEffect?t.useInsertionEffect:function(e){e()};var kn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;gn(t,n,r);wn((function(){return vn(t,n,r)}));return null},Tn=function t(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var c=Sn(n,r,a),l=c||bn(s),u=!l("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var p=d.length,g=1;g<p;g++)h.push(d[g],d[0][g])}var v=fn((function(t,n,r){var i=u&&t.as||s,a="",d=[],f=t;if(null==t.theme){for(var p in f={},t)f[p]=t[p];f.theme=(0,e.useContext)(hn)}"string"===typeof t.className?a=pn(n.registered,d,t.className):null!=t.className&&(a=t.className+" ");var g=un(h.concat(d),n.registered,f);a+=n.key+"-"+g.name,void 0!==o&&(a+=" "+o);var v=u&&void 0===c?bn(i):l,m={};for(var y in t)u&&"as"===y||v(y)&&(m[y]=t[y]);return m.className=a,m.ref=r,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(kn,{cache:n,serialized:g,isStringTag:"string"===typeof i}),(0,e.createElement)(i,m))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=c,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(e,n){return t(e,f({},r,n,{shouldForwardProp:Sn(v,n,!0)})).apply(void 0,h)},v}},Cn=Tn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Cn[e]=Cn(e)}));var En=Cn;function Rn(e,t){return En(e,t)}var xn=["variant"];function In(e){return 0===e.length}function An(e){var t=e.variant,n=i(e,xn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?In(r)?e[t]:P(e[t]):"".concat(In(r)?t:P(t)).concat(P(e[t].toString()))})),r}var Pn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?M(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function _n(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Dn=N({prop:"border",themeKey:"borders",transform:_n}),Nn=N({prop:"borderTop",themeKey:"borders",transform:_n}),Mn=N({prop:"borderRight",themeKey:"borders",transform:_n}),Hn=N({prop:"borderBottom",themeKey:"borders",transform:_n}),On=N({prop:"borderLeft",themeKey:"borders",transform:_n}),Un=N({prop:"borderColor",themeKey:"palette"}),$n=N({prop:"borderTopColor",themeKey:"palette"}),jn=N({prop:"borderRightColor",themeKey:"palette"}),Ln=N({prop:"borderBottomColor",themeKey:"palette"}),qn=N({prop:"borderLeftColor",themeKey:"palette"}),Fn=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=F(e.theme,"shape.borderRadius",4);return E(e,e.borderRadius,(function(e){return{borderRadius:B(t,e)}}))}return null};Fn.propTypes={},Fn.filterProps=["borderRadius"];var zn=Pn(Dn,Nn,Mn,Hn,On,Un,$n,jn,Ln,qn,Fn),Bn=Pn(N({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),N({prop:"display"}),N({prop:"overflow"}),N({prop:"textOverflow"}),N({prop:"visibility"}),N({prop:"whiteSpace"})),Wn=Pn(N({prop:"flexBasis"}),N({prop:"flexDirection"}),N({prop:"flexWrap"}),N({prop:"justifyContent"}),N({prop:"alignItems"}),N({prop:"alignContent"}),N({prop:"order"}),N({prop:"flex"}),N({prop:"flexGrow"}),N({prop:"flexShrink"}),N({prop:"alignSelf"}),N({prop:"justifyItems"}),N({prop:"justifySelf"})),Vn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=F(e.theme,"spacing",8);return E(e,e.gap,(function(e){return{gap:B(t,e)}}))}return null};Vn.propTypes={},Vn.filterProps=["gap"];var Gn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=F(e.theme,"spacing",8);return E(e,e.columnGap,(function(e){return{columnGap:B(t,e)}}))}return null};Gn.propTypes={},Gn.filterProps=["columnGap"];var Kn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=F(e.theme,"spacing",8);return E(e,e.rowGap,(function(e){return{rowGap:B(t,e)}}))}return null};Kn.propTypes={},Kn.filterProps=["rowGap"];var Yn=Pn(Vn,Gn,Kn,N({prop:"gridColumn"}),N({prop:"gridRow"}),N({prop:"gridAutoFlow"}),N({prop:"gridAutoColumns"}),N({prop:"gridAutoRows"}),N({prop:"gridTemplateColumns"}),N({prop:"gridTemplateRows"}),N({prop:"gridTemplateAreas"}),N({prop:"gridArea"})),Jn=Pn(N({prop:"position"}),N({prop:"zIndex",themeKey:"zIndex"}),N({prop:"top"}),N({prop:"right"}),N({prop:"bottom"}),N({prop:"left"})),Qn=Pn(N({prop:"color",themeKey:"palette"}),N({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),N({prop:"backgroundColor",themeKey:"palette"})),Zn=N({prop:"boxShadow",themeKey:"shadows"});function Xn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var er=N({prop:"width",transform:Xn}),tr=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return E(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||T[t]||Xn(t)}}))}return null};tr.filterProps=["maxWidth"];var nr=N({prop:"minWidth",transform:Xn}),rr=N({prop:"height",transform:Xn}),ir=N({prop:"maxHeight",transform:Xn}),or=N({prop:"minHeight",transform:Xn}),ar=(N({prop:"size",cssProperty:"width",transform:Xn}),N({prop:"size",cssProperty:"height",transform:Xn}),Pn(er,tr,nr,rr,ir,or,N({prop:"boxSizing"}))),sr=N({prop:"fontFamily",themeKey:"typography"}),cr=N({prop:"fontSize",themeKey:"typography"}),lr=N({prop:"fontStyle",themeKey:"typography"}),ur=N({prop:"fontWeight",themeKey:"typography"}),dr=N({prop:"letterSpacing"}),fr=N({prop:"textTransform"}),hr=N({prop:"lineHeight"}),pr=N({prop:"textAlign"}),gr=Pn(N({prop:"typography",cssProperty:!1,themeKey:"typography"}),sr,cr,lr,ur,dr,hr,pr,fr),vr={borders:zn.filterProps,display:Bn.filterProps,flexbox:Wn.filterProps,grid:Yn.filterProps,positions:Jn.filterProps,palette:Qn.filterProps,shadows:Zn.filterProps,sizing:ar.filterProps,spacing:J.filterProps,typography:gr.filterProps},mr={borders:zn,display:Bn,flexbox:Wn,grid:Yn,positions:Jn,palette:Qn,shadows:Zn,sizing:ar,spacing:J,typography:gr},yr=Object.keys(vr).reduce((function(e,t){return vr[t].forEach((function(n){e[n]=mr[t]})),e}),{});function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Sr(e,t){return"function"===typeof e?e(t):e}var wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,o=(c(i={},e,n),c(i,"theme",r),i),a=t[e];return a?a(o):c({},e,n)}function r(e){var i=e||{},o=i.sx,a=i.theme,s=void 0===a?{}:a;if(!o)return null;function l(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var o=R(s.breakpoints),a=Object.keys(o),l=o;return Object.keys(i).forEach((function(e){var o=Sr(i[e],s);if(null!==o&&void 0!==o)if("object"===typeof o)if(t[e])l=M(l,n(e,o,s));else{var a=E({theme:s},o,(function(t){return c({},e,t)}));br(a,o)?l[e]=r({sx:o,theme:s}):l=M(l,a)}else l=M(l,n(e,o,s))})),x(a,l)}return Array.isArray(o)?o.map(l):l(o)}return r}();wr.filterProps=["sx"];var kr=wr,Tr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Cr=["theme"],Er=["theme"];function Rr(e){return 0===Object.keys(e).length}var xr=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ir=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=An(e.props);r[t]=e.style})),r},Ar=function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,c=[],l=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&c.push(t[An(n.props)])})),c};function Pr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var _r=X();var Dr=function(e){return Pr(e)&&"classes"!==e},Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?_r:t,r=e.rootShouldForwardProp,o=void 0===r?Pr:r,a=e.slotShouldForwardProp,c=void 0===a?Pr:a,l=e.styleFunctionSx,u=void 0===l?kr:l;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,l=r.slot,d=r.skipVariantsResolver,h=r.skipSx,p=r.overridesResolver,g=i(r,Tr),v=void 0!==d?d:l&&"Root"!==l||!1,m=h||!1;var y=Pr;"Root"===l?y=o:l&&(y=c);var b=Rn(e,f({shouldForwardProp:y,label:t},g)),S=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var c=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,o=i(t,Cr);return e(f({theme:Rr(r)?n:r},o))}:e})):[],l=e;a&&p&&c.push((function(e){var t=Rr(e.theme)?n:e.theme,r=xr(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=s(n,2),o=r[0],a=r[1];i[o]="function"===typeof a?a(f({},e,{theme:t})):a})),p(e,i)}return null})),a&&!v&&c.push((function(e){var t=Rr(e.theme)?n:e.theme;return Ar(e,Ir(a,t),t,a)})),m||c.push((function(e){var t=Rr(e.theme)?n:e.theme;return u(f({},e,{theme:t}))}));var d=c.length-r.length;if(Array.isArray(e)&&d>0){var h=new Array(d).fill("");(l=[].concat(Ve(e),Ve(h))).raw=[].concat(Ve(e.raw),Ve(h))}else"function"===typeof e&&e.__emotion_real!==e&&(l=function(t){var r=t.theme,o=i(t,Er);return e(f({theme:Rr(r)?n:r},o))});var g=b.apply(void 0,[l].concat(Ve(c)));return g};return b.withConfig&&(S.withConfig=b.withConfig),S}}({defaultTheme:Be,rootShouldForwardProp:Dr}),Mr=Nr,Hr=function(e){return e},Or=function(){var e=Hr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Hr}}}(),Ur={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function $r(e,t){return Ur[t]||"".concat(Or.generate(e),"-").concat(t)}function jr(e,t){var n={};return t.forEach((function(t){n[t]=$r(e,t)})),n}function Lr(e){return $r("MuiTable",e)}jr("MuiTable",["root","stickyHeader"]);var qr=n(184),Fr=["className","component","padding","size","stickyHeader"],zr=Mr("table",{name:"MuiTable",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return f({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":f({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Br="table",Wr=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiTable"}),o=r.className,a=r.component,s=void 0===a?Br:a,c=r.padding,l=void 0===c?"normal":c,u=r.size,d=void 0===u?"medium":u,h=r.stickyHeader,m=void 0!==h&&h,y=i(r,Fr),b=f({},r,{component:s,padding:l,size:d,stickyHeader:m}),S=function(e){var t=e.classes;return g({root:["root",e.stickyHeader&&"stickyHeader"]},Lr,t)}(b),w=e.useMemo((function(){return{padding:l,size:d,stickyHeader:m}}),[l,d,m]);return(0,qr.jsx)(v.Provider,{value:w,children:(0,qr.jsx)(zr,f({as:s,role:s===Br?null:"table",ref:n,className:p(S.root,o),ownerState:b},y))})})),Vr=Wr;var Gr=e.createContext();function Kr(e){return $r("MuiTableBody",e)}jr("MuiTableBody",["root"]);var Yr=["className","component"],Jr=Mr("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-row-group"}),Qr={variant:"body"},Zr="tbody",Xr=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiTableBody"}),r=n.className,o=n.component,a=void 0===o?Zr:o,s=i(n,Yr),c=f({},n,{component:a}),l=function(e){return g({root:["root"]},Kr,e.classes)}(c);return(0,qr.jsx)(Gr.Provider,{value:Qr,children:(0,qr.jsx)(Jr,f({className:p(l.root,r),as:a,ref:t,role:a===Zr?null:"rowgroup",ownerState:c},s))})})),ei=P;function ti(e){return $r("MuiTableCell",e)}var ni=jr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ri=["align","className","component","padding","scope","size","sortDirection","variant"],ii=Mr("td",{name:"MuiTableCell",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(ei(n.size))],"normal"!==n.padding&&t["padding".concat(ei(n.padding))],"inherit"!==n.align&&t["align".concat(ei(n.align))],n.stickyHeader&&t.stickyHeader]}})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.mode?pe(fe(t.palette.divider,1),.88):he(fe(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:t.palette.text.primary},"footer"===n.variant&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&c({padding:"6px 16px"},"&.".concat(ni.paddingCheckbox),{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}),"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default})})),oi=e.forwardRef((function(t,n){var r,o=We({props:t,name:"MuiTableCell"}),a=o.align,s=void 0===a?"inherit":a,c=o.className,l=o.component,u=o.padding,d=o.scope,h=o.size,m=o.sortDirection,y=o.variant,b=i(o,ri),S=e.useContext(v),w=e.useContext(Gr),k=w&&"head"===w.variant;r=l||(k?"th":"td");var T=d;!T&&k&&(T="col");var C=y||w&&w.variant,E=f({},o,{align:s,component:r,padding:u||(S&&S.padding?S.padding:"normal"),size:h||(S&&S.size?S.size:"medium"),sortDirection:m,stickyHeader:"head"===C&&S&&S.stickyHeader,variant:C}),R=function(e){var t=e.classes,n=e.variant,r=e.align,i=e.padding,o=e.size;return g({root:["root",n,e.stickyHeader&&"stickyHeader","inherit"!==r&&"align".concat(ei(r)),"normal"!==i&&"padding".concat(ei(i)),"size".concat(ei(o))]},ti,t)}(E),x=null;return m&&(x="asc"===m?"ascending":"descending"),(0,qr.jsx)(ii,f({as:r,ref:n,className:p(R.root,c),"aria-sort":x,scope:T,ownerState:E},b))})),ai=oi;function si(e){return $r("MuiTableContainer",e)}jr("MuiTableContainer",["root"]);var ci=["className","component"],li=Mr("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,t){return t.root}})({width:"100%",overflowX:"auto"}),ui=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiTableContainer"}),r=n.className,o=n.component,a=void 0===o?"div":o,s=i(n,ci),c=f({},n,{component:a}),l=function(e){return g({root:["root"]},si,e.classes)}(c);return(0,qr.jsx)(li,f({ref:t,as:a,className:p(l.root,r),ownerState:c},s))}));function di(e){return $r("MuiTableHead",e)}jr("MuiTableHead",["root"]);var fi=["className","component"],hi=Mr("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(e,t){return t.root}})({display:"table-header-group"}),pi={variant:"head"},gi="thead",vi=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiTableHead"}),r=n.className,o=n.component,a=void 0===o?gi:o,s=i(n,fi),c=f({},n,{component:a}),l=function(e){return g({root:["root"]},di,e.classes)}(c);return(0,qr.jsx)(Gr.Provider,{value:pi,children:(0,qr.jsx)(hi,f({as:a,className:p(l.root,r),ref:t,role:a===gi?null:"rowgroup",ownerState:c},s))})}));function mi(e){return $r("MuiTableRow",e)}var yi=jr("MuiTableRow",["root","selected","hover","head","footer"]),bi=["className","component","hover","selected"],Si=Mr("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((function(e){var t,n=e.theme;return c(t={color:"inherit",display:"table-row",verticalAlign:"middle",outline:0},"&.".concat(yi.hover,":hover"),{backgroundColor:(n.vars||n).palette.action.hover}),c(t,"&.".concat(yi.selected),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):fe(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):fe(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}),t})),wi=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiTableRow"}),o=r.className,a=r.component,s=void 0===a?"tr":a,c=r.hover,l=void 0!==c&&c,u=r.selected,d=void 0!==u&&u,h=i(r,bi),v=e.useContext(Gr),m=f({},r,{component:s,hover:l,selected:d,head:v&&"head"===v.variant,footer:v&&"footer"===v.variant}),y=function(e){var t=e.classes;return g({root:["root",e.selected&&"selected",e.hover&&"hover",e.head&&"head",e.footer&&"footer"]},mi,t)}(m);return(0,qr.jsx)(Si,f({as:s,ref:n,className:p(y.root,o),role:"tr"===s?null:"row",ownerState:m},h))})),ki=wi;function Ti(e){return $r("MuiPaper",e)}jr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Ci=["className","component","elevation","square","variant"],Ei=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Ri=Mr("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return f({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&f({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(fe("#fff",Ei(r.elevation)),", ").concat(fe("#fff",Ei(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),xi=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiPaper"}),r=n.className,o=n.component,a=void 0===o?"div":o,s=n.elevation,c=void 0===s?1:s,l=n.square,u=void 0!==l&&l,d=n.variant,h=void 0===d?"elevation":d,v=i(n,Ci),m=f({},n,{component:a,elevation:c,square:u,variant:h}),y=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return g({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Ti,i)}(m);return(0,qr.jsx)(Ri,f({as:a,ownerState:m,className:p(y.root,r),ref:t},v))}));n(457);function Ii(){return oe(Be)}function Ai(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}var Pi,_i=Ai;function Di(){if(Pi)return Pi;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Pi="reverse",e.scrollLeft>0?Pi="default":(e.scrollLeft=1,0===e.scrollLeft&&(Pi="negative")),document.body.removeChild(e),Pi}function Ni(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(Di()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Mi(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Hi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?Mi:o,s=r.duration,c=void 0===s?300:s,l=null,u=t[e],d=!1,f=function(){d=!0},h=function r(o){if(d)i(new Error("Animation cancelled"));else{null===l&&(l=o);var s=Math.min(1,(o-l)/c);t[e]=a(s)*(n-u)+u,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};return u===n?(i(new Error("Element already at target position")),f):(requestAnimationFrame(h),f)}function Oi(e){return e&&e.ownerDocument||document}function Ui(e){return Oi(e).defaultView||window}var $i=Ui,ji=["onChange"],Li={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function qi(e){return $r("MuiSvgIcon",e)}jr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Fi=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],zi=Mr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(ei(n.color))],t["fontSize".concat(ei(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,c,l,u,d,f,h,p,g,v,m,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=y.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=y.typography)||null==(c=s.pxToRem)?void 0:c.call(s,24))||"1.5rem",large:(null==(l=y.typography)||null==(u=l.pxToRem)?void 0:u.call(l,35))||"2.1875"}[b.fontSize],color:null!=(d=null==(f=(y.vars||y).palette)||null==(h=f[b.color])?void 0:h.main)?d:{action:null==(p=(y.vars||y).palette)||null==(g=p.action)?void 0:g.active,disabled:null==(v=(y.vars||y).palette)||null==(m=v.action)?void 0:m.disabled,inherit:void 0}[b.color]}})),Bi=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiSvgIcon"}),r=n.children,o=n.className,a=n.color,s=void 0===a?"inherit":a,c=n.component,l=void 0===c?"svg":c,u=n.fontSize,d=void 0===u?"medium":u,h=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,b=n.viewBox,S=void 0===b?"0 0 24 24":b,w=i(n,Fi),k=f({},n,{color:s,component:l,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:S}),T={};m||(T.viewBox=S);var C=function(e){var t=e.color,n=e.fontSize,r=e.classes;return g({root:["root","inherit"!==t&&"color".concat(ei(t)),"fontSize".concat(ei(n))]},qi,r)}(k);return(0,qr.jsxs)(zi,f({as:l,className:p(C.root,o),ownerState:k,focusable:"false",color:h,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},T,w,{children:[r,y?(0,qr.jsx)("title",{children:y}):null]}))}));Bi.muiName="SvgIcon";var Wi=Bi;function Vi(t,n){var r=function(e,r){return(0,qr.jsx)(Wi,f({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))};return r.muiName=Wi.muiName,e.memo(e.forwardRef(r))}var Gi=Vi((0,qr.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Ki=Vi((0,qr.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Yi(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Ji(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){Yi(t,e),Yi(n,e)}}),[t,n])}var Qi=Ji,Zi="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;var Xi,eo=function(t){var n=e.useRef(t);return Zi((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},to=!0,no=!1,ro={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function io(e){e.metaKey||e.altKey||e.ctrlKey||(to=!0)}function oo(){to=!1}function ao(){"hidden"===this.visibilityState&&no&&(to=!0)}function so(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return to||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ro[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var co=function(){var t=e.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",io,!0),t.addEventListener("mousedown",oo,!0),t.addEventListener("pointerdown",oo,!0),t.addEventListener("touchstart",oo,!0),t.addEventListener("visibilitychange",ao,!0))}),[]),n=e.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!so(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(no=!0,window.clearTimeout(Xi),Xi=window.setTimeout((function(){no=!1}),100),n.current=!1,!0)},ref:t}};function lo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}var fo=e.createContext(null);function ho(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function po(e,t,n){return null!=n[t]?n[t]:e.props[t]}function go(t,n,r){var i=ho(t.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r];s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,e.isValidElement)(s)){var c=a in n,l=a in i,u=n[a],d=(0,e.isValidElement)(u)&&!u.props.in;!l||c&&!d?l||!c||d?l&&c&&(0,e.isValidElement)(u)&&(o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:u.props.in,exit:po(s,"exit",t),enter:po(s,"enter",t)})):o[a]=(0,e.cloneElement)(s,{in:!1}):o[a]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:po(s,"exit",t),enter:po(s,"enter",t)})}})),o}var vo=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},mo=function(t){var n,r;function o(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,uo(n,r);var a=o.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(t,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=t,i=a,ho(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:po(t,"appear",r),enter:po(t,"enter",r),exit:po(t,"exit",r)})}))):go(t,o,a),firstRender:!1}},a.handleExited=function(e,t){var n=ho(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var t=this.props,n=t.component,r=t.childFactory,o=i(t,["component","childFactory"]),a=this.state.contextValue,s=vo(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?e.createElement(fo.Provider,{value:a},s):e.createElement(fo.Provider,{value:a},e.createElement(n,o,s))},o}(e.Component);mo.propTypes={},mo.defaultProps={component:"div",childFactory:function(e){return e}};var yo=mo,bo=(n(110),t.useInsertionEffect?t.useInsertionEffect:e.useLayoutEffect),So=fn((function(t,n){var r=t.styles,i=un([r],void 0,(0,e.useContext)(hn)),o=(0,e.useRef)();return bo((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),bo((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&vn(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function wo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return un(t)}var ko=function(){var e=wo.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var To=function(t){var n=t.className,r=t.classes,i=t.pulsate,o=void 0!==i&&i,a=t.rippleX,c=t.rippleY,l=t.rippleSize,u=t.in,d=t.onExited,f=t.timeout,h=s(e.useState(!1),2),g=h[0],v=h[1],m=p(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),y={width:l,height:l,top:-l/2+c,left:-l/2+a},b=p(r.child,g&&r.childLeaving,o&&r.childPulsate);return u||g||v(!0),e.useEffect((function(){if(!u&&null!=d){var e=setTimeout(d,f);return function(){clearTimeout(e)}}}),[d,u,f]),(0,qr.jsx)("span",{className:m,style:y,children:(0,qr.jsx)("span",{className:b})})};var Co,Eo,Ro,xo,Io,Ao,Po,_o,Do=jr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),No=["center","classes","className"],Mo=ko(Io||(Io=Co||(Co=lo(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ho=ko(Ao||(Ao=Eo||(Eo=lo(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Oo=ko(Po||(Po=Ro||(Ro=lo(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Uo=Mr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$o=Mr(To,{name:"MuiTouchRipple",slot:"Ripple"})(_o||(_o=xo||(xo=lo(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Do.rippleVisible,Mo,550,(function(e){return e.theme.transitions.easing.easeInOut}),Do.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Do.child,Do.childLeaving,Ho,550,(function(e){return e.theme.transitions.easing.easeInOut}),Do.childPulsate,Oo,(function(e){return e.theme.transitions.easing.easeInOut})),jo=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiTouchRipple"}),o=r.center,a=void 0!==o&&o,c=r.classes,l=void 0===c?{}:c,u=r.className,d=i(r,No),h=s(e.useState([]),2),g=h[0],v=h[1],m=e.useRef(0),y=e.useRef(null);e.useEffect((function(){y.current&&(y.current(),y.current=null)}),[g]);var b=e.useRef(!1),S=e.useRef(null),w=e.useRef(null),k=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(S.current)}}),[]);var T=e.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;v((function(e){return[].concat(Ve(e),[(0,qr.jsx)($o,{classes:{ripple:p(l.ripple,Do.ripple),rippleVisible:p(l.rippleVisible,Do.rippleVisible),ripplePulsate:p(l.ripplePulsate,Do.ripplePulsate),child:p(l.child,Do.child),childLeaving:p(l.childLeaving,Do.childLeaving),childPulsate:p(l.childPulsate,Do.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,y.current=o}),[l]),C=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,c=t.fakeElement,l=void 0!==c&&c;if("mousedown"===(null==e?void 0:e.type)&&b.current)b.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(b.current=!0);var u,d,f,h=l?null:k.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(p.width/2),d=Math.round(p.height/2);else{var g=e.touches?e.touches[0]:e,v=g.clientX,m=g.clientY;u=Math.round(v-p.left),d=Math.round(m-p.top)}if(s)(f=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(f+=1);else{var y=2*Math.max(Math.abs((h?h.clientWidth:0)-u),u)+2,C=2*Math.max(Math.abs((h?h.clientHeight:0)-d),d)+2;f=Math.sqrt(Math.pow(y,2)+Math.pow(C,2))}null!=e&&e.touches?null===w.current&&(w.current=function(){T({pulsate:i,rippleX:u,rippleY:d,rippleSize:f,cb:n})},S.current=setTimeout((function(){w.current&&(w.current(),w.current=null)}),80)):T({pulsate:i,rippleX:u,rippleY:d,rippleSize:f,cb:n})}}),[a,T]),E=e.useCallback((function(){C({},{pulsate:!0})}),[C]),R=e.useCallback((function(e,t){if(clearTimeout(S.current),"touchend"===(null==e?void 0:e.type)&&w.current)return w.current(),w.current=null,void(S.current=setTimeout((function(){R(e,t)})));w.current=null,v((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:E,start:C,stop:R}}),[E,C,R]),(0,qr.jsx)(Uo,f({className:p(l.root,Do.root,u),ref:k},d,{children:(0,qr.jsx)(yo,{component:null,exit:!0,children:g})}))})),Lo=jo;function qo(e){return $r("MuiButtonBase",e)}var Fo,zo=jr("MuiButtonBase",["root","disabled","focusVisible"]),Bo=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Wo=Mr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((c(Fo={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(zo.disabled),{pointerEvents:"none",cursor:"default"}),c(Fo,"@media print",{colorAdjust:"exact"}),Fo)),Vo=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiButtonBase"}),o=r.action,a=r.centerRipple,c=void 0!==a&&a,l=r.children,u=r.className,d=r.component,h=void 0===d?"button":d,v=r.disabled,m=void 0!==v&&v,y=r.disableRipple,b=void 0!==y&&y,S=r.disableTouchRipple,w=void 0!==S&&S,k=r.focusRipple,T=void 0!==k&&k,C=r.LinkComponent,E=void 0===C?"a":C,R=r.onBlur,x=r.onClick,I=r.onContextMenu,A=r.onDragLeave,P=r.onFocus,_=r.onFocusVisible,D=r.onKeyDown,N=r.onKeyUp,M=r.onMouseDown,H=r.onMouseLeave,O=r.onMouseUp,U=r.onTouchEnd,$=r.onTouchMove,j=r.onTouchStart,L=r.tabIndex,q=void 0===L?0:L,F=r.TouchRippleProps,z=r.touchRippleRef,B=r.type,W=i(r,Bo),V=e.useRef(null),G=e.useRef(null),K=Qi(G,z),Y=co(),J=Y.isFocusVisibleRef,Q=Y.onFocus,Z=Y.onBlur,X=Y.ref,ee=s(e.useState(!1),2),te=ee[0],ne=ee[1];m&&te&&ne(!1),e.useImperativeHandle(o,(function(){return{focusVisible:function(){ne(!0),V.current.focus()}}}),[]);var re=s(e.useState(!1),2),ie=re[0],oe=re[1];e.useEffect((function(){oe(!0)}),[]);var ae=ie&&!b&&!m;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return eo((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}e.useEffect((function(){te&&T&&!b&&ie&&G.current.pulsate()}),[b,T,te,ie]);var ce=se("start",M),le=se("stop",I),ue=se("stop",A),de=se("stop",O),fe=se("stop",(function(e){te&&e.preventDefault(),H&&H(e)})),he=se("start",j),pe=se("stop",U),ge=se("stop",$),ve=se("stop",(function(e){Z(e),!1===J.current&&ne(!1),R&&R(e)}),!1),me=eo((function(e){V.current||(V.current=e.currentTarget),Q(e),!0===J.current&&(ne(!0),_&&_(e)),P&&P(e)})),ye=function(){var e=V.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},be=e.useRef(!1),Se=eo((function(e){T&&!be.current&&te&&G.current&&" "===e.key&&(be.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&ye()&&" "===e.key&&e.preventDefault(),D&&D(e),e.target===e.currentTarget&&ye()&&"Enter"===e.key&&!m&&(e.preventDefault(),x&&x(e))})),we=eo((function(e){T&&" "===e.key&&G.current&&te&&!e.defaultPrevented&&(be.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),N&&N(e),x&&e.target===e.currentTarget&&ye()&&" "===e.key&&!e.defaultPrevented&&x(e)})),ke=h;"button"===ke&&(W.href||W.to)&&(ke=E);var Te={};"button"===ke?(Te.type=void 0===B?"button":B,Te.disabled=m):(W.href||W.to||(Te.role="button"),m&&(Te["aria-disabled"]=m));var Ce=Qi(X,V),Ee=Qi(n,Ce);var Re=f({},r,{centerRipple:c,component:h,disabled:m,disableRipple:b,disableTouchRipple:w,focusRipple:T,tabIndex:q,focusVisible:te}),xe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=g({root:["root",t&&"disabled",n&&"focusVisible"]},qo,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Re);return(0,qr.jsxs)(Wo,f({as:ke,className:p(xe.root,u),ownerState:Re,onBlur:ve,onClick:x,onContextMenu:le,onFocus:me,onKeyDown:Se,onKeyUp:we,onMouseDown:ce,onMouseLeave:fe,onMouseUp:de,onDragLeave:ue,onTouchEnd:pe,onTouchMove:ge,onTouchStart:he,ref:Ee,tabIndex:m?-1:q,type:B},Te,W,{children:[l,ae?(0,qr.jsx)(Lo,f({ref:K,center:c},F)):null]}))})),Go=Vo;function Ko(e){return $r("MuiTabScrollButton",e)}var Yo,Jo,Qo=jr("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Zo=["className","direction","orientation","disabled"],Xo=Mr(Go,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return f(c({width:40,flexShrink:0,opacity:.8},"&.".concat(Qo.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),ea=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiTabScrollButton"}),r=n.className,o=n.direction,a=i(n,Zo),s=f({isRtl:"rtl"===Ii().direction},n),c=function(e){var t=e.classes;return g({root:["root",e.orientation,e.disabled&&"disabled"]},Ko,t)}(s);return(0,qr.jsx)(Xo,f({component:"div",className:p(c.root,r),ref:t,role:null,ownerState:s,tabIndex:null},a,{children:"left"===o?Yo||(Yo=(0,qr.jsx)(Gi,{fontSize:"small"})):Jo||(Jo=(0,qr.jsx)(Ki,{fontSize:"small"}))}))}));function ta(e){return $r("MuiTabs",e)}var na=jr("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),ra=Oi,ia=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],oa=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},aa=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},sa=function(e,t,n){for(var r=!1,i=n(e,t);i;){if(i===e.firstChild){if(r)return;r=!0}var o=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!o)return void i.focus();i=n(e,i)}},ca=Mr("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[c({},"& .".concat(na.scrollButtons),t.scrollButtons),c({},"& .".concat(na.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return f({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&c({},"& .".concat(na.scrollButtons),c({},n.breakpoints.down("sm"),{display:"none"})))})),la=Mr("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return f({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),ua=Mr("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return f({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),da=Mr("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return f({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),fa=Mr((function(t){var n=t.onChange,r=i(t,ji),o=e.useRef(),a=e.useRef(null),s=function(){o.current=a.current.offsetHeight-a.current.clientHeight};return e.useEffect((function(){var e=_i((function(){var e=o.current;s(),e!==o.current&&n(o.current)})),t=$i(a.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[n]),e.useEffect((function(){s(),n(o.current)}),[n]),(0,qr.jsx)("div",f({style:Li,ref:a},r))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ha={},pa=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiTabs"}),o=Ii(),a="rtl"===o.direction,l=r["aria-label"],u=r["aria-labelledby"],d=r.action,h=r.centered,v=void 0!==h&&h,m=r.children,y=r.className,b=r.component,S=void 0===b?"div":b,w=r.allowScrollButtonsMobile,k=void 0!==w&&w,T=r.indicatorColor,C=void 0===T?"primary":T,E=r.onChange,R=r.orientation,x=void 0===R?"horizontal":R,I=r.ScrollButtonComponent,A=void 0===I?ea:I,P=r.scrollButtons,_=void 0===P?"auto":P,D=r.selectionFollowsFocus,N=r.TabIndicatorProps,M=void 0===N?{}:N,H=r.TabScrollButtonProps,O=void 0===H?{}:H,U=r.textColor,$=void 0===U?"primary":U,j=r.value,L=r.variant,q=void 0===L?"standard":L,F=r.visibleScrollbar,z=void 0!==F&&F,B=i(r,ia),W="scrollable"===q,V="vertical"===x,G=V?"scrollTop":"scrollLeft",K=V?"top":"left",Y=V?"bottom":"right",J=V?"clientHeight":"clientWidth",Q=V?"height":"width",Z=f({},r,{component:S,allowScrollButtonsMobile:k,indicatorColor:C,orientation:x,vertical:V,scrollButtons:_,textColor:$,variant:q,visibleScrollbar:z,fixed:!W,hideScrollbar:W&&!z,scrollableX:W&&!V,scrollableY:W&&V,centered:v&&!W,scrollButtonsHideMobile:!k}),X=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,i=e.scrollableX;return g({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",e.scrollableY&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",e.centered&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",e.scrollButtonsHideMobile&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},ta,e.classes)}(Z);var ee=s(e.useState(!1),2),te=ee[0],ne=ee[1],re=s(e.useState(ha),2),ie=re[0],oe=re[1],ae=s(e.useState({start:!1,end:!1}),2),se=ae[0],ce=ae[1],le=s(e.useState({overflow:"hidden",scrollbarWidth:0}),2),ue=le[0],de=le[1],fe=new Map,he=e.useRef(null),pe=e.useRef(null),ge=function(){var e,t,n=he.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:Ni(n,o.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==j){var i=pe.current.children;if(i.length>0){var a=i[fe.get(j)];0,t=a?a.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},ve=eo((function(){var e,t,n=ge(),r=n.tabsMeta,i=n.tabMeta,o=0;if(V)t="top",i&&r&&(o=i.top-r.top+r.scrollTop);else if(t=a?"right":"left",i&&r){var s=a?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;o=(a?-1:1)*(i[t]-r[t]+s)}var l=(c(e={},t,o),c(e,Q,i?i[Q]:0),e);if(isNaN(ie[t])||isNaN(ie[Q]))oe(l);else{var u=Math.abs(ie[t]-l[t]),d=Math.abs(ie[Q]-l[Q]);(u>=1||d>=1)&&oe(l)}})),me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.animation,r=void 0===n||n;r?Hi(G,he.current,e,{duration:o.transitions.duration.standard}):he.current[G]=e},ye=function(e){var t=he.current[G];V?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===Di()?-1:1),me(t)},be=function(){var e=he.current[J],t=0,n=Array.from(pe.current.children),r=function(e){var t=he.current[J],n=Math.round(he.current[G]),r=Math.round(n+t),i=V?"offsetTop":"offsetLeft";return e.find((function(e){var t=e[i]+e[J]/2;return t>=n&&t<=r}))}(n);if(r&&r[J]>e)return r[J];for(var i=0;i<n.length;i+=1){var o=n[i];if(t+o[J]>e)break;t+=o[J]}return t},Se=function(){ye(-1*be())},we=function(){ye(be())},ke=e.useCallback((function(e){de({overflow:null,scrollbarWidth:e})}),[]),Te=eo((function(e){var t=ge(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[K]<n[K]){var i=n[G]+(r[K]-n[K]);me(i,{animation:e})}else if(r[Y]>n[Y]){var o=n[G]+(r[Y]-n[Y]);me(o,{animation:e})}})),Ce=eo((function(){if(W&&!1!==_){var e,t,n=he.current,r=n.scrollTop,i=n.scrollHeight,s=n.clientHeight,c=n.scrollWidth,l=n.clientWidth;if(V)e=r>1,t=r<i-s-1;else{var u=Ni(he.current,o.direction);e=a?u<c-l-1:u>1,t=a?u>1:u<c-l-1}e===se.start&&t===se.end||ce({start:e,end:t})}}));e.useEffect((function(){var e,t=_i((function(){ve(),Ce()})),n=$i(he.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(pe.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[ve,Ce]);var Ee=e.useMemo((function(){return _i((function(){Ce()}))}),[Ce]);e.useEffect((function(){return function(){Ee.clear()}}),[Ee]),e.useEffect((function(){ne(!0)}),[]),e.useEffect((function(){ve(),Ce()})),e.useEffect((function(){Te(ha!==ie)}),[Te,ie]),e.useImperativeHandle(d,(function(){return{updateIndicator:ve,updateScrollButtons:Ce}}),[ve,Ce]);var Re=(0,qr.jsx)(da,f({},M,{className:p(X.indicator,M.className),ownerState:Z,style:f({},ie,M.style)})),xe=0,Ie=e.Children.map(m,(function(t){if(!e.isValidElement(t))return null;var n=void 0===t.props.value?xe:t.props.value;fe.set(n,xe);var r=n===j;return xe+=1,e.cloneElement(t,f({fullWidth:"fullWidth"===q,indicator:r&&!te&&Re,selected:r,selectionFollowsFocus:D,onChange:E,textColor:$,value:n},1!==xe||!1!==j||t.props.tabIndex?{}:{tabIndex:0}))})),Ae=function(){var e={};e.scrollbarSizeListener=W?(0,qr.jsx)(fa,{onChange:ke,className:p(X.scrollableX,X.hideScrollbar)}):null;var t=se.start||se.end,n=W&&("auto"===_&&t||!0===_);return e.scrollButtonStart=n?(0,qr.jsx)(A,f({orientation:x,direction:a?"right":"left",onClick:Se,disabled:!se.start},O,{className:p(X.scrollButtons,O.className)})):null,e.scrollButtonEnd=n?(0,qr.jsx)(A,f({orientation:x,direction:a?"left":"right",onClick:we,disabled:!se.end},O,{className:p(X.scrollButtons,O.className)})):null,e}();return(0,qr.jsxs)(ca,f({className:p(X.root,y),ownerState:Z,ref:n,as:S},B,{children:[Ae.scrollButtonStart,Ae.scrollbarSizeListener,(0,qr.jsxs)(la,{className:X.scroller,ownerState:Z,style:c({overflow:ue.overflow},V?"margin".concat(a?"Left":"Right"):"marginBottom",z?void 0:-ue.scrollbarWidth),ref:he,onScroll:Ee,children:[(0,qr.jsx)(ua,{"aria-label":l,"aria-labelledby":u,"aria-orientation":"vertical"===x?"vertical":null,className:X.flexContainer,ownerState:Z,onKeyDown:function(e){var t=pe.current,n=ra(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===x?"ArrowLeft":"ArrowUp",i="horizontal"===x?"ArrowRight":"ArrowDown";switch("horizontal"===x&&a&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),sa(t,n,aa);break;case i:e.preventDefault(),sa(t,n,oa);break;case"Home":e.preventDefault(),sa(t,null,oa);break;case"End":e.preventDefault(),sa(t,null,aa)}}},ref:pe,role:"tablist",children:Ie}),te&&Re]}),Ae.scrollButtonEnd]}))})),ga=pa;function va(e){return $r("MuiTab",e)}var ma=jr("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ya=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],ba=Mr(Go,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(ei(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return f({},i.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&c({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(ma.iconWrapper),f({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:i.spacing(1)},"end"===o.iconPosition&&{marginLeft:i.spacing(1)})),"inherit"===o.textColor&&(c(t={color:"inherit",opacity:.6},"&.".concat(ma.selected),{opacity:1}),c(t,"&.".concat(ma.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),t),"primary"===o.textColor&&(c(n={color:(i.vars||i).palette.text.secondary},"&.".concat(ma.selected),{color:(i.vars||i).palette.primary.main}),c(n,"&.".concat(ma.disabled),{color:(i.vars||i).palette.text.disabled}),n),"secondary"===o.textColor&&(c(r={color:(i.vars||i).palette.text.secondary},"&.".concat(ma.selected),{color:(i.vars||i).palette.secondary.main}),c(r,"&.".concat(ma.disabled),{color:(i.vars||i).palette.text.disabled}),r),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:i.typography.pxToRem(12)})})),Sa=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiTab"}),o=r.className,a=r.disabled,s=void 0!==a&&a,c=r.disableFocusRipple,l=void 0!==c&&c,u=r.fullWidth,d=r.icon,h=r.iconPosition,v=void 0===h?"top":h,m=r.indicator,y=r.label,b=r.onChange,S=r.onClick,w=r.onFocus,k=r.selected,T=r.selectionFollowsFocus,C=r.textColor,E=void 0===C?"inherit":C,R=r.value,x=r.wrapped,I=void 0!==x&&x,A=i(r,ya),P=f({},r,{disabled:s,disableFocusRipple:l,selected:k,icon:!!d,iconPosition:v,label:!!y,fullWidth:u,textColor:E,wrapped:I}),_=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,i=e.wrapped,o=e.icon,a=e.label,s=e.selected,c=e.disabled;return g({root:["root",o&&a&&"labelIcon","textColor".concat(ei(n)),r&&"fullWidth",i&&"wrapped",s&&"selected",c&&"disabled"],iconWrapper:["iconWrapper"]},va,t)}(P),D=d&&y&&e.isValidElement(d)?e.cloneElement(d,{className:p(_.iconWrapper,d.props.className)}):d;return(0,qr.jsxs)(ba,f({focusRipple:!l,className:p(_.root,o),ref:n,role:"tab","aria-selected":k,disabled:s,onClick:function(e){!k&&b&&b(e,R),S&&S(e)},onFocus:function(e){T&&!k&&b&&b(e,R),w&&w(e)},ownerState:P,tabIndex:k?0:-1},A,{children:["top"===v||"start"===v?(0,qr.jsxs)(e.Fragment,{children:[D,y]}):(0,qr.jsxs)(e.Fragment,{children:[y,D]}),m]}))})),wa=["sx"];function ka(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){yr[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(i(e,wa)),o=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[o].concat(Ve(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return y(e)?f({},o,e):o}:f({},o,n),f({},a,{sx:t})}function Ta(e){return $r("MuiTypography",e)}jr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Ca=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Ea=Mr("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(ei(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return f({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Ra={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},xa={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ia=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiTypography"}),r=function(e){return xa[e]||e}(n.color),o=ka(f({},n,{color:r})),a=o.align,s=void 0===a?"inherit":a,c=o.className,l=o.component,u=o.gutterBottom,d=void 0!==u&&u,h=o.noWrap,v=void 0!==h&&h,m=o.paragraph,y=void 0!==m&&m,b=o.variant,S=void 0===b?"body1":b,w=o.variantMapping,k=void 0===w?Ra:w,T=i(o,Ca),C=f({},o,{align:s,color:r,className:c,component:l,gutterBottom:d,noWrap:v,paragraph:y,variant:S,variantMapping:k}),E=l||(y?"p":k[S]||Ra[S])||"span",R=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,o=e.variant,a=e.classes;return g({root:["root",o,"inherit"!==e.align&&"align".concat(ei(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Ta,a)}(C);return(0,qr.jsx)(Ea,f({as:E,ref:t,ownerState:C,className:p(R.root,c)},T))})),Aa=Ia,Pa=["className","component"];var _a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultTheme,r=t.defaultClassName,o=void 0===r?"MuiBox-root":r,a=t.generateClassName,s=t.styleFunctionSx,c=void 0===s?kr:s,l=Rn("div")(c),u=e.forwardRef((function(e,t){var r=oe(n),s=ka(e),c=s.className,u=s.component,d=void 0===u?"div":u,h=i(s,Pa);return(0,qr.jsx)(l,f({as:d,ref:t,className:p(c,a?a(o):o),theme:r},h))}));return u}({defaultTheme:ze(),defaultClassName:"MuiBox-root",generateClassName:Or.generate}),Da=_a;var Na=e.createContext();function Ma(e){return $r("MuiGrid",e)}var Ha=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Oa=jr("MuiGrid",["root","container","item","zeroMinWidth"].concat(Ve([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),Ve(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),Ve(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),Ve(Ha.map((function(e){return"grid-xs-".concat(e)}))),Ve(Ha.map((function(e){return"grid-sm-".concat(e)}))),Ve(Ha.map((function(e){return"grid-md-".concat(e)}))),Ve(Ha.map((function(e){return"grid-lg-".concat(e)}))),Ve(Ha.map((function(e){return"grid-xl-".concat(e)}))))),Ua=Oa,$a=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ja(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}var La=Mr("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,o=n.item,a=n.spacing,s=n.wrap,c=n.zeroMinWidth,l=n.breakpoints,u=[];r&&(u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach((function(t){var i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(a,l,t));var d=[];return l.forEach((function(e){var r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,c&&t.zeroMinWidth].concat(Ve(u),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==s&&t["wrap-xs-".concat(String(s))]],d)}})((function(e){var t=e.ownerState;return f({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme;return E({theme:t},I({values:e.ownerState.direction,breakpoints:t.breakpoints.values}),(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Ua.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,o={};if(r&&0!==i){var a=I({values:i,breakpoints:t.breakpoints.values});o=E({theme:t},a,(function(e){var n=t.spacing(e);return"0px"!==n?c({marginTop:"-".concat(ja(n))},"& > .".concat(Ua.item),{paddingTop:ja(n)}):{}}))}return o}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,o={};if(r&&0!==i){var a=I({values:i,breakpoints:t.breakpoints.values});o=E({theme:t},a,(function(e){var n=t.spacing(e);return"0px"!==n?c({width:"calc(100% + ".concat(ja(n),")"),marginLeft:"-".concat(ja(n))},"& > .".concat(Ua.item),{paddingLeft:ja(n)}):{}}))}return o}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var a=I({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[i]:a;if(void 0===s||null===s)return e;var c="".concat(Math.round(t/s*1e8)/1e6,"%"),l={};if(r.container&&r.item&&0!==r.columnSpacing){var u=n.spacing(r.columnSpacing);if("0px"!==u){var d="calc(".concat(c," + ").concat(ja(u),")");l={flexBasis:d,maxWidth:d}}}o=f({flexBasis:c,flexGrow:0,maxWidth:c},l)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));var qa=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,o=e.spacing,a=e.wrap,s=e.zeroMinWidth,c=e.breakpoints,l=[];n&&(l=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var r=e[t];if(Number(r)>0){var i="spacing-".concat(t,"-").concat(String(r));n.push(i)}})),n}(o,c));var u=[];return c.forEach((function(t){var n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))})),g({root:["root",n&&"container",i&&"item",s&&"zeroMinWidth"].concat(Ve(l),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==a&&"wrap-xs-".concat(String(a))],u)},Ma,t)},Fa=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiGrid"}),o=Ii().breakpoints,a=ka(r),s=a.className,c=a.columns,l=a.columnSpacing,u=a.component,d=void 0===u?"div":u,h=a.container,g=void 0!==h&&h,v=a.direction,m=void 0===v?"row":v,y=a.item,b=void 0!==y&&y,S=a.rowSpacing,w=a.spacing,k=void 0===w?0:w,T=a.wrap,C=void 0===T?"wrap":T,E=a.zeroMinWidth,R=void 0!==E&&E,x=i(a,$a),I=S||k,A=l||k,P=e.useContext(Na),_=g?c||12:P,D={},N=f({},x);o.keys.forEach((function(e){null!=x[e]&&(D[e]=x[e],delete N[e])}));var M=f({},a,{columns:_,container:g,direction:m,item:b,rowSpacing:I,columnSpacing:A,wrap:C,zeroMinWidth:R,spacing:k},D,{breakpoints:o.keys}),H=qa(M);return(0,qr.jsx)(Na.Provider,{value:_,children:(0,qr.jsx)(La,f({ownerState:M,className:p(H.root,s),as:d,ref:n},N))})})),za=Fa,Ba=["component","direction","spacing","divider","children"];function Wa(t,n){var r=e.Children.toArray(t).filter(Boolean);return r.reduce((function(t,i,o){return t.push(i),o<r.length-1&&t.push(e.cloneElement(n,{key:"separator-".concat(o)})),t}),[])}var Va=Mr("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=f({display:"flex"},E({theme:n},I({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=z(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),a=I({values:t.direction,base:o});r=b(r,E({theme:n},I({values:t.spacing,base:o}),(function(e,n){return{"& > :not(style) + :not(style)":c({margin:0},"margin".concat((r=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),B(i,e))};var r})))}return r})),Ga=e.forwardRef((function(e,t){var n=ka(We({props:e,name:"MuiStack"})),r=n.component,o=void 0===r?"div":r,a=n.direction,s=void 0===a?"column":a,c=n.spacing,l=void 0===c?0:c,u=n.divider,d=n.children,h=i(n,Ba),p={direction:s,spacing:l};return(0,qr.jsx)(Va,f({as:o,ownerState:p,ref:t},h,{children:u?Wa(d,u):d}))})),Ka=Ga;function Ya(e){return $r("MuiButton",e)}var Ja=jr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Qa=e.createContext({}),Za=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Xa=function(e){return f({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},es=Mr(Go,{shouldForwardProp:function(e){return Dr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(ei(n.color))],t["size".concat(ei(n.size))],t["".concat(n.variant,"Size").concat(ei(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return f({},i.typography.button,(c(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":f({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):fe(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):fe(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((i.vars||i).palette[o.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):fe(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(i.vars||i).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[o.color].main}}),"&:active":f({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Ja.focusVisible),f({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[6]})),c(t,"&.".concat(Ja.disabled),f({color:(i.vars||i).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===o.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat(fe(i.palette[o.color].main,.5))},"contained"===o.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].contrastText,backgroundColor:(i.vars||i).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(c(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Ja.focusVisible),{boxShadow:"none"}),c(t,"&:active",{boxShadow:"none"}),c(t,"&.".concat(Ja.disabled),{boxShadow:"none"}),t)})),ts=Mr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(ei(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Xa(t))})),ns=Mr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(ei(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Xa(t))})),rs=e.forwardRef((function(t,n){var r=e.useContext(Qa),o=We({props:m(r,t),name:"MuiButton"}),a=o.children,s=o.color,c=void 0===s?"primary":s,l=o.component,u=void 0===l?"button":l,d=o.className,h=o.disabled,v=void 0!==h&&h,y=o.disableElevation,b=void 0!==y&&y,S=o.disableFocusRipple,w=void 0!==S&&S,k=o.endIcon,T=o.focusVisibleClassName,C=o.fullWidth,E=void 0!==C&&C,R=o.size,x=void 0===R?"medium":R,I=o.startIcon,A=o.type,P=o.variant,_=void 0===P?"text":P,D=i(o,Za),N=f({},o,{color:c,component:u,disabled:v,disableElevation:b,disableFocusRipple:w,fullWidth:E,size:x,type:A,variant:_}),M=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,a=e.classes;return f({},a,g({root:["root",o,"".concat(o).concat(ei(t)),"size".concat(ei(i)),"".concat(o,"Size").concat(ei(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(ei(i))],endIcon:["endIcon","iconSize".concat(ei(i))]},Ya,a))}(N),H=I&&(0,qr.jsx)(ts,{className:M.startIcon,ownerState:N,children:I}),O=k&&(0,qr.jsx)(ns,{className:M.endIcon,ownerState:N,children:k});return(0,qr.jsxs)(es,f({ownerState:N,className:p(d,r.className),component:u,disabled:v,focusRipple:!w,focusVisibleClassName:p(M.focusVisible,T),ref:n,type:A},D,{classes:M,children:[H,a,O]}))})),is=rs,os=["onChange","maxRows","minRows","style","value"];function as(e,t){return parseInt(e[t],10)||0}var ss={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},cs=e.forwardRef((function(t,n){var r=t.onChange,o=t.maxRows,a=t.minRows,c=void 0===a?1:a,l=t.style,u=t.value,d=i(t,os),h=e.useRef(null!=u).current,p=e.useRef(null),g=Ji(n,p),v=e.useRef(null),m=e.useRef(0),y=s(e.useState({}),2),b=y[0],S=y[1],w=e.useCallback((function(){var e=p.current,n=Ui(e).getComputedStyle(e);if("0px"!==n.width){var r=v.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=as(n,"padding-bottom")+as(n,"padding-top"),s=as(n,"border-bottom-width")+as(n,"border-top-width"),l=r.scrollHeight;r.value="x";var u=r.scrollHeight,d=l;c&&(d=Math.max(Number(c)*u,d)),o&&(d=Math.min(Number(o)*u,d));var f=(d=Math.max(d,u))+("border-box"===i?a+s:0),h=Math.abs(d-l)<=1;S((function(e){return m.current<20&&(f>0&&Math.abs((e.outerHeightStyle||0)-f)>1||e.overflow!==h)?(m.current+=1,{overflow:h,outerHeightStyle:f}):e}))}}),[o,c,t.placeholder]);e.useEffect((function(){var e,t=Ai((function(){m.current=0,w()})),n=Ui(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),Zi((function(){w()})),e.useEffect((function(){m.current=0}),[u]);return(0,qr.jsxs)(e.Fragment,{children:[(0,qr.jsx)("textarea",f({value:u,onChange:function(e){m.current=0,h||w(),r&&r(e)},ref:g,rows:c,style:f({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},l)},d)),(0,qr.jsx)("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:v,tabIndex:-1,style:f({},ss,l,{padding:0})})]})})),ls=cs;var us=function(e){return"string"===typeof e};var ds=e.createContext();var fs=Zi;function hs(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,qr.jsx)(So,{styles:i})}var ps=function(e){return(0,qr.jsx)(hs,f({},e,{defaultTheme:Be}))};function gs(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function vs(e){return $r("MuiInputBase",e)}var ms=jr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ys=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],bs=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(ei(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Ss=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ws=Mr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:bs})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body1,c({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(ms.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&f({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),ks=Mr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ss})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=f({color:"currentColor"},n.vars?{opacity:n.vars.opacity.placeholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),a={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.placeholder}:{opacity:i?.42:.5};return f((c(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(ms.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),c(t,"&.".concat(ms.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),c(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),Ts=(0,qr.jsx)(ps,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Cs=e.forwardRef((function(t,n){var r=We({props:t,name:"MuiInputBase"}),o=r["aria-describedby"],a=r.autoComplete,c=r.autoFocus,l=r.className,u=r.components,d=void 0===u?{}:u,h=r.componentsProps,v=void 0===h?{}:h,m=r.defaultValue,y=r.disabled,b=r.disableInjectingGlobalStyles,S=r.endAdornment,w=r.fullWidth,k=void 0!==w&&w,T=r.id,C=r.inputComponent,E=void 0===C?"input":C,R=r.inputProps,x=void 0===R?{}:R,I=r.inputRef,P=r.maxRows,_=r.minRows,D=r.multiline,N=void 0!==D&&D,M=r.name,H=r.onBlur,O=r.onChange,U=r.onClick,$=r.onFocus,j=r.onKeyDown,L=r.onKeyUp,q=r.placeholder,F=r.readOnly,z=r.renderSuffix,B=r.rows,W=r.startAdornment,V=r.type,G=void 0===V?"text":V,K=r.value,Y=i(r,ys),J=null!=x.value?x.value:K,Q=e.useRef(null!=J).current,Z=e.useRef(),X=e.useCallback((function(e){0}),[]),ee=Qi(x.ref,X),te=Qi(I,ee),ne=Qi(Z,te),re=s(e.useState(!1),2),ie=re[0],oe=re[1],ae=e.useContext(ds);var se=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});se.focused=ae?ae.focused:ie,e.useEffect((function(){!ae&&y&&ie&&(oe(!1),H&&H())}),[ae,y,ie,H]);var ce=ae&&ae.onFilled,le=ae&&ae.onEmpty,ue=e.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(gs(e.value)&&""!==e.value||t&&gs(e.defaultValue)&&""!==e.defaultValue)}(e)?le&&le():ce&&ce()}),[ce,le]);fs((function(){Q&&ue({value:J})}),[J,ue,Q]);e.useEffect((function(){ue(Z.current)}),[]);var de=E,fe=x;N&&"input"===de&&(fe=f(B?{type:void 0,minRows:B,maxRows:B}:{type:void 0,maxRows:P,minRows:_},fe),de=ls);e.useEffect((function(){ae&&ae.setAdornedStart(Boolean(W))}),[ae,W]);var he=f({},r,{color:se.color||"primary",disabled:se.disabled,endAdornment:S,error:se.error,focused:se.focused,formControl:ae,fullWidth:k,hiddenLabel:se.hiddenLabel,multiline:N,size:se.size,startAdornment:W,type:G}),pe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,c=e.fullWidth,l=e.hiddenLabel,u=e.multiline,d=e.size,f=e.startAdornment,h=e.type;return g({root:["root","color".concat(ei(n)),r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",s&&"formControl","small"===d&&"sizeSmall",u&&"multiline",f&&"adornedStart",o&&"adornedEnd",l&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",u&&"inputMultiline","small"===d&&"inputSizeSmall",l&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd"]},vs,t)}(he),ge=d.Root||ws,ve=v.root||{},me=d.Input||ks;return fe=f({},fe,v.input),(0,qr.jsxs)(e.Fragment,{children:[!b&&Ts,(0,qr.jsxs)(ge,f({},ve,!us(ge)&&{ownerState:f({},he,ve.ownerState)},{ref:n,onClick:function(e){Z.current&&e.currentTarget===e.target&&Z.current.focus(),U&&U(e)}},Y,{className:p(pe.root,ve.className,l),children:[W,(0,qr.jsx)(ds.Provider,{value:null,children:(0,qr.jsx)(me,f({ownerState:he,"aria-invalid":se.error,"aria-describedby":o,autoComplete:a,autoFocus:c,defaultValue:m,disabled:se.disabled,id:T,onAnimationStart:function(e){ue("mui-auto-fill-cancel"===e.animationName?Z.current:{value:"x"})},name:M,placeholder:q,readOnly:F,required:se.required,rows:B,value:J,onKeyDown:j,onKeyUp:L,type:G},fe,!us(me)&&{as:de,ownerState:f({},he,fe.ownerState)},{ref:ne,className:p(pe.input,fe.className),onBlur:function(e){H&&H(e),x.onBlur&&x.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):oe(!1)},onChange:function(e){if(!Q){var t=e.target||Z.current;if(null==t)throw new Error(A(1));ue({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];x.onChange&&x.onChange.apply(x,[e].concat(r)),O&&O.apply(void 0,[e].concat(r))},onFocus:function(e){se.disabled?e.stopPropagation():($&&$(e),x.onFocus&&x.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):oe(!0))}}))}),S,z?z(f({},se,{startAdornment:W})):null]}))]})})),Es=Cs;function Rs(e){return $r("MuiInput",e)}var xs=f({},ms,jr("MuiInput",["root","underline","input"])),Is=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],As=Mr(ws,{shouldForwardProp:function(e){return Dr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Ve(bs(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputTouchBottomLine,")")),f({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(c(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(xs.focused,":after"),{transform:"scaleX(1) translateX(0)"}),c(t,"&.".concat(xs.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),c(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),c(t,"&:hover:not(.".concat(xs.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),c(t,"&.".concat(xs.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Ps=Mr(ks,{name:"MuiInput",slot:"Input",overridesResolver:Ss})({}),_s=e.forwardRef((function(e,t){var n=We({props:e,name:"MuiInput"}),r=n.disableUnderline,o=n.components,a=void 0===o?{}:o,s=n.componentsProps,c=n.fullWidth,l=void 0!==c&&c,u=n.inputComponent,d=void 0===u?"input":u,h=n.multiline,p=void 0!==h&&h,v=n.type,m=void 0===v?"text":v,y=i(n,Is),S=function(e){var t=e.classes;return f({},t,g({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Rs,t))}(n),w={root:{ownerState:{disableUnderline:r}}},k=s?b(s,w):w;return(0,qr.jsx)(Es,f({components:f({Root:As,Input:Ps},a),componentsProps:k,fullWidth:l,inputComponent:d,multiline:p,ref:t,type:m},y,{classes:S}))}));_s.muiName="Input";var Ds=_s,Ns={callId:"",remoteId:"",remoteDisplayName:"",callDirection:"",callState:"",callDuration:"",callStartedTime:"",callEstablishedTime:"",callEndedTime:"",callAnswerTime:"",callEndReason:"",sessionId:"",setCallDetails:function(e,t,n,r,i,o,a,s,c,l,u,d){this.callId=e,this.remoteId=t,this.remoteDisplayName=n,this.callDirection=r,this.callState=i,this.callDuration=o,this.callStartedTime=a,this.callEstablishedTime=s,this.callEndedTime=c,this.callAnswerTime=l,this.callEndReason=u,this.sessionId=d},getCallId:function(){return this.callId},getRemoteId:function(){return this.remoteId},getRemoteDisplayName:function(){return this.remoteDisplayName},getCallDirection:function(){return this.callDirection},getCallDuration:function(){return this.callDuration},getCallEstablishedTime:function(){return this.callEstablishedTime},getCallStartedTime:function(){return this.callStartedTime},getCallEndedTime:function(){return this.callEndedTime},getSessionId:function(){return this.sessionId},getCallDetails:function(){return{callId:this.callId,remoteId:this.remoteId,remoteDisplayName:this.remoteDisplayName,callDirection:this.callDirection,callState:this.callState,callDuration:this.callDuration,callStartedTime:this.callStartedTime,callEstablishedTime:this.callEstablishedTime,callEndedTime:this.callEndedTime,callAnswerTime:this.callAnswerTime,callEndReason:this.callEndReason,sessionId:this.sessionId}}},Ms={log:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(e,n)},info:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(e,n)},warn:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(e,n)},error:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(e,n)}},Hs=console;function Os(){return Ms||Hs}var Us=n(90).n,$s=Os();function js(){this.Answer=function(){$s.log("Call answered"),Us.pickCall()},this.Hangup=function(){$s.log("call ended"),Us.rejectCall()},this.MuteToggle=function(){$s.log("mute toggle clicked");Us.webRTCMuteUnmute(null)},this.Mute=function(){$s.log("mute clicked");Us.webRTCMuteUnmute(!0)},this.UnMute=function(){$s.log("unmute clicked");Us.webRTCMuteUnmute(!1)},this.HoldToggle=function(){$s.log("Hold toggle clicked"),Us.holdCall()},this.Hold=function(){$s.log("hold clicked");Us.holdCall()},this.UnHold=function(){$s.log("unhold clicked");Us.holdCall()},this.callDetails=function(){return Ns.getCallDetails()}}function Ls(){this.setCallListener=function(e){this.callListener=e}}var qs=Os(),Fs={callback:null,call:null,phone:"",initializeCallback:function(e){this.callback=e},initializeCall:function(e,t){this.call=e,this.phone=t},triggerCallback:function(e){return(0,this.callback)(this.call,e,this.phone)}},zs={registerCallback:null,registerState:null,phone:"",initializeRegisterCallback:function(e){this.registerCallback=e},initializeRegister:function(e,t){this.registerState=e,this.phone=t},triggerRegisterCallback:function(){return(0,this.registerCallback)(this.registerState,this.phone)}},Bs={sessioncallback:null,callState:null,document:null,documentCallback:null,phone:"",initializeSessionCallback:function(e){this.sessioncallback=e},intializeDocumentCallback:function(e){this.documentCallback=e},initializeSession:function(e,t){this.callState=e,this.phone=t},initializeDocument:function(e){this.document=e},triggerDocumentCallback:function(){return(0,this.documentCallback)(this.document)},triggerSessionCallback:function(){var e=this.sessioncallback;return e?e(this.callState,this.phone):void qs.log("Session callback is null")}},Ws={saveDiagnosticsCallback:null,keyValueSetCallback:null,setDiagnosticsReportCallback:function(e){window.localStorage.setItem("troubleShootReport",""),this.saveDiagnosticsCallback=e},setKeyValueCallback:function(e){this.keyValueSetCallback=e},triggerDiagnosticsSaveCallback:function(e,t){return this.saveDiagnosticsCallback(e,t),!0},triggerKeyValueSetCallback:function(e,t,n){return this.keyValueSetCallback&&this.keyValueSetCallback(e,t,n),!0}},Vs={microphoneTestSuccessEvent:function(){Ws.triggerKeyValueSetCallback("mic",100,"mic ok")},microphoneTestFailedEvent:function(){Ws.triggerKeyValueSetCallback("mic",0,"mic failed")},microphoneTestDoneEvent:function(){Ws.triggerKeyValueSetCallback("mic",0,"mic done")},speakerTestSuccessEvent:function(){Ws.triggerKeyValueSetCallback("speaker",!0,"speaker ok")},speakerTestFailedEvent:function(){Ws.triggerKeyValueSetCallback("speaker",!1,"speaker failed")},speakerTestDoneEvent:function(){Ws.triggerKeyValueSetCallback("speaker",!1,"speaker done")},wsConTestSuccessEvent:function(){Ws.triggerKeyValueSetCallback("wss","connected","ws ok")},wsConTestFailedEvent:function(){Ws.triggerKeyValueSetCallback("wss","disconnected","ws failed")},wsConTestDoneEvent:function(){Ws.triggerKeyValueSetCallback("wss","error","ws done")},userRegTestSuccessEvent:function(){Ws.triggerKeyValueSetCallback("userReg","registered","registered")},userRegTestFailedEvent:function(){Ws.triggerKeyValueSetCallback("userReg","unregistered","unregistered")},userRegTestDoneEvent:function(){Ws.triggerKeyValueSetCallback("userReg","error","error done")},udpTestCompletedEvent:function(){Ws.triggerKeyValueSetCallback("udp",!0,"udp ok")},tcpTestCompletedEvent:function(){Ws.triggerKeyValueSetCallback("tcp",!0,"tcp ok")},ipv6TestCompletedEvent:function(){Ws.triggerKeyValueSetCallback("ipv6",!1,"ipv6 done")},hostCandidateTestCompletedEvent:function(){Ws.triggerKeyValueSetCallback("host",!0,"host ok")},reflexCandidateTestCompletedEvent:function(e,t,n){qs.log("diagnosticEventCallback: Received ---\x3e "+e+"param sent...."+n+"for phone...."+t),Ws.triggerKeyValueSetCallback("srflx",!0,"reflex ok")}},Gs=Os();function Ks(){this.onIncomingCall=function(e,t){Gs.log("CallListener:Initialise call"),Fs.initializeCall(e,t),Gs.log("CallListener:Trigger Incoming"),Fs.triggerCallback("incoming")},this.onCallEstablished=function(e,t){Gs.log("CallListener:Initialise call"),Fs.initializeCall(e,t),Gs.log("CallListener:Trigger Connected"),Fs.triggerCallback("connected")},this.onCallEnded=function(e,t){Gs.log("CallListener:Initialise call"),Fs.initializeCall(e,t),Gs.log("CallListener:Trigger Call Ended"),Fs.triggerCallback("callEnded")}}var Ys=Os();function Js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qs,Zs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"onInitializationSuccess",value:function(e){zs.initializeRegister("registered",e),zs.triggerRegisterCallback(),Ws.triggerKeyValueSetCallback("userReg","registered",e)}},{key:"onInitializationFailure",value:function(e){zs.initializeRegister("unregistered",e),zs.triggerRegisterCallback(),Ws.triggerKeyValueSetCallback("userReg","unregistered",e)}},{key:"onInitializationWaiting",value:function(e){zs.initializeRegister("sent_request",e),zs.triggerRegisterCallback(),Ws.triggerKeyValueSetCallback("userReg","sent_request",e)}},{key:"onLog",value:function(e,t,n){}},{key:"onAuthenticationFailure",value:function(){}}])&&Js(t.prototype,n),r&&Js(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Xs=new Uint8Array(16);function ec(){if(!Qs&&!(Qs="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qs(Xs)}var tc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var nc=function(e){return"string"===typeof e&&tc.test(e)},rc=[],ic=0;ic<256;++ic)rc.push((ic+256).toString(16).substr(1));var oc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(rc[e[t+0]]+rc[e[t+1]]+rc[e[t+2]]+rc[e[t+3]]+"-"+rc[e[t+4]]+rc[e[t+5]]+"-"+rc[e[t+6]]+rc[e[t+7]]+"-"+rc[e[t+8]]+rc[e[t+9]]+"-"+rc[e[t+10]]+rc[e[t+11]]+rc[e[t+12]]+rc[e[t+13]]+rc[e[t+14]]+rc[e[t+15]]).toLowerCase();if(!nc(n))throw TypeError("Stringified UUID is invalid");return n};var ac=function(e,t,n){var r=(e=e||{}).random||(e.rng||ec)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return oc(r)},sc=Os();var cc,lc,uc,dc,fc=n(90).n,hc=Os(),pc=document.createElement("audio"),gc={sipml5:{},sipjs:{}};gc.sipjs.started="WS_TEST_PASS",gc.sipjs.failed_to_start="WS_TEST_FAIL",gc.sipjs.transport_error="WS_TEST_FAIL",gc.sipjs.connected_REGISTER="USER_REG_TEST_PASS",gc.sipjs.terminated_REGISTER="USER_REG_TEST_FAIL",gc.sipml5.started="WS_TEST_PASS",gc.sipml5.failed_to_start="WS_TEST_FAIL",gc.sipml5.transport_error="WS_TEST_FAIL",gc.sipml5.connected_REGISTER="USER_REG_TEST_PASS",gc.sipml5.terminated_REGISTER="USER_REG_TEST_FAIL";var vc={},mc={js_yyyy_mm_dd_hh_mm_ss:function(){var e=new Date,t=""+e.getFullYear(),n=""+(e.getMonth()+1);1==n.length&&(n="0"+n);var r=""+e.getDate();1==r.length&&(r="0"+r);var i=""+e.getHours();1==i.length&&(i="0"+i);var o=""+e.getMinutes();1==o.length&&(o="0"+o);var a=""+e.getSeconds();return 1==a.length&&(a="0"+a),t+"-"+n+"-"+r+" "+i+":"+o+":"+a},addToTrobuleshootReport:function(e,t){var n="["+this.js_yyyy_mm_dd_hh_mm_ss()+"] ["+e+"] TROUBLESHOOTER_FSM_REPORT: "+t+"\n";hc.log(n);var r=window.localStorage.getItem("troubleShootReport");r&&(n=r+n),window.localStorage.setItem("troubleShootReport",n),Ws.triggerDiagnosticsSaveCallback("troubleShootReport",n)},getBrowserData:function(){var e,t,n,r=navigator.userAgent,i=navigator.appName,o=""+parseFloat(navigator.appVersion);return-1!==(t=r.indexOf("Edge"))?(i="Microsoft Edge",o=r.substring(t+5)):-1!==(t=r.indexOf("Chrome"))?(i="Chrome",o=r.substring(t+7)):-1!==(t=r.indexOf("MSIE"))?(i="Microsoft Internet Explorer",o=r.substring(t+5)):-1!==(t=r.indexOf("Trident"))?(i="Microsoft Internet Explorer",o=r.substring(t+8)):-1!==(t=r.indexOf("Firefox"))?(i="Firefox",o=r.substring(t+8)):-1!==(t=r.indexOf("Safari"))?(i="Safari",o=r.substring(t+7),-1!==(t=r.indexOf("Version"))&&(o=r.substring(t+8))):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(i=r.substring(e,t),o=r.substring(t+1),i.toLowerCase()===i.toUpperCase()&&(i=navigator.appName)),-1!==(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!==(n=o.indexOf(" "))&&(o=o.substring(0,n)),this.addToTrobuleshootReport("INFO","Browser: "+i+"/"+o+", Platform: "+navigator.platform),i,"Chrome"==i&&this.setDeviceNames(),i+"/"+o},stopSpeakerTesttone:function(){(pc=fc.getSpeakerTestTone()).pause()},stopSpeakerTesttoneWithSuccess:function(){this.stopSpeakerTest(),this.sendDeviceTestingEvent("SPEAKER_TEST_PASS"),this.addToTrobuleshootReport("INFO","Speaker device testing is successfull"),this.addToTrobuleshootReport("INFO","Speaker device testing is completed")},stopSpeakerTesttoneWithFailure:function(){this.stopSpeakerTest(),this.sendDeviceTestingEvent("SPEAKER_TEST_FAIL"),this.addToTrobuleshootReport("INFO","Speaker device testing is failed"),this.addToTrobuleshootReport("INFO","Speaker device testing is completed")},startSpeakerTest:function(){var e=this;try{dc=setInterval((function(){try{pc=fc.getSpeakerTestTone(),hc.log("close last track"),pc.pause(),e.closeAudioTrack(),e.addToTrobuleshootReport("INFO","Speaker device testing is started"),hc.log("speakerTestTone : play start",pc),pc.addEventListener("ended",(function(e){hc.log("speakerTestTone : tone iteration ended")})),hc.log("start new track");var t,n,r,i=pc.play();void 0!==i&&i.then((function(e){hc.log("speakerTestTone : promise successfull")})).catch((function(e){hc.log("speakerTestTone : failed",e)}));try{r=(n=e.getBrowserData()).trim().split("/")[0]}catch(o){r="Firefox"}hc.log("browserVersion = ["+n+"] browserName = ["+r+"]\n"),t="Firefox"==r?pc.mozCaptureStream():pc.captureStream(),e.fillStreamSpeaker(t,"speaker")}catch(a){hc.log("No speakertone to test..\n")}}),1e3)}catch(t){hc.log("speakerTestTone : start failed",t)}},stopSpeakerTest:function(){pc=fc.getSpeakerTestTone();try{clearInterval(dc),dc=0,pc.pause(),this.closeAudioTrack(),this.addToTrobuleshootReport("INFO","Speaker device testing is stopped")}catch(e){hc.log("speakerTestTone : stop failed",e)}},startMicTest:function(){this.closeAudioTrack(),this.addToTrobuleshootReport("INFO","Microphone device testing is inprogress");var e=this;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(t){for(var n=t.getTracks(),r=0;r<n.length;r++){var i=n[r];e.addToTrobuleshootReport("INFO","Device track settings: len: "+n.length+", id:"+i.getSettings().deviceId+", kind: "+i.kind+", label:"+i.label),uc=i}e.fillStreamMicrophone(t,"mic")})).catch((function(t){e.addToTrobuleshootReport("WARNING","Microphone device testing failed"),e.sendDeviceTestingEvent("MICROPHONE_TEST_FAIL"),e.addToTrobuleshootReport("WARNING","Error: "+t.message+", name: "+t.name)}))},stopMicTest:function(){this.closeAudioTrack(),this.addToTrobuleshootReport("INFO","Mic device testing is stopped")},stopMicTestSuccess:function(){this.closeAudioTrack(),this.addToTrobuleshootReport("INFO","Microphone device testing is successful"),this.sendDeviceTestingEvent("MICROPHONE_TEST_PASS"),this.addToTrobuleshootReport("INFO","Mic device testing is completed")},stopMicTestFailure:function(){this.closeAudioTrack(),this.addToTrobuleshootReport("INFO","Microphone device testing is failure"),this.sendDeviceTestingEvent("MICROPHONE_TEST_FAIL"),this.addToTrobuleshootReport("INFO","Mic device testing is failure"),this.addToTrobuleshootReport("INFO","Mic device testing is completed")},setDeviceNames:function(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){var e=this;navigator.mediaDevices.enumerateDevices().then((function(t){for(var n=0;n!==t.length;++n)if(e.addToTrobuleshootReport("INFO","Device: "+t[n].kind+", label: "+t[n].label+", id:"+t[n].deviceId),"default"==t[n].deviceId)if("audiooutput"==t[n].kind){t[n].label;Ws.triggerKeyValueSetCallback("speakerInfo",t[n].label,"speakerInfo")}else if("audioinput"==t[n].kind){t[n].label;Ws.triggerKeyValueSetCallback("micInfo",t[n].label,"micInfo")}})).catch((function(t){e.addToTrobuleshootReport("INFO","Error: "+t.message+", name: "+t.name)}))}else this.addToTrobuleshootReport("INFO","enumerateDevices() not supported.")},closeAudioTrack:function(){hc.log("In close audio track.."),uc&&(uc.stop(),uc=void 0),lc&&(lc.disconnect(),lc=void 0),cc&&(cc.disconnect(),cc=void 0)},fillStreamMicrophone:function(e,t){try{var n=new AudioContext,r=n.createAnalyser(),i=n.createMediaStreamSource(e);lc=n.createScriptProcessor(2048,1,1),r.smoothingTimeConstant=.8,r.fftSize=1024,i.connect(r),r.connect(lc),lc.connect(n.destination),lc.onaudioprocess=function(){var e=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(e);for(var t=0,n=e.length,i=0;i<n;i++)t+=e[i];var o=t/n;Ws.triggerKeyValueSetCallback("mic",o,"mic ok")}}catch(o){hc.log("Media source not available for mic test .."),average=0,Ws.triggerKeyValueSetCallback("mic",average,"mic error")}},fillStreamSpeaker:function(e,t){try{var n=new AudioContext,r=n.createAnalyser(),i=n.createMediaStreamSource(e);cc=n.createScriptProcessor(2048,1,1),r.smoothingTimeConstant=.8,r.fftSize=1024,i.connect(r),r.connect(cc),cc.connect(n.destination),cc.onaudioprocess=function(){var e=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(e);for(var t=0,n=e.length,i=0;i<n;i++)t+=e[i];var o=t/n;Ws.triggerKeyValueSetCallback("speaker",o,"speaker ok")}}catch(o){hc.log("Media source not available for speaker test .."),average=0,Ws.triggerKeyValueSetCallback("speaker",average,"speaker error")}},setUserRegTroubleshootData:function(e){hc.log("No explicit registration sent during testing...")},setWSTroubleshootData:function(e){var t=fc.getWSSUrl();Ws.triggerKeyValueSetCallback("wss",e,t)},startWSAndUserRegistrationTest:function(){try{this.startNetworkProtocolTest()}catch(e){hc.log(e)}},sendEventToWebRTCTroubleshooter:function(e,t){if("CONNECTION"==t&&(e=e+"_"+t),gc.hasOwnProperty(webRTCPhoneEngine)){this.addToTrobuleshootReport("INFO","WebRTCPhoneEvent "+e);var n=gc[webRTCPhoneEngine];n.hasOwnProperty(e)&&(this.sendNetworkTestingEvent(n[e]),this.addToTrobuleshootReport("INFO","TroubleshooterEvent "+n[e]))}},noop:function(){},sendNetworkTestingEvent:function(e){this.addToTrobuleshootReport("INFO","NETWORK EVENT =  "+e)},sendDeviceTestingEvent:function(e){this.addToTrobuleshootReport("INFO","DEVICE EVENT =  "+e)},setTroubleshootCandidateData:function(e,t,n){hc.log("Candidate Data \n\t key = "+e+" status = "+t+"\n\tValue = "+n+"\n\n"),Ws.triggerKeyValueSetCallback(e,t,n)},startCandidatesForTroubleshoot:function(){for(var e=["udp","tcp","ipv6","host","srflx"],t=0;t<e.length;t++){var n=e[t];this.setTroubleshootCandidateData(n,"waiting","")}},proccessCandidatesForTroubleshoot:function(e){vc={udp:!1,udpCandidates:[],tcp:!1,tcpCandidates:[],ipv6:!1,ipv6Candidates:[],host:!1,hostCandidates:[],srflx:!1,srflxCandidates:[]};for(var t=["udp","tcp","ipv6","host","srflx"],n=["connected","connected","connected","connected","connected"],r=["disconnected","disconnected","disconnected","disconnected","disconnected"],i=0;i<e.length;i++){var o=e[i].candidate;this.addToTrobuleshootReport("INFO","Gathered candidate "+o);var a=o.split(" "),s=a[2],c=a[7],l=a[4];"udp"==s||"UDP"==s?(vc.udp=!0,vc.udpCandidates.push(o),o.length>0&&this.sendNetworkTestingEvent("UDP_TEST_COMPLETE")):"tcp"!=s&&"TCP"!=s||(vc.tcp=!0,vc.tcpCandidates.push(o),this.sendNetworkTestingEvent("TCP_TEST_COMPLETE"));try{(l.includes(":")||l.includes("-"))&&(vc.ipv6=!0,vc.ipv6Candidates.push(o),this.sendNetworkTestingEvent("IPV6_TEST_COMPLETE"))}catch(p){this.sendNetworkTestingEvent("IPV6_TEST_COMPLETE")}"host"==c?(vc.host=!0,vc.hostCandidates.push(o),this.sendNetworkTestingEvent("HOST_CON_TEST_COMPLETE")):"srflx"==c&&(vc.srflx=!0,vc.srflxCandidates.push(o),this.sendNetworkTestingEvent("REFLEX_CON_TEST_COMPLETE"))}for(var u=0;u<t.length;u++){var d=t[u];if(vc.hasOwnProperty(d))if(0==(e=vc[d+"Candidates"]).length)this.setTroubleshootCandidateData(d,r[u],""),hc.log("empty candidates:"+e);else{for(var f="found  candidates "+e.length+"\n",h=0;h<e.length;h++)this.setTroubleshootCandidateData(d,n[u],e[h]),f=f+e[h]+"\n";hc.log(f)}}},isCandidateGathered:function(e){return!!vc.hasOwnProperty(e)&&!!vc[e]},startNetworkProtocolTest:function(){var e=this;this.sendNetworkTestingEvent("UDP_TEST_STARTING"),this.sendNetworkTestingEvent("TCP_TEST_STARTING"),this.sendNetworkTestingEvent("IPV6_TEST_STARTING"),this.sendNetworkTestingEvent("HOST_CON_TEST_STARTING"),this.sendNetworkTestingEvent("REFLEX_CON_TEST_STARTING"),this.addToTrobuleshootReport("INFO","Gathering ICE candidates "),this.startCandidatesForTroubleshoot();var t=new RTCPeerConnection({iceServers:[{url:"stun:stun.l.google.com:19302"}]}),n=[];t.addEventListener("icecandidate",(function(e){e.candidate&&n.push(e.candidate)})),t.addEventListener("iceconnectionstatechange",(function(e){hc.log("ice connection state: "+t.iceConnectionState)})),t.addEventListener("icegatheringstatechange",(function(r){e.setWSTroubleshootData("connected"),e.addToTrobuleshootReport("INFO","ice gathering state: "+r.target.iceGatheringState),"complete"==r.target.iceGatheringState&&(e.proccessCandidatesForTroubleshoot(n),t&&t.close())}));t.createOffer({offerToReceiveAudio:1}).then((function(n){t.setLocalDescription(n).then(e.noop,e.noop)}),e.noop)}},yc=Os();function bc(e){yc.log("Request to stopSpeakerTest - Suuccessful Test:\n"),"yes"==e?mc.stopSpeakerTesttoneWithSuccess():"no"==e?mc.stopSpeakerTesttoneWithFailure():mc.stopSpeakerTest()}function Sc(e){yc.log("Request to stopMicTest - Successful Test:\n"),"yes"==e?mc.stopMicTestSuccess():"no"==e?mc.stopMicTestFailure():mc.stopMicTest()}var wc=n(90).n,kc=new Map,Tc=Os();function Cc(e){var t,n="",r=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]});r.createDataChannel(""),r.createOffer().then((function(e){return r.setLocalDescription(e)})),r.onicecandidate=function(e){if(!e||!e.candidate||!e.candidate.candidate)return Tc.log("all done."),r.close(),"";Tc.log("iceCandidate ="+e.candidate.candidate);var t=e.candidate.candidate.split(" ");"host"===t[7]?Tc.log("fetchPublicIP:Local IP : ".concat(t[4])):(Tc.log("fetchPublicIP:External IP : ".concat(t[4])),n="".concat(t[4]),Tc.log("fetchPublicIP:Public IP :"+n),localStorage.setItem("contactHost",n),r.close())},(t=500,new Promise((function(e){return setTimeout(e,t)}))).then((function(){Tc.log("fetchPublicIP: public ip = ",n),e.contactHost=""==n?window.localStorage.getItem("contactHost"):n}))}function Ec(e){var t=e;this.setTestingMode=function(e){Tc.log("delegationHandler: setTestingMode\n")},this.onCallStatSipJsSessionEvent=function(e){Tc.log("delegationHandler: onCallStatSipJsSessionEvent\n")},this.sendWebRTCEventsToFSM=function(e,n){Tc.log("delegationHandler: sendWebRTCEventsToFSM\n"),Tc.log("delegationHandler: eventType\n",e),Tc.log("delegationHandler: sipMethod\n",n),"CONNECTION"==n?t.registerEventCallback(e,t.userName):"CALL"==n&&t.callEventCallback(e,t.userName,t.call)},this.playBeepTone=function(){Tc.log("delegationHandler: playBeepTone\n")},this.onStatPeerConnectionIceGatheringStateChange=function(e){Tc.log("delegationHandler: onStatPeerConnectionIceGatheringStateChange\n")},this.onCallStatIceCandidate=function(e,t){Tc.log("delegationHandler: onCallStatIceCandidate\n")},this.onCallStatNegoNeeded=function(e){Tc.log("delegationHandler: onCallStatNegoNeeded\n")},this.onCallStatSignalingStateChange=function(e){Tc.log("delegationHandler: onCallStatSignalingStateChange\n")},this.onStatPeerConnectionIceConnectionStateChange=function(){Tc.log("delegationHandler: onStatPeerConnectionIceConnectionStateChange\n")},this.onStatPeerConnectionConnectionStateChange=function(){Tc.log("delegationHandler: onStatPeerConnectionConnectionStateChange\n")},this.onGetUserMediaSuccessCallstatCallback=function(){Tc.log("delegationHandler: onGetUserMediaSuccessCallstatCallback\n")},this.onGetUserMediaErrorCallstatCallback=function(){Tc.log("delegationHandler: onGetUserMediaErrorCallstatCallback\n")},this.onCallStatAddStream=function(){Tc.log("delegationHandler: onCallStatAddStream\n")},this.onCallStatRemoveStream=function(){Tc.log("delegationHandler: onCallStatRemoveStream\n")},this.setWebRTCFSMMapper=function(e){Tc.log("delegationHandler: setWebRTCFSMMapper : Initialisation complete \n")},this.onCallStatSipJsTransportEvent=function(){Tc.log("delegationHandler: onCallStatSipJsTransportEvent\n")},this.onCallStatSipSendCallback=function(){Tc.log("delegationHandler: onCallStatSipSendCallback\n")},this.onCallStatSipRecvCallback=function(){Tc.log("delegationHandler: onCallStatSipRecvCallback\n")},this.stopCallStat=function(){Tc.log("delegationHandler: stopCallStat\n")},this.onRecieveInvite=function(){Tc.log("delegationHandler: onRecieveInvite\n")},this.onPickCall=function(){Tc.log("delegationHandler: onPickCall\n")},this.onRejectCall=function(){Tc.log("delegationHandler: onRejectCall\n")},this.onCreaterAnswer=function(){Tc.log("delegationHandler: onCreaterAnswer\n")},this.onSettingLocalDesc=function(){Tc.log("delegationHandler: onSettingLocalDesc\n")},this.initGetStats=function(e,t,n){Tc.log("delegationHandler: initGetStats\n")},this.onRegisterWebRTCSIPEngine=function(e){Tc.log("delegationHandler: onRegisterWebRTCSIPEngine, engine=\n",e)}}function Rc(){this.onFailure=function(){Tc.log("synchronousHandler: onFailure, phone is offline.\n")},this.onResponse=function(){Tc.log("synchronousHandler: onResponse, phone is connected.\n")}}function xc(){var e=null,t=null;this.initWebrtc=function(n,r,i,o){return this.eventListener||(this.eventListener=e=new Zs),this.callListener||(this.callListener=t=new Ks),this.ctrlr||(this.ctrlr=new Ls),this.call||(this.call=new js),Tc.log("Exotel Client Initialised with "+JSON.stringify(n)),this.sipAccountInfo=n,!!(this.sipAccountInfo.userName&&this.sipAccountInfo.sipdomain&&this.sipAccountInfo.port)&&(this.sipAccountInfo.sipUri="wss://"+this.sipAccountInfo.userName+"@"+this.sipAccountInfo.sipdomain+":"+this.sipAccountInfo.port,Fs.initializeCallback(i),zs.initializeRegisterCallback(r),Tc.log("Initializing session callback"),Bs.initializeSessionCallback(o),this.setEventListener(e),!0)},this.DoRegister=function(){!function(e,t){try{t.initialize("IN",e.domain,e.userName,e.displayname,e.accountSid,"",e)}catch(n){Ys.log("Register failed ",n)}}(this.sipAccountInfo,this)},this.UnRegister=function(){!function(e,t){try{t.unregister(e)}catch(n){Ys.log("Unregister failed ",n)}}(this.sipAccountInfo,this)},this.initDiagnostics=function(e,t){!function(e,t){if(t&&e){Ws.setKeyValueCallback(t),Ws.setDiagnosticsReportCallback(e);var n=mc.getBrowserData();Ws.keyValueSetCallback("browserVersion","ready",n)}else yc.log("Callbacks are not set")}(e,t)},this.closeDiagnostics=function(){Ws.setKeyValueCallback(null),Ws.setDiagnosticsReportCallback(null)},this.startSpeakerDiagnosticsTest=function(){yc.log("Request to startSpeakerTest:\n"),mc.startSpeakerTest()},this.stopSpeakerDiagnosticsTest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";bc(e)},this.startMicDiagnosticsTest=function(){yc.log("Request to startMicTest:\n"),mc.startMicTest()},this.stopMicDiagnosticsTest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";Sc(e)},this.startNetworkDiagnostics=function(){yc.log("Request to start network diagnostics:\n"),mc.startWSAndUserRegistrationTest(),this.DoRegister()},this.stopNetworkDiagnostics=function(){yc.log("Request to stop network diagnostics:\n")},this.SessionListener=function(){!function(){new BroadcastChannel("app-data").addEventListener("message",(function(e){if("re-register-needed"==e.data.message)Bs.initializeSession("re-register",e.data.hashMsg),Bs.triggerSessionCallback();else if("logout"==e.data.message)Bs.initializeSession("logout",""),Bs.triggerSessionCallback();else if("login-successful"==e.data.message){var t={phone:window.localStorage.getItem("currentUser"),tabHash:e.data.tabHash};Bs.initializeSession("login-successful",JSON.stringify(t)),Bs.triggerSessionCallback()}else null!==window.sessionStorage.getItem("activeSessionTab")&&(null!==e.data.callState&&void 0!==e.data.callState&&Bs.initializeSession(e.data.callState,e.data.callNumber),Bs.triggerSessionCallback())})),window.localStorage.setItem("REQUESTING_SHARED_CREDENTIALS",Date.now().toString()),window.localStorage.removeItem("REQUESTING_SHARED_CREDENTIALS");var e={user:window.sessionStorage.getItem("user"),selectedPhone:window.localStorage.getItem("selectedPhone")};window.addEventListener("storage",(function(t){if("REQUESTING_SHARED_CREDENTIALS"===t.key&&e&&(window.localStorage.setItem("CREDENTIALS_SHARING",JSON.stringify(e)),window.localStorage.removeItem("CREDENTIALS_SHARING")),"CREDENTIALS_SHARING"!==t.key||null===e)"CREDENTIALS_FLUSH"===t.key&&e&&(window.sessionStorage.removeItem("user"),window.sessionStorage.removeItem("selectedPhone"),window.sessionStorage.removeItem("isAuthenticated"),window.sessionStorage.removeItem("activeSession")),"CALL_FLUSH"===t.key&&window.sessionStorage.removeItem("activeSession");else{var n=JSON.parse(t.newValue);null!==t.newValue&&(window.sessionStorage.setItem("user",n.user),window.sessionStorage.setItem("isAuthenticated",!0));var r={tabID:ac(),tabType:"child",tabStatus:"active"},i=JSON.parse(window.localStorage.getItem("tabs"));if(null!==window.sessionStorage.getItem("activeSessionTab")&&"parent0"==window.sessionStorage.getItem("activeSessionTab"))if(sc.log("Adding a child tab spawned from parent...."),i.length>1&&"parent0"==window.sessionStorage.getItem("activeSessionTab")){if(!document.hidden){var o=i.length-1;window.sessionStorage.setItem("activeSessionTab",i[o].tabID)}}else{i.push(r),window.localStorage.removeItem("tabs"),window.localStorage.setItem("tabs",JSON.stringify(i));var a=i.length-1;window.sessionStorage.setItem("activeSessionTab",i[a].tabID)}else{var s=i.length-1;window.sessionStorage.setItem("activeSessionTab",i[s].tabID)}}}))}()},this.getCallController=function(){return this.ctrlr},this.getCall=function(){return this.call||(this.call=new js),this.call},this.setEventListener=function(e){this.eventListener=e},this.registerEventCallback=function(t,n,r){Tc.log("Dialer: registerEventCallback: Received ---\x3e "+t+"phone....",n+"param....",r),"connected"===t?e.onInitializationSuccess(n):"failed_to_start"===t||"transport_error"===t?e.onInitializationFailure(n):"sent_request"===t&&e.onInitializationWaiting(n)},this.callEventCallback=function(e,n,r){Tc.log("Dialer: callEventCallback: Received ---\x3e "+e+"param sent...."+r+"for phone...."+n),"i_new_call"===e?t.onIncomingCall(r,n):"connected"===e?t.onCallEstablished(r,n):"terminated"===e&&t.onCallEnded(r,n)},this.diagnosticEventCallback=function(e,t,n){Vs.sendDiagnosticEvent(e,t,n)},this.unregister=function(e){wc.unregister(e)},this.webRTCStatusCallbackHandler=function(e,t){Tc.log("webRTCStatusCallbackHandler: "+e+" "+t)},this.initialize=function(e,t,n,r,i,o,a){var s=a.port;this.sipAccntInfo={userName:"",authUser:"",domain:"",sipdomain:"",displayname:"",accountSid:"",secret:"",sipUri:"",security:"",port:"",contactHost:""},Tc.log("Sending register for the number..",n),Cc(a),this.domain=this.hostName=a.domain,this.sipdomain=a.sipdomain,this.accountName=this.userName=a.userName,this.authUser=this.subscriberName=a.authUser,this.displayName=a.displayName,this.accountSid="exotelt1",this.subscriberToken=a.secret,this.secret=this.password=a.secret,this.security=a.security,this.port=a.port,this.contactHost=a.contactHost,this.sipWsPort=5061,this.sipPort=5061,this.sipSecurePort=5062;var c=s;"ws"===this.security&&(c=4442),this.sipAccntInfo.userName=this.userName,this.sipAccntInfo.authUser=this.subscriberName,this.sipAccntInfo.domain=this.hostName,this.sipAccntInfo.sipdomain=this.sipdomain,this.sipAccntInfo.accountName=this.userName,this.sipAccntInfo.secret=this.password,this.sipAccntInfo.sipuri=this.sipuri,this.sipAccntInfo.security=this.security,this.sipAccntInfo.port=c,this.sipAccntInfo.contactHost=this.contactHost,localStorage.setItem("contactHost",this.contactHost);var l=new Rc(this),u=new Ec(this),d=this.userName;wc.registerPhone("sipjs",u),wc.registerWebRTCClient(this.sipAccntInfo,l),kc.set(d,undefined)}}var Ic=["children","value","index"],Ac=Mr(xi)((function(e){var t=e.theme;return u(u({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary,boxShadow:"none"})})),Pc="false";var _c=function(){var t=s(e.useState(""),2),n=t[0],r=t[1],o=s(e.useState(0),2),a=o[0],c=o[1],l=s(e.useState("Not Registered"),2),f=l[0],h=l[1],p=s(e.useState("Diagnostics Info"),2),g=p[0],v=p[1],m=s(e.useState("Diagnostics Logs"),2),y=m[0],b=m[1],S=s(e.useState(""),2),w=S[0],k=S[1],T=s(e.useState(""),2),C=T[0],E=T[1],R=s(e.useState(""),2),x=R[0],I=R[1],A=s(e.useState(""),2),P=A[0],_=A[1],D=s(e.useState(""),2),N=D[0],M=D[1],H=s(e.useState(""),2),O=H[0],U=H[1],$=s(e.useState(""),2),j=$[0],L=$[1],q=s(e.useState(""),2),F=q[0],z=q[1],B=s(e.useState([]),2),W=B[0],V=B[1],G=s(e.useState(!1),2),K=G[0],Y=G[1],J=s(e.useState("No Call Info"),2),Q=J[0],Z=J[1],X=s(e.useState(""),2),ee=X[0],te=X[1],ne=s(e.useState(""),2),re=ne[0],ie=ne[1],oe=s(e.useState(""),2),ae=oe[0],se=oe[1],ce=s(e.useState(""),2),le=ce[0],ue=ce[1],de=s(e.useState(!1),2),fe=de[0],he=de[1],pe=s(e.useState(!1),2),ge=pe[0],ve=pe[1],me=s(e.useState(!1),2),ye=me[0],be=me[1],Se=s(e.useState(!1),2),we=Se[0],ke=Se[1],Te=s(e.useState(!1),2),Ce=Te[0],Ee=Te[1],Re=s(e.useState(!1),2),xe=Re[0],Ie=Re[1],Ae=s(e.useState(!1),2),Pe=Ae[0],_e=Ae[1],De=0,Ne=0,Me={userName:d[0].Username,authUser:d[0].Username,sipdomain:d[0].Domain,domain:d[0].HostServer+":"+d[0].Port,displayname:d[0].DisplayName,secret:d[0].Password,port:d[0].Port,security:d[0].Security},He=(0,e.useRef)(null),Oe=(0,e.useRef)(null),Ue=(0,e.useRef)(null),$e=(0,e.useRef)(null),je=(0,e.useRef)(null),Le=(0,e.useRef)(null),qe=(0,e.useRef)(null),Fe=(0,e.useRef)(null),ze=(0,e.useRef)(null),Be=(0,e.useRef)(null),We=(0,e.useRef)(null),Ve=(0,e.useRef)(null),Ge=new xc,Ke={Username:(0,e.useRef)(null),DisplayName:(0,e.useRef)(null),HostServer:(0,e.useRef)(null),Domain:(0,e.useRef)(null),Port:(0,e.useRef)(null),Password:(0,e.useRef)(null),CallTimeout:(0,e.useRef)(null),AccountSID:(0,e.useRef)(null),AccountNo:(0,e.useRef)(null),AutoRegistration:(0,e.useRef)(null)};function Ye(){r(d[0]),Y(!0)}function Je(e,t,n){Z("Call Listener\n Message:"+JSON.stringify(e)+"\n EventType:"+t+"\n Phone:"+n),te(e),ie(t),se(n),ue(Ge.getCall()),"incoming"===t?_e(!0):"connected"===t?(_e(!1),Ie(!0)):("callEnded"===t||"terminated"===t)&&(_e(!1),Ie(!1))}function Qe(e,t){h("false"===Pc?"Register:\n State:"+e+"\n User:"+t:"UnRegister:\n State:"+e+"\n User:"+t),"registered"===e?(Pc="false",he(!0)):"unregistered"===e?he(!1):"connected"===e?(Pc="false",he(!0)):"terminated"===e?he(!1):"sent_request"===e&&"true"===Pc&&(Pc="false",he(!1))}function Ze(e,t){console.log("Session state:",e,"for number...",t)}function Xe(){K&&(Me.userName=n.Username,Me.authUser=n.Username,Me.sipdomain=n.Domain,Me.domain=n.HostServer+":"+n.Port,Me.displayname=n.DisplayName,Me.secret=n.Password,Me.port=n.Port,Me.security=n.Security,Ge.initWebrtc(Me,Qe,Je,Ze))}function et(e,t){return{configparam:e,configvalue:t}}function tt(){ot(),n.Username=Ke.Username.current.value,n.Domain=Ke.Domain.current.value,n.HostServer=Ke.HostServer.current.value,n.Port=Ke.Port.current.value,n.DisplayName=Ke.DisplayName.current.value,n.Password=Ke.Password.current.value,n.AccountSID=Ke.AccountSID.current.value,n.AccountNo=Ke.AccountNo.current.value,n.AutoRegistration=Ke.AutoRegistration.current.value,n.CallTimeout=Ke.CallTimeout.current.value,it()}function nt(e){var t=e.children,n=e.value,r=e.index,o=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ic);return(0,qr.jsx)("div",u(u({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},o),{},{children:n===r&&(0,qr.jsx)(Da,{sx:{p:3},children:(0,qr.jsx)(Aa,{component:"span",children:t})})}))}function rt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(0,e.useEffect)((function(){K||(r(d[0]),Y(!0))}),[K]);var it=function(){He.current="Sent register request:"+n.Username,h(He.current),K||Ye(),Pc="false",Xe(),console.log("App.js: Calling DoRegister"),Ge.DoRegister()},ot=function(){He.current="Sent unregister request:"+n.Username,h(He.current),K||Ye(),Xe(),Pc="true",Ge.UnRegister()},at=function(){console.log("registrationStatusChanged to: ",He)},st=function(e){console.log("diagnosticsChanged to: ",Ue)},ct=function(){console.log("diagnosticsLogsChanged to: ",$e)},lt=function(){console.log("diagnosticsSpeakerChanged to: ",je)},ut=function(){console.log("diagnosticsMicChanged to: ",Le)},dt=function(){console.log("diagnosticsWssChanged to: ",qe)},ft=function(){console.log("diagnosticsTcpChanged to: ",ze)},ht=function(){console.log("diagnosticsUdpChanged to: ",Be)},pt=function(){console.log("diagnosticsHostChanged to: ",We)},gt=function(){console.log("diagnosticsReflexChanged to: ",Ve)},vt=function(){console.log("diagnosticsRegChanged to: ",Fe)};function mt(){console.log("Call needs to be accepted"),console.log("callObject = ",JSON.stringify(ee)),console.log("callEvent = ",re),console.log("callFrom = ",ae),le.Answer()}function yt(){console.log("Call needs to be rejected"),console.log("callObject = ",JSON.stringify(ee)),console.log("callEvent = ",re),console.log("callFrom = ",ae),le.Hangup()}function bt(){console.log("Call needs to be muted"),console.log("callObject = ",JSON.stringify(ee)),console.log("callEvent = ",re),console.log("callFrom = ",ae),le.Mute()}function St(){console.log("Call needs to hold"),console.log("callObject = ",JSON.stringify(ee)),console.log("callEvent = ",re),console.log("callFrom = ",ae),le.Hold()}var wt=function(){console.log("callInfoChanged to: ",n,Oe)};function kt(e,t){console.log("saveLogs: ",e,t),b(t)}function Tt(e,t,n){if("speakerInfo"===e)v(g+"\n"+e+"="+JSON.stringify(t)),console.log("diagnosticsKeyValueCallback speakerInfo:"+e+"="+JSON.stringify(t));else if("micInfo"===e)v(g+"\n"+e+"="+ +JSON.stringify(t)),console.log("diagnosticsKeyValueCallback micInfo:"+e+"="+JSON.stringify(t));else if("browserVersion"===e)v(g+"\n"+e+"="+n),ve(!0);else if("speaker"===e){var r=(new Date).getMilliseconds();Math.abs(r-De)>500&&k(n+":"+t),De=r}else if("mic"===e){var i=(new Date).getMilliseconds();Math.abs(i-Ne)>500&&E(n+":"+t),Ne=i}else"wss"===e?I(e+":"+t+":"+n):"userReg"===e?z(e+":"+t+":"+n):"tcp"===e?_(e+":"+t+":"+n):"udp"===e?M(e+":"+t+":"+n):"host"===e?U(e+":"+t+":"+n):"srflx"===e?L(e+":"+t+":"+n):console.log("diagnosticsKeyValueCallback: unknown key="+e+" status="+t+" description="+n)}function Ct(){console.log("Diagnostics needs to be initialised"),K||Ye(),ge||Ge.initDiagnostics(kt,Tt)}function Et(){console.log("Diagnostics needs to be terminated"),K&&ge&&(Ge.closeDiagnostics(),ve(!1),ke(!1),be(!1),Ee(!1),v("Diagnostics Not Initialised"))}function Rt(){console.log("Speaker Test needs to be started"),K&&ge&&(we||(De=0,Ge.startSpeakerDiagnosticsTest(),ke(!0)))}function xt(){console.log("Speaker Test needs to be stopped, with success response"),K&&ge&&we&&(Ge.stopSpeakerDiagnosticsTest("yes"),ke(!1))}function It(){console.log("Speaker Test needs to be stopped, with failure response"),K&&ge&&we&&(Ge.stopSpeakerDiagnosticsTest("no"),ke(!1))}function At(){console.log("Speaker Test needs to be stopped"),K&&ge&&we&&(Ge.stopSpeakerDiagnosticsTest(),ke(!1))}function Pt(){console.log("Mic Test needs to be started"),be(!0),K&&ge&&(ye||(Ne=0,Ge.startMicDiagnosticsTest(),be(!0)))}function _t(){console.log("Mic Test needs to be stopped, with success response"),K&&ge&&ye&&(Ge.stopMicDiagnosticsTest("yes"),be(!1))}function Dt(){console.log("Mic Test needs to be stopped, with failure response"),K&&ge&&ye&&(Ge.stopMicDiagnosticsTest("no"),be(!1))}function Nt(){console.log("Mic Test needs to be stopped"),K&&ge&&ye&&(Ge.stopMicDiagnosticsTest(),be(!1))}function Mt(){console.log("NW Test needs to be started"),K&&ge&&(Ce||(K||Ye(),Xe(),Ge.startNetworkDiagnostics(),Ee(!0)))}function Ht(){console.log("NW Test needs to be stopped"),K&&ge&&Ce&&(Ge.stopNetworkDiagnostics(),Ee(!1))}return(0,qr.jsxs)("div",{className:"App",children:[(0,qr.jsx)("header",{className:"App-header",children:"Simple SIP Phone"}),(0,qr.jsx)(Da,{sx:{borderBottom:1,borderColor:"divider"},children:(0,qr.jsxs)(ga,{value:a,onChange:function(e,t){Ye(),function(){var e=[];e.push(et("Username",n.Username)),e.push(et("DisplayName",n.DisplayName)),e.push(et("HostServer",n.HostServer)),e.push(et("Domain",n.Domain)),e.push(et("Port",n.Port)),e.push(et("Password",n.Password)),e.push(et("CallTimeout",n.CallTimeout)),e.push(et("AccountSID",n.AccountSID)),e.push(et("AccountNo",n.AccountNo)),e.push(et("AutoRegistration",n.AutoRegistration)),V(e)}(),c(t)},"aria-label":"SIPPhoneTabs",children:[(0,qr.jsx)(Sa,u({label:"Demo"},rt(0))),(0,qr.jsx)(Sa,u({label:"Config"},rt(1))),(0,qr.jsx)(Sa,u({label:"Diagnostics"},rt(2)))]})}),(0,qr.jsx)(nt,{component:"span",value:a,index:0,children:(0,qr.jsx)(za,{container:!0,spacing:2,children:(0,qr.jsx)(za,{item:!0,xs:6,children:(0,qr.jsx)(Ac,{children:(0,qr.jsxs)(Ka,{spacing:2,children:[(0,qr.jsxs)(Ac,{children:[(0,qr.jsx)("textarea",{style:{width:400,height:300,resize:"none"},ref:He,value:f,onChange:at}),(0,qr.jsx)("br",{}),K&&!fe?(0,qr.jsx)(is,{variant:"outlined",onClick:it,children:"Register"}):null,fe?(0,qr.jsx)(is,{variant:"outlined",onClick:ot,children:"UnRegister"}):null]}),(0,qr.jsxs)(Ac,{children:[(0,qr.jsx)("textarea",{style:{width:400,height:300,resize:"none"},ref:Oe,value:Q,onChange:wt}),(0,qr.jsx)("br",{}),fe&&Pe?(0,qr.jsx)(is,{variant:"outlined",onClick:mt,children:"Accept Call"}):null,fe&&(xe||Pe)?(0,qr.jsx)(is,{variant:"outlined",onClick:yt,children:"Reject Call"}):null,fe&&xe?(0,qr.jsx)(is,{variant:"outlined",onClick:bt,children:"Mute Toggle"}):null,fe&&xe?(0,qr.jsx)(is,{variant:"outlined",onClick:St,children:"Hold Toggle"}):null]})]})})})})}),(0,qr.jsx)(nt,{component:"span",value:a,index:1,children:(0,qr.jsxs)(ui,{component:xi,children:[(0,qr.jsxs)(Vr,{sx:{maxWidth:600},"aria-label":"simple table",children:[(0,qr.jsx)(vi,{children:(0,qr.jsxs)(ki,{children:[(0,qr.jsx)(ai,{children:"Config Params"}),(0,qr.jsx)(ai,{align:"center",children:"Config Value"})]})}),(0,qr.jsx)(Xr,{children:W.map((function(e){return(0,qr.jsxs)(ki,{children:[(0,qr.jsx)(ai,{component:"th",scope:"row",children:e.configparam}),(0,qr.jsx)(ai,{align:"center",children:(0,qr.jsx)(Ds,{fullWidth:!0,inputRef:Ke[e.configparam],id:e.configparam,name:e.configparam,defaultValue:e.configvalue?e.configvalue.toString():""})})]},e.configparam)}))})]}),(0,qr.jsx)(is,{variant:"outlined",onClick:tt,children:"Update"})]})}),(0,qr.jsx)(nt,{component:"span",value:a,index:2,children:(0,qr.jsx)(za,{container:!0,spacing:2,children:(0,qr.jsx)(za,{item:!0,xs:12,children:(0,qr.jsxs)(Ka,{spacing:2,children:[(0,qr.jsx)(Ac,{children:(0,qr.jsxs)(za,{container:!0,spacing:2,children:[(0,qr.jsxs)(za,{item:!0,xs:4,children:[(0,qr.jsx)("textarea",{style:{width:400,height:100,resize:"none"},ref:Ue,value:g,onChange:st}),(0,qr.jsx)("br",{}),K&&!ge?(0,qr.jsx)(is,{variant:"outlined",onClick:Ct,children:"Init Diagnostics"}):null,ge?(0,qr.jsx)(is,{variant:"outlined",onClick:Et,children:"End Diagnostics"}):null]}),ge?(0,qr.jsxs)(za,{item:!0,xs:8,children:["Troubleshooting Logs",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:800,height:200,resize:"none"},ref:$e,value:y,onChange:ct})]}):null]})}),ge?(0,qr.jsxs)(Ac,{children:[(0,qr.jsxs)(za,{item:!0,xs:16,container:!0,spacing:2,children:[(0,qr.jsxs)(za,{item:!0,xs:4,children:[ge&&!we?(0,qr.jsx)(is,{variant:"outlined",onClick:Rt,children:"Start Speaker Test"}):null,ge&&we?(0,qr.jsx)(is,{variant:"outlined",onClick:xt,children:"Stop Speaker Test Success"}):null,ge&&we?(0,qr.jsx)(is,{variant:"outlined",onClick:It,children:"Stop Speaker Test Failure"}):null,ge&&we?(0,qr.jsx)(is,{variant:"outlined",onClick:At,children:"Stop Speaker Test"}):null]}),(0,qr.jsxs)(za,{item:!0,xs:4,children:[ge&&!ye?(0,qr.jsx)(is,{variant:"outlined",onClick:Pt,children:"Start Mic Test"}):null,ge&&ye?(0,qr.jsx)(is,{variant:"outlined",onClick:_t,children:"Stop Mic Test Success"}):null,ge&&ye?(0,qr.jsx)(is,{variant:"outlined",onClick:Dt,children:"Stop Mic Test Failure"}):null,ge&&ye?(0,qr.jsx)(is,{variant:"outlined",onClick:Nt,children:"Stop Mic Test"}):null]}),(0,qr.jsxs)(za,{item:!0,xs:4,children:[ge&&!Ce?(0,qr.jsx)(is,{variant:"outlined",onClick:Mt,children:"Start NW Test"}):null,ge&&Ce?(0,qr.jsx)(is,{variant:"outlined",onClick:Ht,children:"Stop NW Test"}):null]})]}),(0,qr.jsx)("br",{}),(0,qr.jsxs)(za,{item:!0,xs:16,container:!0,spacing:2,children:[(0,qr.jsx)(za,{item:!0,xs:4,children:ge&&we?(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:je,value:w,onChange:lt}):null}),(0,qr.jsx)(za,{item:!0,xs:4,children:ge&&ye?(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:Le,value:C,onChange:ut}):null}),(0,qr.jsx)(za,{item:!0,xs:4,children:ge&&Ce?(0,qr.jsx)(za,{item:!0,xs:4,children:(0,qr.jsxs)(Ka,{spacing:2,children:[(0,qr.jsxs)(Ac,{children:["WSS",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:qe,value:x,onChange:dt})]}),(0,qr.jsxs)(Ac,{children:["UserReg",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:Fe,value:F,onChange:vt})]}),(0,qr.jsxs)(Ac,{children:["TCP",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:ze,value:P,onChange:ft})]}),(0,qr.jsxs)(Ac,{children:["UDP",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:Be,value:N,onChange:ht})]}),(0,qr.jsxs)(Ac,{children:["Host",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:We,value:O,onChange:pt})]}),(0,qr.jsxs)(Ac,{children:["Reflex",(0,qr.jsx)("br",{}),(0,qr.jsx)("textarea",{style:{width:400,height:50,resize:"none"},ref:Ve,value:j,onChange:gt})]})]})}):null})]})]}):null]})})})})]})},Dc=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,qr.jsx)(e.StrictMode,{children:(0,qr.jsx)(_c,{})})),Dc()}()}();
//# sourceMappingURL=main.086c411b.js.map